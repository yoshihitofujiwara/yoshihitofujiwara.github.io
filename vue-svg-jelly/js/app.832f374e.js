(function(t){function e(e){for(var i,u,o=e[0],s=e[1],c=e[2],f=0,l=[];f<o.length;f++)u=o[f],r[u]&&l.push(r[u][0]),r[u]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);h&&h(e);while(l.length)l.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(i=!1)}i&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var i={},r={app:0},a=[];function u(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=i,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)u.d(n,i,function(e){return t[e]}.bind(null,i));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("SvgJelly",{ref:"svg",attrs:{image:"./assets/img/img02x500.jpg",path:"M475 250 Q 475 343 409 409 Q 343 475 250 475 Q 157 475 91 409 Q 25 343 25 250 Q 25 157 91 91 Q 157 25 250 25 Q 343 25 409 91 Q 475 157 475 250",options:{mass:1,friction:.85,k:.25,restLength:0,maxSpeed:20,range:180}}})],1)},a=[],u=(n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{on:{mousemove:t.mousemove,mouseout:t.mouseout}},[n("image",{attrs:{"xlink:href":t.image,width:"100%",height:"100%",x:"0",y:"0","clip-path":"url(#clipPath)"}}),n("clipPath",{attrs:{id:"clipPath"}},[n("path",{attrs:{d:t.d}})])])}),o=[],s=(n("4917"),n("c5f6"),n("28a5"),n("a481"),n("d225")),c=n("b0b4"),h=(n("673e"),n("5176")),f=n.n(h),l=(n("6b54"),Object.prototype.toString),v=180/Math.PI,d=Math.PI/180;function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.random();if(t>e){var i=t;t=e,e=i}return n*(e-t)+t}function g(t){return t*d}function p(t){return!!t&&"[object Object]"===l.call(t)}function x(t){return"[object Number]"===l.call(t)}var k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(s["a"])(this,t),p(e)&&(n=e.y||0,e=e.x||0),this.x=e,this.y=n}return Object(c["a"])(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"identity",value:function(){return this.x=0,this.y=0,this}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"mult",value:function(t){return this.x*=t,this.y*=t,this}},{key:"div",value:function(t){return this.x/=t,this.y/=t,this}},{key:"setMag",value:function(e){var n=t.radToVector2(this.angle(),e);return this.set(n.x,n.y),this}},{key:"magSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"mag",value:function(){return Math.sqrt(this.magSq(this.x,this.y))}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"setAngle",value:function(e){var n=t.radToVector2(e,this.mag());return this.set(n.x,n,y),this}},{key:"addAngle",value:function(t){return this.setAngle(this.angle()+t),this}},{key:"subAngle",value:function(t){return this.setAngle(this.angle()-t),this}},{key:"multAngle",value:function(t){return this.setAngle(this.angle()*t),this}},{key:"divAngle",value:function(t){return this.setAngle(this.angle()/t),this}},{key:"normalize",value:function(){var t=this.mag();return 0!==t&&this.div(t),this}},{key:"limit",value:function(t){return t*t<this.magSq()&&this.normalize().mult(t),this}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*(e||0),this.y+=(t.y-this.y)*(e||0),this}},{key:"dot",value:function(e){return t.dot(this,e)}},{key:"cross",value:function(e){return t.cross(this,e)}},{key:"diff",value:function(e){return new t(Math.abs(this.x-e.x),Math.abs(this.y-e.y))}},{key:"diffMag",value:function(t){return t.diff(this).mag()}},{key:"diffRad",value:function(t){var e=Math.atan2(this.y,this.x),n=Math.atan2(t.y,t.x);return Math.abs(n-e)}},{key:"diffDeg",value:function(t){return this.diffRad(t)*v}},{key:"betweenMag",value:function(t,e){var n=this.mag(),i=t.mag();return e=x(e)?e:.5,n+(i-n)*e}},{key:"betweenRad",value:function(t,e){var n=Math.atan2(this.y,this.x),i=Math.atan2(t.y,t.x);return e=x(e)?e:.5,n+(i-n)*e}},{key:"betweenDeg",value:function(t,e){return this.betweenRad(t,e)*v}}],[{key:"radToVector2",value:function(e,n){return new t(Math.cos(e)*n,Math.sin(e)*n)}},{key:"degToVector2",value:function(e,n){return t.radToVector2(e*d,n)}},{key:"random",value:function(e){return t.radToVector2(m(void 0),e)}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"distance",value:function(e,n){var i=new t(e.x,e.y);return i.sub(n).mag()}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"cross",value:function(t,e){return t.x*e.y-t.y*e.x}},{key:"lerp",value:function(t,e,n){var i=t.clone();return i.leap(e,n),i}},{key:"add",value:function(e,n){var i=new t(e.x,e.y);return i.add(n)}},{key:"sub",value:function(e,n){var i=new t(e.x,e.y);return i.sub(n)}},{key:"mult",value:function(e,n){var i=new t(e.x,e.y);return i.mult(n)}},{key:"div",value:function(e,n){var i=new t(e.x,e.y);return i.div(n)}},{key:"magSq",value:function(t){return t.x*t.x+t.y*t.y}},{key:"mag",value:function(e){var n=new t(e.x,e.y);return n.mag()}},{key:"degToVector2",value:function(e,n){var i=t.radToVector2(g(e),n);return i.setAngleMode(!0),i}},{key:"angle",value:function(t){return Math.atan2(t.y,t.x)}},{key:"angleBetween",value:function(t,e){return Math.acos(t.dot(e)/(t.mag()*e.mag()))}}]),t}(),b=function(){function t(e,n,i){Object(s["a"])(this,t),this.origin=new k(e,n),this.position=new k(e,n),this.velocity=new k(0,0);var r=f()({mass:1,friction:.85,k:.25,maxSpeed:20,range:180,restLength:0},i);this.mass=r.mass,this.friction=r.friction,this.k=r.k,this.maxSpeed=r.maxSpeed,this.range=r.range,this.restLength=r.restLength}return Object(c["a"])(t,[{key:"getSpringForce",value:function(t){var e=k.sub(this.origin,t||this.position),n=e.mag(),i=n-this.restLength;return e.normalize(),e.mult(this.k*i),e}},{key:"distract",value:function(t){t=new k(t.x,t.y);var e=k.distance(t,this.position),n=new k(0,0);if(e>0&&e<this.range){n=k.sub(this.position,t);var i=n.magSq();n.normalize(),n.mult(this.range/i*(this.range/2)),n.limit(this.maxSpeed),this.applyForce(n)}}},{key:"applyForce",value:function(t){var e=new k(t.x,t.y);this.velocity.add(e),this.velocity.div(this.mass),this.velocity.mult(this.friction)}},{key:"update",value:function(){this.position.add(this.velocity)}},{key:"jelly",value:function(t){var e=this.getSpringForce();this.applyForce(e),this.distract(t),this.update()}}]),t}(),w=function(){function t(e,n){Object(s["a"])(this,t),this.type=t.getType(e),this.points=this.getPoints(e),this.magnets=null,this.magnetOptions=n}return Object(c["a"])(t,[{key:"setup",value:function(){var t=this;this.points&&(this.magnets=this.points.map(function(e){return new b(e.x,e.y,t.magnetOptions)}))}},{key:"update",value:function(t){this.magnets&&this.magnets.forEach(function(e){e.jelly(t)})}},{key:"getPoints",value:function(t){var e=t.replace(this.type,"");e=e.replace(/,/g," ");var n=e.split(/\s+/g),i=[];if(n.forEach(function(t){""!=t&&i.push(+t)}),0==i.length)return null;if(1==i.length)return[{x:i[0],y:i[0]}];for(var r=[],a=0,u=~~(i.length/2);a<u;a+=1)r.push({x:i[2*a],y:i[2*a+1]});return r}},{key:"getCommand",value:function(){var t=this.type;return this.magnets.forEach(function(e){t+=" ".concat(e.position.x," ").concat(e.position.y)}),t}}],[{key:"getType",value:function(t){return t.match(/[a-zA-Z]/)[0]}},{key:"getCommandList",value:function(t){var e=t.replace(/[a-zA-Z]/g,function(t){return"$"+t});return e.split("$").slice(1)}}]),t}(),M={name:"SvgJelly",props:{image:String,path:String,options:{type:Object,default:function(){return{mass:1,friction:.85,k:.25,maxSpeed:20,range:180}}}},data:function(){return{isActive:!0,d:"",commands:[],mouse:{x:Number.MAX_VALUE,y:Number.MAX_VALUE}}},created:function(){var t=this,e=w.getCommandList(this.path),n=[];e.forEach(function(e,i){var r=new w(e,t.options);if(r.type.match(/H|V/)){var a=n[i-1];"H"==r.type?r.points=[{x:r.points[0].x,y:a.points[a.points.length-1].y}]:r.points=[{x:a.points[a.points.length-1].x,y:r.points[0].y}],r.type="L"}r.setup(),n.push(r)}),this.commands=n,this._$update()},beforeDestroy:function(){this.isActive=!1},methods:{mousemove:function(t){this.mouse.x=t.offsetX,this.mouse.y=t.offsetY},mouseout:function(){this.mouse.x=Number.MAX_VALUE,this.mouse.y=Number.MAX_VALUE},_$update:function(){var t=this,e="";this.commands.forEach(function(n){n.update(t.mouse),e+=n.getCommand()}),this.d=e,this.isActive&&requestAnimationFrame(this._$update.bind(this))}}},S=M,E=n("2877"),j=Object(E["a"])(S,u,o,!1,null,"09e29086",null),A=j.exports,O=n("56ec"),_={name:"app",components:{SvgJelly:A},mounted:function(){var t=this,e=new O["a"].GUI({autoPlace:!1});e.domElement.style.position="fixed",e.domElement.style.top="0",e.domElement.style.right="0",document.body.appendChild(e.domElement);var n={mass:1,friction:.85,k:.25,restLength:0,maxSpeed:20,range:180};e.add(n,"mass",1,3).onChange(function(e){t.$refs.svg.commands.forEach(function(t){t.magnets.forEach(function(t){return t.mass=e})})}),e.add(n,"friction",.1,.9).onChange(function(e){t.$refs.svg.commands.forEach(function(t){t.magnets.forEach(function(t){return t.friction=e})})}),e.add(n,"k",.01,3).onChange(function(e){t.$refs.svg.commands.forEach(function(t){t.magnets.forEach(function(t){return t.k=e})})}),e.add(n,"maxSpeed",1,50).onChange(function(e){t.$refs.svg.commands.forEach(function(t){t.magnets.forEach(function(t){return t.maxSpeed=e})})}),e.add(n,"range",30,300).onChange(function(e){t.$refs.svg.commands.forEach(function(t){t.magnets.forEach(function(t){return t.range=e})})})}},P=_,L=(n("034f"),Object(E["a"])(P,r,a,!1,null,null,null)),T=L.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(T)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.832f374e.js.map