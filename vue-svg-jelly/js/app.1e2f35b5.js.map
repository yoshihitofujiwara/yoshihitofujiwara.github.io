{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?de97","webpack:///./src/App.vue?883d","webpack:///./src/components/SvgJelly.vue?dc18","webpack:///./src/assets/js/utils.js","webpack:///./src/assets/js/Vector2.js","webpack:///./src/assets/js/Magnet.js","webpack:///./src/assets/js/SvgCommand.js","webpack:///src/components/SvgJelly.vue","webpack:///./src/components/SvgJelly.vue?4a5d","webpack:///./src/components/SvgJelly.vue?ae33","webpack:///src/App.vue","webpack:///./src/App.vue?a37b","webpack:///./src/App.vue?180a","webpack:///./src/main.js","webpack:///./src/components/SvgJelly.vue?2a63"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_001c51b0_render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","ref","viewBox","image","path","options","mass","friction","k","restLength","maxSpeed","range","scale","staticRenderFns","SvgJellyvue_type_template_id_74c364b8_scoped_true_render","on","mousemove","touchmove","mouseout","touchout","xlink:href","width","height","x","y","clip-path","SvgJellyvue_type_template_id_74c364b8_scoped_true_staticRenderFns","toString","TWO_PI","Math","PI","RAD_TO_DEG","DEG_TO_RAD","ua","navigator","userAgent","toLowerCase","random","min","arguments","undefined","max","num","degToRad","deg","isObject","obj","isNumber","isSD","indexOf","Vector2","classCallCheck","utils","vec2","mag","radToVector2","angle","set","sqrt","magSq","atan2","setAngle","div","normalize","mult","amount","dot","cross","abs","diff","rad1","rad2","diffRad","ratio","mag1","mag2","betweenRad","rad","cos","sin","v1","v2","vec","sub","v","clone","leap","add","vector","setAngleMode","acos","Magnet","origin","position","velocity","params","assign_default","force","stretch","dist","distance","limit","applyForce","_force","getSpringForce","distract","update","SvgCommand","command","magnetOptions","type","getType","points","getPoints","magnets","_this","map","item","forEach","element","jelly","replace","list","split","itemList","commnad","concat","match","pathData","str","SvgJellyvue_type_script_lang_js_","props","String","default","Number","isActive","commands","mouse","MAX_VALUE","created","createCommands","_$update","beforeDestroy","methods","SvgCommand_SvgCommand","getCommandList","console","log","index","svgCommand","prevSvgCommand","setup","event","touches","clientX","clientY","offsetX","offsetY","_this2","getCommand","requestAnimationFrame","components_SvgJellyvue_type_script_lang_js_","component","componentNormalizer","SvgJelly","Appvue_type_script_lang_js_","components","mounted","gui","dat_gui_module","GUI","autoPlace","domElement","style","top","right","document","body","appendChild","close","onChange","e","$refs","svg","elemen","addEventListener","handleResize","resize","getComputedStyle","$el","src_Appvue_type_script_lang_js_","App_component","App","Vue","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SvgJelly_vue_vue_type_style_index_0_id_74c364b8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SvgJelly_vue_vue_type_style_index_0_id_74c364b8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.1e2f35b5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(\"vue-svg-jelly\")]),_c('SvgJelly',{ref:\"svg\",attrs:{\"viewBox\":\"0 0 500 500\",\"image\":\"./assets/img/img02x500.jpg\",\"path\":\"M475 250 Q 475 343 409 409 Q 343 475 250 475 Q 157 475 91 409 Q 25 343 25 250 Q 25 157 91 91 Q 157 25 250 25 Q 343 25 409 91 Q 475 157 475 250\",\"options\":{\tmass: 1, friction: 0.85, k: 0.25, restLength: 0, maxSpeed: 20, range: 180},\"scale\":_vm.scale}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"viewBox\":_vm.viewBox},on:{\"mousemove\":_vm.mousemove,\"touchmove\":_vm.mousemove,\"mouseout\":_vm.mouseout,\"touchout\":_vm.mouseout}},[_c('image',{attrs:{\"xlink:href\":_vm.image,\"width\":\"100%\",\"height\":\"100%\",\"x\":\"0\",\"y\":\"0\",\"clip-path\":\"url(#clipPath)\"}}),_c('clipPath',{attrs:{\"id\":\"clipPath\"}},[_c('path',{attrs:{\"d\":_vm.d}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// utils.js\r\n// version: 0.0.6\r\n// author: yoshihito fujiwara\r\n\r\nconst toString = Object.prototype.toString;\r\n\r\n\r\nexport const TWO_PI = Math.PI * 2;\r\n\r\n\r\n/**\r\n * ラジアンからに角度変換する積数\r\n * @static\r\n * @property RAD_TO_DEG\r\n * @type {number}\r\n */\r\nexport const RAD_TO_DEG = 180 / Math.PI;\r\n\r\n\r\n/**\r\n * 角度からラジアンに変換する積数\r\n * @static\r\n * @property DEG_TO_RAD\r\n * @type {number}\r\n */\r\nexport const DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * ua\r\n */\r\nexport const ua = navigator.userAgent.toLowerCase();\r\n\r\n\r\n/*\r\n--------------------------------------------------------------------------*/\r\n/**\r\n * getMouseEventAngle - マウスイベントが起こったアングルの取得\r\n *\r\n * @param {Object} event - マウスイベントデータ\r\n */\r\nexport function getMouseEventAngle(event) {\r\n\tlet cx = event.srcElement.offsetWidth * 0.5;\r\n\tlet cy = event.srcElement.offsetHeight * 0.5;\r\n\tlet rad = Math.atan2(cy - event.offsetY, event.offsetX - cx);\r\n\treturn rad;\r\n}\r\n\r\n\r\n/**\r\n * getNormalizeOffset - 正規化した座標を返す (-1 to +1)\r\n *\r\n * @param {Object} event - マウスイベントデータ\r\n */\r\nexport function getNormalizeOffset(event) {\r\n\tlet cx = event.srcElement.offsetWidth * 0.5;\r\n  let cy = event.srcElement.offsetHeight * 0.5;\r\n\tlet y = cy - event.offsetY;\r\n\tlet x = event.offsetX - cx;\r\n\r\n\treturn {\r\n    x: x / cx,\r\n\t\ty: y / cy\r\n  };\r\n}\r\n\r\n\r\n/**\r\n * getDirection - 四角を対角線で分割し、マウス座標がどのエリアにあるのか返す\r\n *\r\n * @export\r\n * @param {rectangle} rect\r\n * @param {point} point\r\n * @returns {index, dirction}\r\n */\r\nexport function getDirection(rect, point) {\r\n\tlet directions = [\"top\", \"right\", \"bottom\", \"left\"],\r\n\t\tw = rect.width,\r\n\t\th = rect.height,\r\n\t\tx = (point.x - rect.x - (w / 2)) * (w > h ? (h / w) : 1),\r\n\t\ty = (point.y - rect.y - (h / 2)) * (h > w ? (w / h) : 1),\r\n\t\tindex = Math.round((((Math.atan2(y, x) * (180 / Math.PI)) + 180) / 90) + 3) % 4;\r\n\r\n\treturn {\r\n\t\tindex: index,\r\n\t\tdirection: directions[index]\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * getMouseEventDirection マウスイベントが発生した方向の取得\r\n *\r\n * @export\r\n * @param {Object} event - マウスイベントデータ\r\n * @returns {index, dirction}\r\n */\r\nexport function getMouseEventDirection(event) {\r\n\tlet rect = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\twidth: event.srcElement.offsetWidth,\r\n\t\theight: event.srcElement.offsetHeight\r\n\t};\r\n\tlet point = {\r\n\t\tx: event.offsetX,\r\n\t\ty: event.offsetY\r\n\t};\r\n\r\n\treturn getDirection(rect, point);\r\n}\r\n\r\n\r\n/**\r\n * createStyle - cssスタイル生成\r\n *\r\n * @export\r\n * @param {Object} event - マウスイベントデータ\r\n * @returns\r\n */\r\nexport function createStyle(event) {\r\n\tlet dir = getMouseEventDirection(event),\r\n\t\tisOver = event.type === \"mouseenter\" || event.type === \"mouseover\",\r\n\t\tstyle01 = { left: 0, top: 0 },\r\n\t\tstyle02 = { left: 0, top: 0 },\r\n\t\tstyle = isOver ? style01 : style02;\r\n\r\n\tif (dir.direction === \"top\") {\r\n\t\tstyle.top = \"-100%\";\r\n\t} else if (dir.direction === \"bottom\") {\r\n\t\tstyle.top = \"100%\";\r\n\t} else if (dir.direction === \"left\") {\r\n\t\tstyle.left = \"-100%\";\r\n\t} else {\r\n\t\tstyle.left = \"100%\";\r\n\t}\r\n\r\n\treturn {\r\n\t\tfrom: style01,\r\n\t\tto: style02\r\n\t};\r\n}\r\n\r\n\r\n/*\r\n--------------------------------------------------------------------------*/\r\n/**\r\n * lerp - 線形補間\r\n *\r\n * @export\r\n * @param  {number} val 線形補間する指定の値\r\n * @param  {number} min   最小値\r\n * @param  {number} max   最大値\r\n * @returns {number}       線形補間した値\r\n */\r\nexport function lerp(val, min, max) {\r\n\treturn (max - min) * val + min;\r\n}\r\n\r\n\r\n/**\r\n * 乱数の生成\r\n * @static\r\n * @param {number} min 最小値 ※省略可\r\n * @param {number} max 最大値 ※省略可\r\n * @return {number} 乱数を返します\r\n */\r\nexport function random(min = 0, max = 1) {\r\n\tlet random = Math.random();\r\n\r\n\tif (min > max) {\r\n\t\tlet num = min;\r\n\t\tmin = max;\r\n\t\tmax = num;\r\n\t}\r\n\treturn random * (max - min) + min;\r\n}\r\n\r\n\r\n/**\r\n * ラジアンから角度を求める\r\n * @static\r\n * @method radToDeg\r\n * @param {number} rad ラジアン\r\n * @return {number} degree\r\n */\r\nexport function radToDeg(rad) {\r\n\treturn rad * RAD_TO_DEG;\r\n}\r\n\r\n\r\n/**\r\n * 角度をラジアンに変換して返す\r\n * @static\r\n * @method degToRad\r\n * @param {number} deg 角度\r\n * @return {number} radian\r\n */\r\nexport function degToRad(deg) {\r\n\treturn deg * DEG_TO_RAD;\r\n}\r\n\r\n\r\n/*\r\n--------------------------------------------------------------------------*/\r\n/**\r\n * オブジェクト型判定\r\n * @static\r\n * @method isObject\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isObject(obj) {\r\n\treturn !!obj && toString.call(obj) === \"[object Object]\";\r\n}\r\n\r\n\r\n/**\r\n * 数値型判定\r\n * @static\r\n * @method isNumber\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isNumber(obj) {\r\n\treturn toString.call(obj) === \"[object Number]\";\r\n}\r\n\r\n/**\r\n * isPC\r\n */\r\nexport function isPC() {\r\n\treturn ua.indexOf(\"windows\") > -1 || ua.indexOf(\"intel mac os x \") > -1 && ua.indexOf(\"mobile\") == -1;\r\n}\r\n\r\n/**\r\n * isSD\r\n */\r\nexport function isSD() {\r\n\treturn ua.indexOf(\"iphone\") > -1 || ua.indexOf(\"ipad\") > -1 || ua.indexOf(\"android\") > -1;\r\n}\r\n\r\n/**\r\n * isTB\r\n */\r\nexport function isTB() {\r\n\treturn ua.indexOf(\"ipad\") > -1 || ua.indexOf(\"android\") > -1 && ua.indexOf(\"mobile\") < 0;\r\n}\r\n\r\n/**\r\n * isSP\r\n */\r\nexport function isSP() {\r\n\treturn ua.indexOf(\"iphone\") > -1 || ua.indexOf(\"android\") > -1 && ua.indexOf(\"mobile\") > -1;\r\n}\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as utils from \"./utils\";\r\n\r\n\r\n/**\r\n * @class Vector2 - 2Dベクトル・座標を管理します\r\n * @param {number|Vector2} x x座標値 default 0\r\n * @param {number} y y座標値 default 0\r\n * @param {boolean} isDegrees アングルモードをDegreesにするか\r\n */\r\nexport default class Vector2 {\r\n  /**\r\n   * constructor\r\n   */\r\n\tconstructor(x = 0, y = 0) {\r\n\t\tif (utils.isObject(x)) {\r\n\t\t\ty = x.y || 0;\r\n\t\t\tx = x.x || 0;\r\n\t\t}\r\n\r\n    /**\r\n     * X座標\r\n     * @property x\r\n     * @type {number}\r\n     */\r\n\t\tthis.x = x;\r\n\r\n    /**\r\n     * Y座標\r\n     * @property y\r\n     * @type {number}\r\n     */\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\r\n\t/*--------------------------------------------------------------------------\r\n\t\t@method\r\n\t--------------------------------------------------------------------------*/\r\n  /**\r\n   * Vector2のcloneを生成します\r\n   * @method clone\r\n   * @return {vector2}\r\n   */\r\n\tclone() {\r\n\t\treturn new Vector2(this.x, this.y);\r\n\t}\r\n\r\n\r\n  /**\r\n   * 初期値にセット\r\n   * @method identity\r\n   * @return {vector2}\r\n   */\r\n\tidentity() {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトル座標のセット\r\n   * @method set\r\n   * @param {number} x x座標値\r\n   * @param {number} y y座標値\r\n   * @return {vector2}\r\n   */\r\n\tset(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトル座標の加算\r\n   * @method add\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {vector2}\r\n   */\r\n\tadd(vec2) {\r\n\t\tthis.x += vec2.x;\r\n\t\tthis.y += vec2.y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトル座標の減算\r\n   * @method sub\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {vector2}\r\n   */\r\n\tsub(vec2) {\r\n\t\tthis.x -= vec2.x;\r\n\t\tthis.y -= vec2.y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトル座標の乗算\r\n   * @method mult\r\n   * @param {number} num 乗数\r\n   * @return {vector2}\r\n   */\r\n\tmult(num) {\r\n\t\tthis.x *= num;\r\n\t\tthis.y *= num;\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトル座標の除算\r\n   * @method div\r\n   * @param {number} num 除数\r\n   * @return {vector2}\r\n   */\r\n\tdiv(num) {\r\n\t\tthis.x /= num;\r\n\t\tthis.y /= num;\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルの大きさを設定\r\n   * @method setMag\r\n   * @param {number} mag ベクトルの大きさ\r\n   * @return {vector2}\r\n   */\r\n\tsetMag(mag) {\r\n\t\tlet vec2 = Vector2.radToVector2(this.angle(), mag);\r\n\t\tthis.set(vec2.x, vec2.y);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトル2乗を返す\r\n   * @method magSq\r\n   * @return {number} ベクトルの大きさ(長さ)の2乗を返す\r\n   */\r\n\tmagSq() {\r\n\t\treturn this.x * this.x + this.y * this.y;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルの大きさ(長さ)を返す\r\n   * @method mag\r\n   * @return {number} ベクトルの大きさ(長さ)を返す\r\n   */\r\n\tmag() {\r\n\t\treturn Math.sqrt(this.magSq(this.x, this.y));\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルのアングル(angle mode指定)取得\r\n   * @method angle\r\n   * @return {number} アングルを返す\r\n   */\r\n\tangle() {\r\n\t\treturn Math.atan2(this.y, this.x);\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルのアングル(angle mode指定)をセットする\r\n   * @method setAngle\r\n   * @param {number} angle radianかdegrees値(angle mode指定)\r\n   * @return {vector2}\r\n   */\r\n\tsetAngle(angle) {\r\n\t\tlet vec2 = Vector2.radToVector2(angle, this.mag());\r\n\t\tthis.set(vec2.x, vec2, y);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルのアングル(ラジアン角)を加算\r\n   * @method addAngle\r\n   * @param {number} angle 加算するangle量\r\n   * @return {vector2}\r\n   */\r\n\taddAngle(angle) {\r\n\t\tthis.setAngle(this.angle() + angle);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルのアングル(ラジアン角)を減算\r\n   * @method subAngle\r\n   * @param {number} angle 減算するangle量\r\n   * @return {vector2}\r\n   */\r\n\tsubAngle(angle) {\r\n\t\tthis.setAngle(this.angle() - angle);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルのアングル(ラジアン角)の乗算\r\n   * @method multAngle\r\n   * @param {number} num 乗数\r\n   * @return {vector2}\r\n   */\r\n\tmultAngle(num) {\r\n\t\tthis.setAngle(this.angle() * num);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルのアングル(ラジアン角)の除算\r\n   * @method divAngle\r\n   * @param {number} num 除数\r\n   * @return {vector2}\r\n   */\r\n\tdivAngle(num) {\r\n\t\tthis.setAngle(this.angle() / num);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * 正規化\r\n   * @method normalize\r\n   * @return {vector2}\r\n   */\r\n\tnormalize() {\r\n\t\tlet mag = this.mag();\r\n\t\tif (mag !== 0) {\r\n\t\t\tthis.div(mag);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * 最大値の制限\r\n   * @method limit\r\n   * @param {number} max 最大値\r\n   * @return {vector2}\r\n   */\r\n\tlimit(max) {\r\n\t\tif (max * max < this.magSq()) {\r\n\t\t\tthis.normalize().mult(max);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * 線形補間\r\n   * @method lerp\r\n   * @param {vector2} vec2 Vector2\r\n   * @param {number} amount amount量\r\n   * @return {vector2}\r\n   */\r\n\tlerp(vec2, amount) {\r\n\t\tthis.x += (vec2.x - this.x) * (amount || 0);\r\n\t\tthis.y += (vec2.y - this.y) * (amount || 0);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * 内積\r\n   * @method dot\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {number} ベクトルの内積\r\n   */\r\n\tdot(vec2) {\r\n\t\treturn Vector2.dot(this, vec2);\r\n\t}\r\n\r\n\r\n  /**\r\n   * 外積\r\n   * @method dot\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {number} ベクトルの外積\r\n   */\r\n\tcross(vec2) {\r\n\t\treturn Vector2.cross(this, vec2);\r\n\t}\r\n\r\n\r\n\t/* static\r\n\t--------------------------------------------------------------------------*/\r\n  /**\r\n   * ラジアン角から2Dベクトルを作成\r\n   * @static\r\n   * @method radToVector2\r\n   * @param {number} rad radian\r\n   * @param {number} mag ベクトルの大きさ\r\n   * @return {vector2}\r\n   */\r\n\tstatic radToVector2(rad, mag) {\r\n\t\treturn new Vector2(Math.cos(rad) * mag, Math.sin(rad) * mag);\r\n\t}\r\n\r\n\r\n  /**\r\n   * 角度から2Dベクトルを作成\r\n   * @static\r\n   * @method degToVector2\r\n   * @param {number} deg degrees\r\n   * @param {number} mag ベクトルの大きさ\r\n   * @return {vector2}\r\n   */\r\n\tstatic degToVector2(deg, mag) {\r\n\t\treturn Vector2.radToVector2(deg * utils.DEG_TO_RAD, mag);\r\n\t}\r\n\r\n\r\n  /**\r\n   * ランダムな2Dベクトルを作成\r\n   * @static\r\n   * @method random\r\n   * @param {number} mag ベクトルの大きさ\r\n   * @return {vector2}\r\n   */\r\n\tstatic random(mag) {\r\n\t\treturn Vector2.radToVector2(utils.random(utils.TWO_PI), mag);\r\n\t}\r\n\r\n\r\n  /**\r\n   * 座標の同値判定\r\n   * @static\r\n   * @method equals\r\n   * @param {vector2} v1 Vector2\r\n   * @param {vector2} v2 Vector2\r\n   * @return {boolean}\r\n   */\r\n\tstatic equals(v1, v2) {\r\n\t\treturn (v1.x === v2.x && v1.y === v2.y);\r\n\t}\r\n\r\n\r\n  /**\r\n   * 2つのベクトル座標間のユーグリッド距離\r\n   * @static\r\n   * @method distance\r\n   * @param {vector2} v1 Vector2\r\n   * @param {vector2} v2 Vector2\r\n   * @return {number} 2つのベクトル間のユーグリッド距離\r\n   */\r\n\tstatic distance(v1, v2) {\r\n\t\tlet vec = new Vector2(v1.x, v1.y);\r\n\t\treturn vec.sub(v2).mag();\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルの内積\r\n   *\r\n   * @static\r\n   * @method dot\r\n   * @param {vector2} v1 Vector2\r\n   * @param {vector2} v2 Vector2\r\n   * @return {number} ベクトルの内積\r\n   */\r\n\tstatic dot(v1, v2) {\r\n\t\treturn v1.x * v2.x + v1.y * v2.y;\r\n\t}\r\n\r\n\r\n  /**\r\n   * ベクトルの外積\r\n   * @static\r\n   * @method cross\r\n   * @param {vector2} v1 Vector2\r\n   * @param {vector2} v2 Vector2\r\n   * @return {number} ベクトルの外積\r\n   */\r\n\tstatic cross(v1, v2) {\r\n\t\treturn v1.x * v2.y - v1.y * v2.x;\r\n\t}\r\n\r\n\r\n  /**\r\n   * 別のベクトルに対する線形補間\r\n   * @static\r\n   * @method lerp\r\n   * @param {vector2} v1 Vector2\r\n   * @param {vector2} v2 Vector2\r\n   * @param {number} amount amount量\r\n   * @return {vector2}\r\n   */\r\n\tstatic lerp(v1, v2, amount) {\r\n\t\tlet v = v1.clone();\r\n\t\tv.leap(v2, amount);\r\n\t\treturn v;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @static\r\n\t * @param {*} v1\r\n\t * @param {*} v2\r\n\t * @returns\r\n\t * @memberof Vector2\r\n\t */\r\n\tstatic add(v1, v2) {\r\n\t\tlet vec = new Vector2(v1.x, v1.y);\r\n\t\treturn vec.add(v2);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @static\r\n\t * @param {*} v1\r\n\t * @param {*} v2\r\n\t * @returns\r\n\t * @memberof Vector2\r\n\t */\r\n\tstatic sub(v1, v2) {\r\n\t\tlet vec = new Vector2(v1.x, v1.y);\r\n\t\treturn vec.sub(v2);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @static\r\n\t * @param {*} vec2\r\n\t * @param {*} num\r\n\t * @returns\r\n\t * @memberof Vector2\r\n\t */\r\n\tstatic mult(vec2, num) {\r\n\t\tlet vec = new Vector2(vec2.x, vec2.y);\r\n\t\treturn vec.mult(num);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @static\r\n\t * @param {*} vec2\r\n\t * @param {*} num\r\n\t * @returns\r\n\t * @memberof Vector2\r\n\t */\r\n\tstatic div(vec2, num) {\r\n\t\tlet vec = new Vector2(vec2.x, vec2.y);\r\n\t\treturn vec.div(num);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * ベクトル2乗を返す\r\n\t *\r\n\t * @static\r\n\t * @param {vector2} vec2\r\n\t * @returns\r\n\t * @memberof Vector2\r\n\t */\r\n\tstatic magSq(vec2) {\r\n\t\treturn vec2.x * vec2.x + vec2.y * vec2.y;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * ベクトルの大きさ(長さ)を返す\r\n\t *\r\n\t * @static\r\n\t * @param {vector2} vec2\r\n\t * @returns\r\n\t * @memberof Vector2\r\n\t */\r\n\tstatic mag(vec2) {\r\n\t\tlet vec = new Vector2(vec2.x, vec2.y);\r\n\t\treturn vec.mag();\r\n\t}\r\n\r\n\r\n\t///==========================================================================\r\n\t/// Not Recommended\r\n\t///==========================================================================\r\n  /**\r\n   * ベクトル差分を返す\r\n   * @method diff\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {vector2}\r\n   */\r\n\tdiff(vec2) {\r\n\t\treturn new Vector2(Math.abs(this.x - vec2.x), Math.abs(this.y - vec2.y));\r\n\t}\r\n\r\n  /**\r\n   * ベクトルの大きさ(長さ)の差分を返す\r\n   * @method diffMag\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {number}\r\n   */\r\n\tdiffMag(vec2) {\r\n\t\treturn vec2.diff(this).mag();\r\n\t}\r\n\r\n  /**\r\n   * ベクトルのラジアン差分を返す\r\n   * @method diffRad\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {number}\r\n   */\r\n\tdiffRad(vec2) {\r\n\t\tlet rad1 = Math.atan2(this.y, this.x),\r\n\t\t\trad2 = Math.atan2(vec2.y, vec2.x);\r\n\r\n\t\treturn Math.abs(rad2 - rad1);\r\n\t}\r\n\r\n  /**\r\n   * ベクトルの角度差分を返す\r\n   * @method diffDeg\r\n   * @param {vector2} vec2 Vector2\r\n   * @param {number} y y座標値\r\n   * @return {number}\r\n   */\r\n\tdiffDeg(vec2) {\r\n\t\treturn this.diffRad(vec2) * utils.RAD_TO_DEG;\r\n\t}\r\n\r\n  /**\r\n   * 2つのベクトルの大きさの中間値を返す\r\n   * @method betweenMag\r\n   * @param {vector2} vec2 Vector2\r\n   * @param {number} ratio 中間ポイント 0 < 1 初期値: 0.5\r\n   * @return {number}\r\n   */\r\n\tbetweenMag(vec2, ratio) {\r\n\t\tlet mag1 = this.mag(),\r\n\t\t\tmag2 = vec2.mag();\r\n\r\n\t\tratio = utils.isNumber(ratio) ? ratio : 0.5;\r\n\r\n\t\treturn mag1 + (mag2 - mag1) * ratio;\r\n\t}\r\n\r\n  /**\r\n   * 2つのベクトルの大きさの中間ラジアン値を返す\r\n   * @method betweenRad\r\n   * @param {vector2} vec2 Vector2\r\n   * @param {number} ratio 中間ポイント 0 < 1 初期値: 0.5\r\n   * @return {number}\r\n   */\r\n\tbetweenRad(vec2, ratio) {\r\n\t\tlet rad1 = Math.atan2(this.y, this.x),\r\n\t\t\trad2 = Math.atan2(vec2.y, vec2.x);\r\n\r\n\t\tratio = utils.isNumber(ratio) ? ratio : 0.5;\r\n\t\treturn rad1 + (rad2 - rad1) * ratio;\r\n\t}\r\n\r\n  /**\r\n   * 2つのベクトルの大きさの中間角を返す\r\n   * @method betweenDeg\r\n   * @param {vector2} vec2 Vector2\r\n   * @param {number} ratio 中間ポイント 0 < 1 初期値: 0.5\r\n   * @return {number}\r\n   */\r\n\tbetweenDeg(vec2, ratio) {\r\n\t\treturn this.betweenRad(vec2, ratio) * utils.RAD_TO_DEG;\r\n\t}\r\n\r\n  /**\r\n   * 角度から2Dベクトルを作成\r\n   * @static\r\n   * @method degTo2d\r\n   * @param {number} deg degrees\r\n   * @param {number} mag ベクトルの大きさ\r\n   * @return {vector2}\r\n   */\r\n\tstatic degToVector2(deg, mag) {\r\n\t\tlet vector = Vector2.radToVector2(utils.degToRad(deg), mag);\r\n\t\tvector.setAngleMode(true);\r\n\t\treturn vector;\r\n\t}\r\n\r\n  /**\r\n   * ベクトルの角度を取得する\r\n   * @static\r\n   * @method angle\r\n   * @param {vector2} vec2 Vector2\r\n   * @return {number} アングルを返す\r\n   */\r\n\tstatic angle(vec2) {\r\n\t\treturn Math.atan2(vec2.y, vec2.x);\r\n\t}\r\n\r\n  /**\r\n   * ベクトル間の角度\r\n   * @static\r\n   * @method angleBetween\r\n   * @param {vector2} v1 Vector2\r\n   * @param {vector2} v2 Vector2\r\n   * @return {number} ラジアン角\r\n   */\r\n\tstatic angleBetween(v1, v2) {\r\n\t\treturn Math.acos(v1.dot(v2) / (v1.mag() * v2.mag()));\r\n\t}\r\n}\r\n","import Vector2 from \"./Vector2\";\r\n\r\n\r\n/**\r\n * @class Magnet\r\n */\r\nexport default class Magnet {\r\n\t/**\r\n\t * @constructor\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {object} options\r\n\t */\r\n\tconstructor(x, y, options) {\r\n\t\tthis.origin = new Vector2(x, y);\r\n\t\tthis.position = new Vector2(x, y);\r\n\t\tthis.velocity = new Vector2(0, 0);\r\n\r\n\t\tlet params = Object.assign({\r\n\t\t\tmass: 1,\r\n\t\t\tfriction: 0.85,\r\n\t\t\tk: 0.25,\r\n\t\t\tmaxSpeed: 20,\r\n\t\t\trange: 180,\r\n\t\t\trestLength: 0\r\n\t\t}, options);\r\n\r\n\t\t// 質量\r\n\t\tthis.mass = params.mass;\r\n\t\t// 摩擦係数\r\n\t\tthis.friction = params.friction;\r\n\t\t// バネの強さ\r\n\t\tthis.k = params.k;\r\n\t\t// maxSpeed\r\n\t\tthis.maxSpeed = params.maxSpeed;\r\n\t\t// 反応する範囲\r\n\t\tthis.range = params.range;\r\n\t\t// バネの長さ\r\n\t\tthis.restLength = params.restLength;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * getSpringForce - バネの強さを取得\r\n\t * @param {vector2} position\r\n\t */\r\n\tgetSpringForce(position) {\r\n\t\tlet force = Vector2.sub(this.origin, position || this.position);\r\n\t\tlet d = force.mag();\r\n\t\tlet stretch = d - this.restLength;\r\n\r\n\t\tforce.normalize();\r\n\t\tforce.mult(this.k * stretch);\r\n\r\n\t\treturn force;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * distract - 逃げる動き\r\n\t * @param {vector2} position\r\n\t */\r\n\tdistract(position) {\r\n\t\tposition = new Vector2(position.x, position.y);\r\n\t\tlet dist = Vector2.distance(position, this.position);\r\n\t\tlet force = new Vector2(0, 0);\r\n\r\n\t\tif (dist > 0 && dist < this.range) {\r\n\t\t\tforce = Vector2.sub(this.position, position);\r\n\t\t\tlet m = force.magSq();\r\n\t\t\tforce.normalize();\r\n\t\t\tforce.mult(this.range / m * (this.range / 2));\r\n\t\t\tforce.limit(this.maxSpeed);\r\n\t\t\tthis.applyForce(force);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * applyForce - 加速度を追加\r\n\t * @param {vector2} force\r\n\t */\r\n\tapplyForce(force) {\r\n\t\tlet _force = new Vector2(force.x, force.y);\r\n\t\tthis.velocity.add(_force);\r\n\t\tthis.velocity.div(this.mass); // 質量\r\n\t\tthis.velocity.mult(this.friction); // 摩擦\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * update - position更新\r\n\t */\r\n\tupdate() {\r\n\t\tthis.position.add(this.velocity);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * jelly -\r\n\t * @param {vector2} position\r\n\t */\r\n\tjelly(position){\r\n\t\tlet force = this.getSpringForce();\r\n\t\tthis.applyForce(force);\r\n\t\tthis.distract(position);\r\n\t\tthis.update();\r\n\t}\r\n}\r\n","import Magnet from \"./Magnet\";\r\n\r\n\r\n/**\r\n * @class SvgCommand\r\n */\r\nexport default class SvgCommand {\r\n\t/**\r\n\t * @constructor\r\n\t */\r\n\tconstructor(command, magnetOptions) {\r\n\t\tthis.type = SvgCommand.getType(command);\r\n\t\tthis.points = this.getPoints(command);\r\n\t\tthis.magnets = null;\r\n\t\tthis.magnetOptions = magnetOptions;\r\n\t}\r\n\r\n\r\n\tsetup(){\r\n\t\tif (this.points){\r\n\t\t\tthis.magnets = this.points.map(item => {\r\n\t\t\t\t// console.log(this.magnetOptions)\r\n\t\t\t\treturn new Magnet(item.x, item.y, this.magnetOptions);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tupdate(position){\r\n\t\tif (this.magnets){\r\n\t\t\tthis.magnets.forEach(element => {\r\n\t\t\t\telement.jelly(position);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tgetPoints(command) {\r\n\t\tlet data = command.replace(this.type, \"\");\r\n\t\tdata = data.replace(/,/g, \" \");\r\n\t\tlet list = data.split(/\\s+/g);\r\n\r\n\t\tlet itemList = [];\r\n\t\tlist.forEach((item) => {\r\n\t\t\tif (item != \"\") {\r\n\t\t\t\titemList.push(+item);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (0 == itemList.length) {\r\n\t\t\treturn null\r\n\r\n\t\t} else if (1 == itemList.length) {\r\n\t\t\treturn [{\r\n\t\t\t\tx: itemList[0],\r\n\t\t\t\ty: itemList[0]\r\n\t\t\t}];\r\n\r\n\t\t} else {\r\n\t\t\tlet points = [];\r\n\t\t\tlet i = 0, l = ~~(itemList.length / 2);\r\n\t\t\tfor (; i < l; i += 1) {\r\n\t\t\t\tpoints.push({\r\n\t\t\t\t\tx: itemList[i * 2],\r\n\t\t\t\t\ty: itemList[i * 2 + 1]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn points;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tgetCommand() {\r\n\t\tlet commnad = this.type;\r\n\r\n\t\t// if (commnad.match(/H|V/)){\r\n\t\t// \tcommnad += ` ${this.points[0].x}`;\r\n\t\t// } else {\r\n\t\tthis.magnets.forEach(item => {\r\n\t\t\tcommnad += ` ${item.position.x} ${item.position.y}`;\r\n\t\t\t});\r\n\t\t// }\r\n\r\n\t\treturn commnad;\r\n\t}\r\n\r\n\r\n\tstatic getType(command) {\r\n\t\treturn command.match(/[a-zA-Z]/)[0];\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t * @param {*} pathData\r\n\t */\r\n\tstatic getCommandList(pathData) {\r\n\t\tlet data = pathData.replace(/[a-zA-Z]/g, (str) => {\r\n\t\t\treturn \"$\" + str;\r\n\t\t});\r\n\t\treturn data.split(\"$\").slice(1);\r\n\t}\r\n}\r\n\r\n","/*==========================================================================\r\n\ttemplate\r\n==========================================================================*/\r\n<template>\r\n  <svg @mousemove=\"mousemove\" @touchmove=\"mousemove\" @mouseout=\"mouseout\" @touchout=\"mouseout\" :viewBox=\"viewBox\">\r\n    <image :xlink:href=\"image\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" clip-path=\"url(#clipPath)\"></image>\r\n    <clipPath id=\"clipPath\">\r\n      <path :d=\"d\"></path>\r\n    </clipPath>\r\n  </svg>\r\n</template>\r\n\r\n\r\n/*==========================================================================\r\n\tscript\r\n==========================================================================*/\r\n<script>\r\nimport SvgCommand from \"../assets/js/SvgCommand.js\";\r\n\r\nexport default {\r\n  name: \"SvgJelly\",\r\n\r\n  /**\r\n   * @props\r\n   */\r\n  props: {\r\n    image: String,\r\n    path: String,\r\n\t\tviewBox: String,\r\n    options: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          mass: 1,\r\n          friction: 0.85,\r\n          k: 0.25,\r\n          maxSpeed: 20,\r\n          range: 180,\r\n        };\r\n      }\r\n    },\r\n\t\tscale: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 1\r\n\t\t}\r\n  },\r\n\r\n  /**\r\n   * @data\r\n   */\r\n  data() {\r\n    return {\r\n      isActive: true,\r\n      // @private\r\n      d: \"\",\r\n      commands: [],\r\n      mouse: {\r\n        x: Number.MAX_VALUE,\r\n        y: Number.MAX_VALUE\r\n      }\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @created\r\n   */\r\n  created() {\r\n    this.createCommands();\r\n    this._$update();\r\n  },\r\n\r\n  /**\r\n   * @beforeDestroy\r\n   */\r\n  beforeDestroy() {\r\n    this.isActive = false;\r\n  },\r\n\r\n  /**\r\n   * @methods\r\n   */\r\n  methods: {\r\n    createCommands(){\r\n      let path = SvgCommand.getCommandList(this.path);\r\n      let commands = [];\r\n\r\n\t\t\tconsole.log(path);\r\n\r\n      path.forEach((item, index) => {\r\n        let svgCommand = new SvgCommand(item, this.options);\r\n\r\n        if (svgCommand.type.match(/H|V/)) {\r\n          let prevSvgCommand = commands[index - 1];\r\n\r\n          if (svgCommand.type == \"H\") {\r\n            svgCommand.points = [\r\n              {\r\n                x: svgCommand.points[0].x,\r\n                y: prevSvgCommand.points[prevSvgCommand.points.length - 1].y\r\n              }\r\n            ];\r\n          } else {\r\n            svgCommand.points = [\r\n              {\r\n                x: prevSvgCommand.points[prevSvgCommand.points.length - 1].x,\r\n                y: svgCommand.points[0].y\r\n              }\r\n            ];\r\n          }\r\n          svgCommand.type = \"L\";\r\n        }\r\n\r\n        svgCommand.setup();\r\n        // console.log(svgCommand);\r\n        commands.push(svgCommand);\r\n      });\r\n\r\n      this.commands = commands;\r\n    },\r\n\r\n    mousemove(event) {\r\n\t\t\tif(event.touches){\r\n\t\t\t\tthis.mouse.x = event.touches[0].clientX / this.scale;\r\n\t\t\t\tthis.mouse.y = event.touches[0].clientY / this.scale;\r\n\t\t\t} else {\r\n\t\t\t\tthis.mouse.x = event.offsetX / this.scale;\r\n\t\t\t\tthis.mouse.y = event.offsetY / this.scale;\r\n\t\t\t}\r\n    },\r\n\r\n    mouseout() {\r\n      this.mouse.x = Number.MAX_VALUE;\r\n      this.mouse.y = Number.MAX_VALUE;\r\n    },\r\n\r\n    _$update() {\r\n      let d = \"\";\r\n      this.commands.forEach(item => {\r\n        item.update(this.mouse);\r\n        d += item.getCommand();\r\n      });\r\n\r\n      this.d = d;\r\n\r\n      if (this.isActive) {\r\n        requestAnimationFrame(this._$update.bind(this));\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n/*==========================================================================\r\n\tstyle\r\n==========================================================================*/\r\n<style scoped>\r\nsvg{\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgJelly.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgJelly.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgJelly.vue?vue&type=template&id=74c364b8&scoped=true&\"\nimport script from \"./SvgJelly.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgJelly.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SvgJelly.vue?vue&type=style&index=0&id=74c364b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74c364b8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <h1>vue-svg-jelly</h1>\r\n\r\n    <SvgJelly\r\n      ref=\"svg\"\r\n      viewBox=\"0 0 500 500\"\r\n      image=\"./assets/img/img02x500.jpg\"\r\n      path=\"M475 250 Q 475 343 409 409 Q 343 475 250 475 Q 157 475 91 409 Q 25 343 25 250 Q 25 157 91 91 Q 157 25 250 25 Q 343 25 409 91 Q 475 157 475 250\"\r\n      :options=\"{\tmass: 1, friction: 0.85, k: 0.25, restLength: 0, maxSpeed: 20, range: 180}\"\r\n      :scale=\"scale\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SvgJelly from \"./components/SvgJelly.vue\";\r\nimport * as utils from \"./assets/js/utils.js\";\r\nimport dat from \"dat.gui\";\r\n\r\nexport default {\r\n  name: \"app\",\r\n  components: {\r\n    SvgJelly\r\n  },\r\n  data() {\r\n    return {\r\n      scale: 1\r\n    };\r\n  },\r\n  mounted() {\r\n    const gui = new dat.GUI({ autoPlace: false });\r\n    gui.domElement.style.position = \"fixed\";\r\n    gui.domElement.style.top = \"0\";\r\n    gui.domElement.style.right = \"0\";\r\n    document.body.appendChild(gui.domElement);\r\n\r\n    if (utils.isSD()) {\r\n      gui.close();\r\n    }\r\n\r\n    let params = {\r\n      mass: 1,\r\n      friction: 0.85,\r\n      k: 0.25,\r\n      restLength: 0,\r\n      maxSpeed: 20,\r\n      range: 180\r\n    };\r\n\r\n    gui.add(params, \"mass\", 1, 3).onChange(e => {\r\n      this.$refs.svg.commands.forEach(elemen => {\r\n        elemen.magnets.forEach(item => (item.mass = e));\r\n      });\r\n    });\r\n\r\n    gui.add(params, \"friction\", 0.1, 0.9).onChange(e => {\r\n      this.$refs.svg.commands.forEach(elemen => {\r\n        elemen.magnets.forEach(item => (item.friction = e));\r\n      });\r\n    });\r\n    gui.add(params, \"k\", 0.01, 3).onChange(e => {\r\n      this.$refs.svg.commands.forEach(elemen => {\r\n        elemen.magnets.forEach(item => (item.k = e));\r\n      });\r\n    });\r\n    gui.add(params, \"maxSpeed\", 1, 50).onChange(e => {\r\n      this.$refs.svg.commands.forEach(elemen => {\r\n        elemen.magnets.forEach(item => (item.maxSpeed = e));\r\n      });\r\n    });\r\n    gui.add(params, \"range\", 30, 300).onChange(e => {\r\n      this.$refs.svg.commands.forEach(elemen => {\r\n        elemen.magnets.forEach(item => (item.range = e));\r\n      });\r\n    });\r\n\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n\r\n  methods: {\r\n    resize() {\r\n      let style = window.getComputedStyle(this.$refs.svg.$el);\r\n      let width = +style.width.replace(\"px\", \"\");\r\n      this.scale = width / 500;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: none;\r\n}\r\n#app {\r\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\nh1 {\r\n  margin-bottom: 20px;\r\n}\r\nsvg {\r\n  width: 500px;\r\n  height: 500px;\r\n  background: #f9f9f9;\r\n  cursor: pointer;\r\n}\r\n@media all and (max-width: 768px) {\r\n  svg {\r\n    width: 100vw;\r\n    height: 100vw;\r\n  }\r\n}\r\n\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=001c51b0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgJelly.vue?vue&type=style&index=0&id=74c364b8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgJelly.vue?vue&type=style&index=0&id=74c364b8&scoped=true&lang=css&\""],"sourceRoot":""}