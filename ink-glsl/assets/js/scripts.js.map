{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../src/dat/color/toString.js","webpack:///../src/dat/utils/common.js","webpack:///../src/dat/color/interpret.js","webpack:///../src/dat/color/math.js","webpack:///../src/dat/color/Color.js","webpack:///../src/dat/controllers/Controller.js","webpack:///../src/dat/dom/dom.js","webpack:///../src/dat/controllers/BooleanController.js","webpack:///../src/dat/controllers/OptionController.js","webpack:///../src/dat/controllers/StringController.js","webpack:///../src/dat/controllers/NumberController.js","webpack:///../src/dat/controllers/NumberControllerBox.js","webpack:///../src/dat/controllers/NumberControllerSlider.js","webpack:///../src/dat/controllers/FunctionController.js","webpack:///../src/dat/controllers/ColorController.js","webpack:///../src/dat/utils/css.js","webpack:///../src/dat/gui/saveDialogue.html.js","webpack:///../src/dat/controllers/ControllerFactory.js","webpack:///../src/dat/utils/requestAnimationFrame.js","webpack:///../src/dat/dom/CenteredDiv.js","webpack:///../src/dat/gui/GUI.js","webpack:///../src/dat/index.js","webpack:///config/versionTemplate.txt","webpack:///lib/es6-promise/utils.js","webpack:///lib/es6-promise/asap.js","webpack:///lib/es6-promise/then.js","webpack:///lib/es6-promise/promise/resolve.js","webpack:///lib/es6-promise/-internal.js","webpack:///lib/es6-promise/enumerator.js","webpack:///lib/es6-promise/promise/all.js","webpack:///lib/es6-promise/promise/race.js","webpack:///lib/es6-promise/promise/reject.js","webpack:///lib/es6-promise/promise.js","webpack:///lib/es6-promise/polyfill.js","webpack:///lib/es6-promise.js","webpack:///./node_modules/gsap/CSSPlugin.js","webpack:///./node_modules/gsap/gsap-core.js","webpack:///./node_modules/gsap/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/stats-js/build/stats.min.js","webpack:///./node_modules/three/build/three.module.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/assets/js/libs/inkjs/class_events/Events.js","webpack:///./src/assets/js/libs/inkjs/class_utils/WebRTC.js","webpack:///./src/assets/js/libs/inkjs/utils/array.js","webpack:///./src/assets/js/libs/inkjs/utils/calc.js","webpack:///./src/assets/js/libs/inkjs/utils/config.js","webpack:///./src/assets/js/libs/inkjs/utils/has.js","webpack:///./src/assets/js/libs/inkjs/utils/index.js","webpack:///./src/assets/js/libs/inkjs/utils/is.js","webpack:///./src/assets/js/libs/inkjs/utils/location.js","webpack:///./src/assets/js/libs/inkjs/utils/random.js","webpack:///./src/assets/js/libs/inkjs/utils/string.js","webpack:///./src/assets/js/libs/inkjs/utils/utility.js","webpack:///./src/assets/js/scripts/days/Day001.js","webpack:///./src/assets/js/scripts/days/Day002.js","webpack:///./src/assets/js/scripts/days/Day003.js","webpack:///./src/assets/js/scripts/days/Day004.js","webpack:///./src/assets/js/scripts/days/Day005.js","webpack:///./src/assets/js/scripts/days/Day006.js","webpack:///./src/assets/js/scripts/days/Day007.js","webpack:///./src/assets/js/scripts/days/Day008.js","webpack:///./src/assets/js/scripts/days/Day009.js","webpack:///./src/assets/js/scripts/days/Day010.js","webpack:///./src/assets/js/scripts/days/Day011.js","webpack:///./src/assets/js/scripts/days/Day012.js","webpack:///./src/assets/js/scripts/days/Day013.js","webpack:///./src/assets/js/scripts/days/Day014.js","webpack:///./src/assets/js/scripts/days/Day015.js","webpack:///./src/assets/js/scripts/days/Day016.js","webpack:///./src/assets/js/scripts/days/Day017.js","webpack:///./src/assets/js/scripts/days/Day018.js","webpack:///./src/assets/js/scripts/days/Day019.js","webpack:///./src/assets/js/scripts/days/Day020.js","webpack:///./src/assets/js/scripts/days/Day021.js","webpack:///./src/assets/js/scripts/days/Day022.js","webpack:///./src/assets/js/scripts/days/Day023.js","webpack:///./src/assets/js/scripts/days/Day024.js","webpack:///./src/assets/js/scripts/days/Day025.js","webpack:///./src/assets/js/scripts/days/Day026.js","webpack:///./src/assets/js/scripts/days/index.js","webpack:///./src/assets/js/scripts/index.js","webpack:///./src/assets/js/scripts/utils/Debug.js","webpack:///./src/assets/js/scripts/utils/RenderManager.js","webpack:///./src/assets/js/scripts/utils/ShaderPlaneMesh.js","webpack:///./src/assets/shader/days/day001.frag","webpack:///./src/assets/shader/days/day002.frag","webpack:///./src/assets/shader/days/day003.frag","webpack:///./src/assets/shader/days/day004.frag","webpack:///./src/assets/shader/days/day005.frag","webpack:///./src/assets/shader/days/day006.frag","webpack:///./src/assets/shader/days/day007.frag","webpack:///./src/assets/shader/days/day008.frag","webpack:///./src/assets/shader/days/day009.frag","webpack:///./src/assets/shader/days/day010.frag","webpack:///./src/assets/shader/days/day011.frag","webpack:///./src/assets/shader/days/day012.frag","webpack:///./src/assets/shader/days/day013.frag","webpack:///./src/assets/shader/days/day014.frag","webpack:///./src/assets/shader/days/day015.frag","webpack:///./src/assets/shader/days/day016.frag","webpack:///./src/assets/shader/days/day017.frag","webpack:///./src/assets/shader/days/day018.frag","webpack:///./src/assets/shader/days/day019.frag","webpack:///./src/assets/shader/days/day020.frag","webpack:///./src/assets/shader/days/day021.frag","webpack:///./src/assets/shader/days/day022.frag","webpack:///./src/assets/shader/days/day023.frag","webpack:///./src/assets/shader/days/day024.frag","webpack:///./src/assets/shader/days/day025.frag","webpack:///./src/assets/shader/days/day026.frag"],"names":["colorFormat","color","r","Math","g","b","a","h","s","v","forceCSSHex","str","ARR_EACH","Array","ARR_SLICE","Common","keys","Object","obj","target","toCall","args","i","key","l","itr","timeout","func","callNow","callImmediately","setTimeout","isNaN","INTERPRETATIONS","common","test","original","parseInt","toString","parseFloat","result","toReturn","interpret","arguments","family","conversion","tmpComponent","ColorMath","hi","f","p","q","t","c","min","max","delta","hex","componentIndex","value","Color","colorToString","math","defineRGBComponent","defineHSVComponent","Controller","object","document","fnc","newValue","EVENT_MAP","EVENT_MAP_INV","CSS_VALUE_PIXELS","val","match","dom","elem","selectable","vertical","horizontal","params","pars","className","evt","clientX","clientY","init","undefined","bool","newBool","classes","index","style","getComputedStyle","cssValueToPixels","offset","left","top","BooleanController","_this","OptionController","options","map","opt","desiredValue","StringController","e","_x","x","NumberController","_params","numDecimals","_v","minValue","maxValue","stepValue","tenTo","NumberControllerBox","prevY","attempted","diff","roundToDecimal","o1","o2","i2","NumberControllerSlider","step","bgRect","pct","FunctionController","text","ColorController","valueField","fieldRect","mismatch","flip","_flip","vendors","css","doc","indoc","link","injected","head","saveDialogContents","ControllerFactory","initialValue","window","CenteredDiv","hide","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","DEFAULT_WIDTH","autoPlace","preset","useLocalStorage","localStorage","getLocalStorageHash","saveToLocalStorage","titleRow","savedGui","JSON","titleRowName","addRow","onClickTitle","root","controller","newGuiParams","name","parent","gui","li","folder","node","getCurrentPreset","element","nextSibling","box","pc","pb","oldName","wasListening","newController","matchedIndex","controllerMap","presetMap","factoryArgs","container","div","gears","button","button2","button3","select","explain","localStorageCheckBox","saveLocally","newConstructorTextArea","presetName","prompt","pmouseX","w","savedValues","useInitialValues","controllerArray","controllers","resolve","_resolve","then","originalThen","originalResolve","Promise","reject","_reject","Resolve","Reject","_win","_doc","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_windowExists","_transformProps","_RAD2DEG","PI","_DEG2RAD","_atan2","atan2","_bigNum","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","scale","alpha","_renderCSSProp","ratio","data","set","round","u","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","property","_setterCSSProp","setProperty","_setterTransform","_gsap","_setterScale","scaleX","scaleY","_setterScaleWithRender","cache","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","type","ns","createElementNS","replace","createElement","_getComputedProperty","skipPrefixFallback","cs","getPropertyValue","toLowerCase","_checkPropPrefix","_prefixes","split","preferPrefix","charAt","toUpperCase","substr","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","getAttribute","oldParent","parentNode","oldSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","removeChild","_getAttributeFallbacks","attributesArray","length","hasAttribute","_getBBox","bounds","error","call","width","height","y","_isSVG","getCTM","_removeProperty","removeProperty","removeAttribute","_addNonTweeningPT","plugin","beginning","end","onlySetAtEnd","pt","PropTween","_pt","_props","push","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","unit","curValue","curUnit","trim","isRootSVG","tagName","measureProperty","amount","toPixels","toPercent","px","isSVG","indexOf","_round","body","time","_ticker","position","_getCache","_get","uncache","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_getProperty","_tweenComplexCSSString","prop","start","_renderComplexString","matchIndex","startValues","startNum","startValue","endValue","endNum","chunk","endUnit","startUnit","relative","endValues","_colorStringFilter","_numWithUnitExp","exec","substring","lastIndex","_config","units","_next","m","_relExp","_keywordToPercent","bottom","right","center","_convertKeywordsToPercentages","join","_renderClearProps","tween","_time","_dur","props","clearTransforms","clearProps","pr","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_numExp","_getMatrix","force2D","matrix","temp","addedToDOM","transform","baseVal","consolidate","d","offsetParent","_applySVGOrigin","origin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","determinant","setAttribute","GSCache","invertedScaleX","z","rotation","rotationX","rotationY","skewX","skewY","perspective","angle","cos","sin","a12","a22","t1","t2","t3","a13","a23","a33","a42","a43","a32","sqrt","abs","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","force3D","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","getUnit","_zeroDeg","_zeroPx","_endParenthesis","_ref","transforms","use3D","_ref2","a11","a21","tan","_addRotationalPropTween","cap","isString","_isString","change","finalValue","direction","_addRawTransformPTs","startCache","exclude","endCache","_forEachName","side","vars","forEach","CSSPlugin","register","targetTest","nodeType","targets","specialProp","isTransformRelated","transformPropTween","hasPriority","_plugins","_checkPlugin","_replaceRandom","add","smoothOrigin","dep","autoRound","_missingPlugin","_sortPropTweensByPriority","get","aliases","getSetter","_isUndefined","_getSetter","core","gsap","utils","checkPrefix","positionAndScale","others","all","registerPlugin","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","__proto__","autoSleep","nullTargetWarn","lineHeight","_defaults","duration","overwrite","delay","_tinyNum","_2PI","_HALF_PI","_gsID","_sqrt","_cos","_sin","_isFunction","_isNumber","_isObject","_isNotFalse","_isFuncOrString","_isArray","isArray","_strictNumExp","_complexStringNumExp","_parenthesesExp","_delimitedValueExp","_globalTimeline","_coreInitted","_globals","_installScope","_coreReady","_install","scope","_merge","console","warn","_warn","message","suppress","_addGlobal","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","harnessPlugin","harness","splice","toArray","currentValue","names","_arrayContainsAny","toSearch","toFind","_parseVars","isLegacy","varsIndex","irVars","defaults","inherit","immediateRender","runBackwards","startAt","_lazyRender","slice","_lazy","render","_lazySafeRender","animation","suppressEvents","force","_numericIfPossible","n","_passThrough","_setDefaults","_setKeyframeDefaults","base","toMerge","_mergeDeep","_copyExcluding","excluding","copy","_inheritDefaults","keyframes","_arraysMatch","a1","a2","_addLinkedListItem","child","firstProp","lastProp","sortBy","prev","_prev","_dp","_removeLinkedListItem","next","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","remove","_act","_uncache","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","_parentToChildTotalTime","parentTime","_start","_tDur","_setEnd","_end","_rts","_postAddChecks","timeline","_initted","rawTime","_clamp","totalTime","_zTime","_addToTimeline","skipChecks","_delay","timeScale","_sort","_recent","_attemptInitTween","_initTween","lazy","frame","_renderZeroDurationTween","prevRatio","repeatDelay","iteration","prevIteration","repeatRefresh","invalidate","_from","_callback","_startAt","_onUpdate","_prom","_findNextPauseTween","prevTime","_first","_last","_setDuration","skipUncache","repeat","dur","_onUpdateTotalDuration","Timeline","_zeroPosition","endTime","_parsePosition","labels","recent","clippedDuration","_conditionalReturn","clamp","_slice","_isArrayLike","nonEmpty","_flatten","ar","leaveStrings","accumulator","_accumulator","apply","_wake","querySelectorAll","shuffle","sort","random","distribute","each","ease","_parseEase","from","isDecimal","ratios","axis","ratioX","ratioY","edges","distances","originX","originY","j","wrapAt","grid","getBoundingClientRect","_invertEase","_roundModifier","pow","raw","snap","snapTo","radius","is2D","values","increment","closest","dx","dy","roundingIncrement","returnFunction","pipe","_len","functions","_key","reduce","unitize","normalize","mapRange","_wrapArray","wrapper","wrap","range","wrapYoyo","total","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","progress","mutate","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","executeLazyFirst","callback","callbackScope","_interrupt","_quickTween","_createPlugin","config","isFunc","Plugin","instanceDefaults","kill","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","m1","m2","splitColor","toHSL","forceAlpha","wasHSL","Number","_colorOrderData","_colorExp","_formatColors","orderMatchData","colors","shell","shift","RegExp","_hslExp","combined","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_tick","elapsed","manual","overlap","dispatch","tick","wake","gsapVersions","version","GreenSockGlobals","requestAnimationFrame","sleep","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","fps","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","parsedVal","lastIndexOf","_configEaseFromString","_CE","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","_easeInOutFromOut","_configElastic","amplitude","period","p1","p2","p3","asin","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","id","Animation","_yoyo","yoyo","yoyoEase","reversed","reverse","paused","_proto","smoothChildTiming","startTime","_totalTime","_pTime","totalProgress","_ps","includeRepeats","wrapRepeats","seek","restart","includeDelay","play","pause","atTime","resume","isActive","hasStarted","eventCallback","onFulfilled","_then","_Animation","sortChildren","_proto2","to","Tween","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","isYoyo","_lock","rewinding","doesWrap","_hasPause","_forcing","onUpdate","adjustedTime","_this2","addLabel","getChildren","nested","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","onlyActive","getTweensOf","_overwritingTween","parsedTargets","children","_targets","tweenTo","tl","_vars","_onStart","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","clear","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","startNums","hasRandom","fp","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","ptLookup","priority","_ptLookup","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","gsData","harnessVars","_ease","_yEase","_op","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","onRepeat","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","op","_setterWithModifier","mSet","mt","pt2","first","last","renderer","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","_len2","_key2","getProperty","getter","format","quickSetter","setters","isTweening","registerEffect","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","install","effects","ticker","globalTimeline","globals","getCache","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","gsapWithCSS","TweenMaxWithCSS","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","nextTick","Item","array","title","browser","env","argv","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","define","addEventListener","preventDefault","performance","o","Panel","memory","REVISION","addPanel","showPanel","begin","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","devicePixelRatio","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","drawImage","EPSILON","isInteger","isFinite","floor","sign","Function","defineProperty","assign","TypeError","output","source","nextKey","hasOwnProperty","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","EventDispatcher","listener","hasEventListener","removeEventListener","listenerArray","dispatchEvent","event","_lut","MathUtils","DEG2RAD","RAD2DEG","generateUUID","d0","d1","d2","d3","uuid","euclideanModulo","mapLinear","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","order","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","Vector2","defineProperties","isVector2","setScalar","scalar","setX","setY","setComponent","getComponent","clone","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","manhattanLength","distanceTo","distanceToSquared","manhattanDistanceTo","setLength","lerpVectors","v1","v2","equals","fromArray","fromBufferAttribute","attribute","getX","getY","rotateAround","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a31","b11","b12","b13","b21","b22","b23","b31","b32","b33","getInverse","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","sx","sy","cx","cy","rotate","theta","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","context","ImageData","putImageData","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","images","url","dispose","transformUv","uv","Vector4","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","tDir","_onChangeCallback","isQuaternion","quaternion","setFromEuler","euler","isEuler","c1","c3","s1","s3","setFromAxisAngle","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","EPS","angleTo","rotateTowards","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","_vector","Vector3","_quaternion","isVector3","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","makeBasis","extractRotation","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","a14","a24","a34","a41","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","RotationOrders","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","attach","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateParents","updateChildren","geometries","materials","shapes","stringify","isInstancedMesh","count","instanceMatrix","serialize","library","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","recursive","parse","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","_points","_vector$1","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","boundingBox","computeBoundingBox","union","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","axes","satForAxes","distanceToPoint","clampedPoint","getBoundingSphere","intersect","v0","extents","p0","_box$1","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","isColor","setHex","setStyle","setHSL","handleAlpha","string","components","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","blending","flatShading","opacity","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","setValues","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","BufferAttribute","itemSize","normalized","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXYZ","setXY","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","checkIntersection","uvs_f","morphInfluences","influence","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","k","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","sortFacesByMaterialIndex","materialIndexSort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLCubeRenderTarget","scene","currentRenderTarget","getRenderTarget","setRenderTarget","stencil","dummy","isWebGLCubeRenderTarget","fromEquirectangularTexture","shader","tEquirect","DataTexture","isDataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transparency","WebGLBackground","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","xr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","mode","drawArrays","renderInstances","primcount","extension","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","reset","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","CubeTexture","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","uniformObject","parseUniform","path","pathLength","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","loopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","shaderName","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","detachShader","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getShaderObject","shaderobject","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isSkinnedMesh","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","extensionDrawbuffers","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","pointShadow","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","Group","isGroup","WebXRManager","framebufferScaleFactor","referenceSpace","referenceSpaceType","pose","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","targetRay","getControllerGrip","grip","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","inputPose","gripPose","getPose","targetRaySpace","gripSpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","sortObjects","toneMappingExposure","toneMappingWhitePoint","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","tempScene","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","maxInstancedCount","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","compiled","initMaterial","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshToonMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","uv2ScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","ol","edge","edge1","edge2","ParametricGeometry","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","scalePt2","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","TextBufferGeometry","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","inverseSegments","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","evaluate","pp","validate_interval","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","nKeys","validate","valid","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","getTrackTypeForValueTypeName","typeName","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","loading","FileLoader","cached","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","onImageLoad","onImageError","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_pausedAt","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","nodeName","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_effectiveTimeScale","_effectiveWeight","repetitions","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","isSkeletonHelper","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_pingPongRenderTarget","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","fromCubemap","cubemap","_textureToCubeUV","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_createRenderTarget","outputTarget","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","_setViewport","tmpScene","poleAxis","lodIn","lodOut","_halfBlur","targetIn","targetOut","sigmaRadians","STANDARD_DEVIATIONS","blurScene","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","Events","_addEvent","_removeEvent","events","item","eventObj","_getEventNameMap","attr","ary","flag","WebRTC","_EVENTS","DONE","ERROR","LOAD","navigator","mediaDevices","getUserMedia","stream","trigger","srcObject","argsToArray","isContinue","is","findMax","findMin","TWO_PI","HARF_PI","RAD_TO_DEG","DEG_TO_RAD","sqrt2","radToCoord","degToCoord","coordToRad","coordToDeg","diagonal","diagonalToSideLength","num","fract","factorial","isIntersect","rangeMin1","rangeMax1","rangeMin2","rangeMax2","fromMin","fromMax","toMin","toMax","isDevelop","location","hasHash","href","vals","hasString","hasStr","hasUA","getProto","getPrototypeOf","hasOwn","UA","userAgent","ua","isBoolean","isFunction","isNumber","isObject","isPlainObject","proto","ctor","isRegexp","isUndefined","isNull","isMultibyte","chara","isEmail","email","isOS","os","ver","_os","isWindows","isMac","isAndroid","isIos","_ver","isTouchScreen","serial","isDevice","device","_device","isPC","isSmartDevice","isSmartPhone","isTablet","isIPhone","isIPad","isIPod","isAndroidPhone","isAndroidTablet","_isIpad","isBrowser","_browser","isIE","isEdge","isChrome","isFirefox","isSafari","isMobileSafari","isAndroidBrowser","isMobileChrome","isAndroidChrome","isIosChrome","isWebkit","isFileAPI","File","FileReader","FileList","isRequestFileSystem","requestFileSystem","webkitRequestFileSystem","isStorage","setItem","removeItem","ontouchstart","getHash","getQuery","query","querys","queryHashMap","decodeURI","randomInt","randomLow","randomLow2","randomHight","randomHight2","randomNormalize","r1","r2","randomLinerLow","randomLinerHight","randomLinerCenter","zeroPadding","digit","isBeyondValue","_value","createId","_count","objectToQuery","isQuestion","removeSpace","replaceAll","del","toHarfNumber","base64FileSize","base64","bytes","getFunctionName","fn","mixin","isDeep","objA","objB","copyIsArray","deep","nowDate","date","year","getFullYear","month","getMonth","day","getDay","getDate","getHours","getMinutes","getSeconds","spec","SPEED_CONSTANT","START_TIME","AMOUNT","END_TIME","speed","hardwareConcurrency","clock","INK","Day","Debug","ShaderPlaneMesh","dayFrag","renderManager","RenderManager","querySelector","u_time","u_mouse","u_rotate","u_translate","u_scale","u_vert","u_radius","onChange","u_tile","u_map1","u_zoom","u_thickness","u_map2","u_progress","updateDisplay","map1","map2","u_effectMap","u_intensity","u_angle","u_aspect","u_threshold","u_distance","u_speed","u_fineness","u_volume","u_grid","innerWidth","innerHeight","u_velocity","u_followMouse","targetSpeed","mouse","prevMouse","followMouse","u_colorShift","webRTC","videoTexture","u_amount","u_split","u_offset","u_rgbSlice","normColor","u_color1","u_color2","addColor","days","reload","fileName","find","innerHTML","$prev","getElementById","$next","nextPage","links","dat","Stats","isUpdate","_animationId","VERTEX_SHADER","FRAGMENT_SHADER","geometryParams","materialParams","gParams","segX","segY","mParams","u_resolution"],"mappings":"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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA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","file":"scripts.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/assets/js/scripts/index.js\");\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (!this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n","export function objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nexport function isFunction(x) {\n  return typeof x === 'function';\n}\n\nexport function isMaybeThenable(x) {\n  return x !== null && typeof x === 'object';\n}\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nexport var isArray = _isArray;","var len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nexport var asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nexport function setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nexport function setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}","import { invokeCallback, subscribe, FULFILLED, REJECTED, noop, makePromise, PROMISE_ID } from './-internal';\n\nimport { asap } from './asap';\n\nexport default function then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}","import { noop, resolve as _resolve } from '../-internal';\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nexport default function resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}","import { objectOrFunction, isFunction } from './utils';\n\nimport { asap } from './asap';\n\nimport originalThen from './then';\nimport originalResolve from './promise/resolve';\n\nexport var PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then) {\n  if (maybeThenable.constructor === promise.constructor && then === originalThen && maybeThenable.constructor.resolve === originalResolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then)) {\n      handleForeignThenable(promise, maybeThenable, then);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then = void 0;\n    try {\n      then = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nexport { nextId, makePromise, noop, resolve, reject, fulfill, subscribe, publish, publishRejection, initializePromise, invokeCallback, FULFILLED, REJECTED, PENDING, handleMaybeThenable };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { isArray, isMaybeThenable } from './utils';\nimport { noop, reject, fulfill, subscribe, FULFILLED, REJECTED, PENDING, handleMaybeThenable } from './-internal';\n\nimport then from './then';\nimport Promise from './promise';\nimport originalResolve from './promise/resolve';\nimport originalThen from './then';\nimport { makePromise, PROMISE_ID } from './-internal';\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve = c.resolve;\n\n\n    if (resolve === originalResolve) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === originalThen && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve) {\n          return resolve(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\nexport default Enumerator;\n;","import Enumerator from '../enumerator';\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nexport default function all(entries) {\n  return new Enumerator(this, entries).promise;\n}","import { isArray } from \"../utils\";\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nexport default function race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}","import { noop, reject as _reject } from '../-internal';\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nexport default function reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { isFunction } from './utils';\nimport { noop, nextId, PROMISE_ID, initializePromise } from './-internal';\nimport { asap, setAsap, setScheduler } from './asap';\n\nimport all from './promise/all';\nimport race from './promise/race';\nimport Resolve from './promise/resolve';\nimport Reject from './promise/reject';\nimport then from './then';\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise.prototype.then = then;\nexport default Promise;\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = Resolve;\nPromise.reject = Reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;","/*global self*/\nimport Promise from './promise';\n\nexport default function polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise;\n}","import Promise from './es6-promise/promise';\nimport polyfill from './es6-promise/polyfill';\n\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\nexport default Promise;","/*!\n * CSSPlugin 3.2.6\n * https://greensock.com\n *\n * Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists()) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _checkPropPrefix(_transformOriginProp);\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if (toPercent && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    //transforms and borderRadius are relative to the size of the element itself!\n    return _round(curValue / (isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty]) * amount);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n\n  if (!_pluginInitted) {\n    _initCore();\n  }\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  if (_relExp.test(end)) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n\n    if (temp) {\n      style.display = temp;\n    } else {\n      _removeProperty(target, \"display\");\n    }\n\n    if (addedToDOM) {\n      if (nextSibling) {\n        parent.insertBefore(target, nextSibling);\n      } else if (parent) {\n        parent.appendChild(target);\n      } else {\n        _docElement.removeChild(target);\n      }\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    t1 = !cache.uncache && target.getAttribute(\"data-svg-origin\");\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      matrix = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      matrix && target.setAttribute(\"transform\", matrix);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;\n  cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n\n  if (forceCSS) {\n    //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n    target.style[_transformProp] = temp;\n  }\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var style = _tempDivStyler.style,\n      startCache = target._gsap,\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n  style.cssText = getComputedStyle(target).cssText + \";position:absolute;display:block;\"; //%-based translations will fail unless we set the width/height to match the original target (and padding/borders can affect it)\n\n  style[_transformProp] = transforms;\n\n  _doc.body.appendChild(_tempDivStyler);\n\n  endCache = _parseTransform(_tempDivStyler, 1);\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _doc.body.removeChild(_tempDivStyler);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n\n    if (!_pluginInitted) {\n      _initCore();\n    }\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        //plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        if (specialProp(this, target, p, endValue, tween)) {\n          hasPriority = 1;\n        }\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        this.add(style, \"setProperty\", getComputedStyle(target).getPropertyValue(p) + \"\", endValue + \"\", index, targets, 0, 0, p);\n      } else {\n        startValue = _get(target, p);\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n\n            if (~p.indexOf(\",\")) {\n              p = p.split(\",\")[0];\n            }\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform || _parseTransform(target); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              if (endUnit !== cache.zOrigin) {\n                _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n              }\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = (endValue + \"\").substr((endNum + \"\").length) || (p in _config.units ? _config.units[p] : startUnit);\n\n          if (startUnit !== endUnit) {\n            startNum = _convertToUnit(target, p, startValue, endUnit);\n          }\n\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === \"px\" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(this);\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.2.6\n * https://greensock.com\n *\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-\\+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+(?:\\.|e-|e)*\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_parenthesesExp = /\\(([^()]+)\\)/i,\n    //finds the string between parentheses.\n_relExp = /[+-]=-?[\\.\\d]+/,\n    _delimitedValueExp = /[#\\-+.]*\\b[a-z\\d-=+%.]+/gi,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n\n  if (!_isObject(target) && !_isFunction(target)) {\n    targets = [targets];\n  }\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property) {\n  var currentValue = target[property];\n  return _isFunction(currentValue) ? target[property]() : _isUndefined(currentValue) && target.getAttribute(property) || currentValue;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _parseVars = function _parseVars(params, type, parent) {\n  //reads the arguments passed to one of the key methods and figures out if the user is defining things with the OLD/legacy syntax where the duration is the 2nd parameter, and then it adjusts things accordingly and spits back the corrected vars object (with the duration added if necessary, as well as runBackwards or startAt or immediateRender). type 0 = to()/staggerTo(), 1 = from()/staggerFrom(), 2 = fromTo()/staggerFromTo()\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars;\n\n  if (isLegacy) {\n    vars.duration = params[1];\n  }\n\n  vars.parent = parent;\n\n  if (type) {\n    irVars = vars;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n\n    if (type < 2) {\n      vars.runBackwards = 1;\n    } else {\n      vars.startAt = params[varsIndex - 1]; // \"from\" vars\n    }\n  }\n\n  return vars;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n\n    if (tween && tween._lazy) {\n      tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0;\n    }\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  if (_lazyTweens.length) {\n    _lazyRender();\n  }\n\n  animation.render(time, suppressEvents, force);\n\n  if (_lazyTweens.length) {\n    //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n    _lazyRender();\n  }\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj)) {\n      obj[p] = defaults[p];\n    }\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj) && p !== \"duration\" && p !== \"ease\") {\n      obj[p] = defaults[p];\n    }\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    if (!(p in excluding)) {\n      copy[p] = obj[p];\n    }\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  if (child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren)) {\n    child.parent.remove(child);\n  }\n\n  child._act = 0;\n},\n    _uncache = function _uncache(animation) {\n  var a = animation;\n\n  while (a) {\n    a._dirty = 1;\n    a = a.parent;\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _round(position + child._delay);\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  timeline._recent = child;\n  skipChecks || _postAddChecks(timeline, child);\n  return timeline;\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween._zTime < 0 ? 0 : 1,\n      ratio = totalTime < 0 ? 0 : 1,\n      repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    //in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n\n      if (tween.vars.repeatRefresh && tween._initted) {\n        tween.invalidate();\n      }\n    }\n  }\n\n  if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n    //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n    return;\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    tween.ratio = ratio;\n\n    if (tween._from) {\n      ratio = 1 - ratio;\n    }\n\n    tween._time = 0;\n    tween._tTime = tTime;\n    suppressEvents || _callback(tween, \"onStart\");\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    if (!ratio && tween._startAt && !tween._onUpdate && tween._start) {\n      //if the tween is positioned at the VERY beginning (_start 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n      tween._startAt.render(totalTime, true, force);\n    }\n\n    tween._onUpdate && (suppressEvents || _callback(tween, \"onUpdate\"));\n\n    if (tTime && tween._repeat && !suppressEvents && tween.parent) {\n      _callback(tween, \"onRepeat\");\n    }\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      tween.ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, tween.ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache) {\n  var repeat = animation._repeat,\n      dur = _round(duration) || 0;\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e12 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\n\n  if (animation._time > dur) {\n    animation._time = dur;\n    animation._tTime = Math.min(animation._tTime, animation._tDur);\n  }\n\n  !skipUncache && _uncache(animation.parent);\n  animation.parent && _setEnd(animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    i = position.charAt(0);\n\n    if (i === \"<\" || i === \">\") {\n      return (i === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);\n    }\n\n    i = position.indexOf(\"=\");\n\n    if (i < 0) {\n      if (!(position in labels)) {\n        labels[position] = clippedDuration;\n      }\n\n      return labels[position];\n    }\n\n    offset = +(position.charAt(i - 1) + position.substr(i + 1));\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  return (value + \"\").substr((parseFloat(value) + \"\").length);\n},\n    clamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = ~~(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n\n        if (d > max) {\n          max = d;\n        }\n\n        if (d < min) {\n          min = d;\n        }\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    return ~~(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && ~~(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + (value - inMin) / inRange * outRange;\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  if (animation.progress() < 1) {\n    _callback(animation, \"onInterrupt\");\n  }\n\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  if (config.register) {\n    config.register(gsap, Plugin, PropTween);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length === 4) {\n        //for shorthand like #9F0\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b;\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n\n        if (a.length > 3) {\n          a[3] *= 1; //cast as number\n        }\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch;\n\n    if (elapsed > _lagThreshold) {\n      _startTime += elapsed - _adjustedLag;\n    }\n\n    _lastUpdate += elapsed;\n    _self.time = (_lastUpdate - _startTime) / 1000;\n    overlap = _self.time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      _self.frame++;\n      _nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    if (!manual) {\n      //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n      _id = _req(_tick);\n    }\n\n    if (dispatch) {\n      _listeners.forEach(function (l) {\n        return l(_self.time, elapsed, _self.frame, v);\n      });\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, (_nextTime - _self.time) * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1 / (_fps || 240);\n      _nextTime = _self.time + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1);\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _parenthesesExp.exec(name)[1].split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // potential future feature - allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos. Not sure it's worth the kb.\n// _propagateYoyoEase = (timeline, isYoyo) => {\n// \tlet child = timeline._first, ease;\n// \twhile (child) {\n// \t\tif (child instanceof Timeline) {\n// \t\t\t_propagateYoyoEase(child, isYoyo);\n// \t\t} else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n// \t\t\tif (child.timeline) {\n// \t\t\t\t_propagateYoyoEase(child.timeline, isYoyo);\n// \t\t\t} else {\n// \t\t\t\tease = child._ease;\n// \t\t\t\tchild._ease = child._yEase;\n// \t\t\t\tchild._yEase = ease;\n// \t\t\t\tchild._yoyo = isYoyo;\n// \t\t\t}\n// \t\t}\n// \t\tchild = child._next;\n// \t}\n// },\n_parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation =\n/*#__PURE__*/\nfunction () {\n  function Animation(vars, time) {\n    var parent = vars.parent || _globalTimeline;\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat || 0) {\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1);\n\n    this.data = vars.data;\n    _tickerActive || _ticker.wake();\n    parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);\n    vars.reversed && this.reverse();\n    vars.paused && this.paused(true);\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this.parent || this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      // if (!parent._dp && parent._time === parent._dur) { // if a root timeline completes...and then a while later one of its children resumes, we must shoot the playhead forward to where it should be raw-wise, otherwise the child will jump to the end. Down side: this assumes it's using the _ticker.time as a reference.\n      // \tparent._time = _ticker.time - parent._start;\n      // }\n      this._start = _round(parent._time - (this._ts > 0 ? _totalTime / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - _totalTime) / -this._ts));\n\n      _setEnd(this);\n\n      if (!parent._dirty) {\n        //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n        _uncache(parent);\n      } //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum) {\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n\n      _lazySafeRender(this, _totalTime, suppressEvents);\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  };\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    return _recacheAncestors(this.totalTime(_clamp(0, this._tDur, tTime), true));\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detatched parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  } // globalTime(rawTime) {\n  // \tlet animation = this,\n  // \t\ttime = arguments.length ? rawTime : animation.rawTime();\n  // \twhile (animation) {\n  // \t\ttime = animation._start + time / (animation._ts || 1);\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn time;\n  // }\n  ;\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      this._rDelay = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from, suppressEvents);\n    }\n\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from || this.totalDuration(), suppressEvents);\n    }\n\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    if (atTime != null) {\n      this.seek(atTime, suppressEvents);\n    }\n\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      if (!!value !== this.reversed()) {\n        this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n      }\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive(hasStarted) {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && (this._initted || !hasStarted) && parent.isActive(hasStarted) && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n\n        if (params) {\n          vars[type + \"Params\"] = params;\n        }\n\n        if (type === \"onUpdate\") {\n          this._onUpdate = callback;\n        }\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline =\n/*#__PURE__*/\nfunction (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, time) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars, time) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), _parsePosition(this, position));\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        if (!dur) {\n          prevTime = this._zTime;\n        }\n\n        if (totalTime || !suppressEvents) {\n          //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n          this._zTime = totalTime;\n        }\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n\n          if (iteration < prevIteration) {\n            rewinding = !rewinding;\n          }\n\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime, suppressEvents, !dur)._lock = 0;\n\n          if (!suppressEvents && this.parent) {\n            _callback(this, \"onRepeat\");\n          }\n\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime !== this._time || prevPaused !== !this._ts) {\n            return this;\n          }\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur + 0.0001 : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n          //_propagateYoyoEase(this, isYoyo);\n\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      if (this._onUpdate && !suppressEvents) {\n        _callback(this, \"onUpdate\", true);\n      }\n\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && this._ts < 0) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    if (!_isNumber(position)) {\n      position = _parsePosition(this, position);\n    }\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return _uncache(this);\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          if (tweens) {\n            a.push(child);\n          }\n        } else {\n          if (timelines) {\n            a.push(child);\n          }\n\n          if (nested) {\n            a.push.apply(a, child.getChildren(true, tweens, timelines));\n          }\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this.parent && !this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (!onlyActive || child.isActive(onlyActive === \"started\"))) {\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        tween = Tween.to(tl, _setDefaults(vars, {\n      ease: \"none\",\n      lazy: false,\n      time: endTime,\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n        var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());\n\n        if (tween._dur !== duration) {\n          _setDuration(tween, duration).render(tween._time, true, true);\n        }\n\n        if (_onStart) {\n          //in case the user had an onStart in the vars - we don't want to overwrite it.\n          _onStart.apply(tween, onStartParams || []);\n        }\n      }\n    }));\n\n    return tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._time = this._tTime = 0;\n\n    if (includeLabels) {\n      this.labels = {};\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        end,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        if (child._dirty) {\n          child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n        }\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e20);\n          prevStart = 0;\n        }\n\n        end = _setEnd(child);\n\n        if (end > max && child._ts) {\n          max = end;\n        }\n\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : Math.min(_bigNum, max), 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        if (!child) {\n          _ticker.sleep();\n        }\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  if (_isFunction(end)) {\n    end = end(index || 0, target, targets);\n  }\n\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart + end)) {\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n\n      if (funcParam) {\n        pt.fp = funcParam;\n      }\n\n      if (modifier) {\n        pt.modifier(modifier, this, target);\n      }\n\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  if (_isFunction(vars)) {\n    vars = _parseFuncOrString(vars, tween, index, target, targets);\n  }\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\",\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars;\n\n  if (tl && (!keyframes || !ease)) {\n    ease = \"none\";\n  }\n\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    if (prevStartAt) {\n      prevStartAt.render(-1, true).kill();\n    }\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      if (immediateRender) {\n        if (time > 0) {\n          !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        } else if (dur) {\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        if (time) {\n          //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n          immediateRender = false;\n        }\n\n        _removeFromParent(tween._startAt = Tween.set(targets, _merge(_copyExcluding(vars, _reservedProps), {\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        })));\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    tween._pt = 0;\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n\n      if (_lazyLookup[gsData.id]) {\n        _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      }\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        if (plugin.priority) {\n          hasPriority = 1;\n        }\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            if (plugin.priority) {\n              hasPriority = 1;\n            }\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      if (tween._op && tween._op[i]) {\n        tween.kill(target, tween._op[i]);\n      }\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, \"started\"); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        _overwritingTween = 0;\n      }\n\n      if (tween._pt && lazy) {\n        _lazyLookup[gsData.id] = 1;\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(tween);\n    }\n\n    if (tween._onInit) {\n      //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n      tween._onInit(tween);\n    }\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  tween._onUpdate = onUpdate;\n  tween._initted = 1;\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween =\n/*#__PURE__*/\nfunction (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, time, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      time.duration = vars;\n      vars = time;\n      time = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        parent = _this3.parent,\n        parsedTargets = (_isArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = _assertThisInitialized(_this3);\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              if (!staggerVarsToMerge) {\n                staggerVarsToMerge = {};\n              }\n\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n\n          if (staggerVarsToMerge) {\n            _merge(copy, staggerVarsToMerge);\n          }\n\n          if (vars.yoyoEase && !vars.repeat) {\n            //so that propagation works properly when a ancestor timeline yoyos\n            copy.yoyoEase = vars.yoyoEase;\n          }\n\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        duration = delay = 0;\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    parent && _postAddChecks(parent, _assertThisInitialized(_this3));\n\n    if (immediateRender || !duration && !keyframes && _this3._start === parent._time && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          //timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo);\n          //repeatRefresh functionality\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(cycleDuration * iteration, true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, time, force, suppressEvents)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        if (totalTime < 0 && this._startAt) {\n          this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        }\n\n        _callback(this, \"onUpdate\");\n      }\n\n      if (this._repeat) if (iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent) {\n        _callback(this, \"onRepeat\");\n      }\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        if (totalTime < 0 && this._startAt && !this._onUpdate) {\n          this._startAt.render(totalTime, true, force);\n        }\n\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && !(tTime < tDur && this.timeScale() > 0)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate();\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = 0;\n\n      if (this.parent) {\n        return _interrupt(this);\n      }\n    }\n\n    if (this.timeline) {\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true);\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    if (this._initted && !this._pt && firstPT) {\n      //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n      _interrupt(this);\n    }\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return new Tween(targets, _parseVars(arguments, 1));\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return new Tween(targets, _parseVars(arguments, 2));\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property) {\n      pt.modifier(modifier, tween, target);\n    }\n\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween =\n/*#__PURE__*/\nfunction () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    if (_isString(target)) {\n      //in case selector text or an array is passed in\n      target = toArray(target)[0];\n    }\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    if (unit === \"native\") {\n      unit = \"\";\n    }\n\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, property);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, property, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    if (value && value.ease) {\n      value.ease = _parseEase(value.ease, _defaults.ease);\n    }\n\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref) {\n    var name = _ref.name,\n        effect = _ref.effect,\n        plugins = _ref.plugins,\n        defaults = _ref.defaults,\n        extendTimeline = _ref.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    for (var p in vars) {\n      this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p); //this.add(target, \"setAttribute\", (target.getAttribute((p in target.dataset ? (p = \"data-\" + p) : p)) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.2.6\";\n_coreReady = 1;\n\nif (_windowExists()) {\n  _wake();\n}\n\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\tObject.assign = function ( target ) {\n\n\t\tif ( target === undefined || target === null ) {\n\n\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t}\n\n\t\tvar output = Object( target );\n\n\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\tvar source = arguments[ index ];\n\n\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn output;\n\n\t};\n\n}\n\nvar REVISION = '114';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nvar TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar VSMShadowMap = 3;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipmapNearestFilter = 1004;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipmapLinearFilter = 1005;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipmapNearestFilter = 1007;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipmapLinearFilter = 1008;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RedIntegerFormat = 1029;\nvar RGFormat = 1030;\nvar RGIntegerFormat = 1031;\nvar RGBIntegerFormat = 1032;\nvar RGBAIntegerFormat = 1033;\n\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGB_ETC2_Format = 37492;\nvar RGBA_ETC2_EAC_Format = 37496;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nvar SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nvar SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nvar SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nvar SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nvar SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nvar SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nvar SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nvar SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nvar SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nvar SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nvar SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nvar SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nvar SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\nvar ZeroStencilOp = 0;\nvar KeepStencilOp = 7680;\nvar ReplaceStencilOp = 7681;\nvar IncrementStencilOp = 7682;\nvar DecrementStencilOp = 7683;\nvar IncrementWrapStencilOp = 34055;\nvar DecrementWrapStencilOp = 34056;\nvar InvertStencilOp = 5386;\n\nvar NeverStencilFunc = 512;\nvar LessStencilFunc = 513;\nvar EqualStencilFunc = 514;\nvar LessEqualStencilFunc = 515;\nvar GreaterStencilFunc = 516;\nvar NotEqualStencilFunc = 517;\nvar GreaterEqualStencilFunc = 518;\nvar AlwaysStencilFunc = 519;\n\nvar StaticDrawUsage = 35044;\nvar DynamicDrawUsage = 35048;\nvar StreamDrawUsage = 35040;\nvar StaticReadUsage = 35045;\nvar DynamicReadUsage = 35049;\nvar StreamReadUsage = 35041;\nvar StaticCopyUsage = 35046;\nvar DynamicCopyUsage = 35050;\nvar StreamCopyUsage = 35042;\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author thezwap\n */\n\nvar _lut = [];\n\nfor ( var i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nvar MathUtils = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\tvar uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * MathUtils.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * MathUtils.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\n\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c2 = cos( b / 2 );\n\t\tvar s2 = sin( b / 2 );\n\n\t\tvar c13 = cos( ( a + c ) / 2 );\n\t\tvar s13 = sin( ( a + c ) / 2 );\n\n\t\tvar c1_3 = cos( ( a - c ) / 2 );\n\t\tvar s1_3 = sin( ( a - c ) / 2 );\n\n\t\tvar c3_1 = cos( ( c - a ) / 2 );\n\t\tvar s3_1 = sin( ( c - a ) / 2 );\n\n\t\tif ( order === 'XYX' ) {\n\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\n\t\t} else if ( order === 'YZY' ) {\n\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\n\t\t} else if ( order === 'ZXZ' ) {\n\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\n\t\t} else if ( order === 'XZX' ) {\n\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\n\t\t} else if ( order === 'YXY' ) {\n\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\n\t\t} else if ( order === 'ZYZ' ) {\n\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.internalFormat = null;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.defineProperties( Vector4.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.z = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.w = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector = new Vector3();\nvar _quaternion = new Quaternion();\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t},\n\n\tapplyAxisAngle: function ( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( v ) {\n\n\t\tvar denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tvar scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function ( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t},\n\n\treflect: function ( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t},\n\n\tangleTo: function ( v ) {\n\n\t\tvar denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tvar theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tsetFromMatrix3Column: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nvar _v1 = new Vector3();\nvar _m1 = new Matrix4();\nvar _zero = new Vector3( 0, 0, 0 );\nvar _one = new Vector3( 1, 1, 1 );\nvar _x = new Vector3();\nvar _y = new Vector3();\nvar _z = new Vector3();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function ( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tvar scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tvar scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tvar scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t},\n\n\tlookAt: function ( eye, target, up ) {\n\n\t\tvar te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tvar sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tvar sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tvar det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tvar invSX = 1 / sx;\n\t\tvar invSY = 1 / sy;\n\t\tvar invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nvar _matrix = new Matrix4();\nvar _quaternion$1 = new Quaternion();\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = MathUtils.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function ( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t},\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function ( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t},\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\tenableAll: function () {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\tdisableAll: function () {\n\n\t\tthis.mask = 0;\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\nvar _object3DId = 0;\n\nvar _v1$1 = new Vector3();\nvar _q1 = new Quaternion();\nvar _m1$1 = new Matrix4();\nvar _target = new Vector3();\n\nvar _position = new Vector3();\nvar _scale = new Vector3();\nvar _quaternion$2 = new Quaternion();\n\nvar _xAxis = new Vector3( 1, 0, 0 );\nvar _yAxis = new Vector3( 0, 1, 0 );\nvar _zAxis = new Vector3( 0, 0, 1 );\n\nvar _addedEvent = { type: 'added' };\nvar _removedEvent = { type: 'removed' };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tvar parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.getInverse( this.matrixWorld );\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.environment = null;\n\tthis.fog = null;\n\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nvar _points = [\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3()\n];\n\nvar _vector$1 = new Vector3();\n\nvar _box = new Box3();\n\n// triangle centered vertices\n\nvar _v0 = new Vector3();\nvar _v1$2 = new Vector3();\nvar _v2 = new Vector3();\n\n// triangle edge vectors\n\nvar _f0 = new Vector3();\nvar _f1 = new Vector3();\nvar _f2 = new Vector3();\n\nvar _center = new Vector3();\nvar _extents = new Vector3();\nvar _triangleNormal = new Vector3();\nvar _testAxis = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function ( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$1 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: function ( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1$2.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$2, _v0 );\n\t\t_f1.subVectors( _v2, _v1$2 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tvar axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1$2, _v2, _extents );\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tgetBoundingSphere: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\n\n\t\treturn target;\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tvar i, j;\n\n\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tvar r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tvar p0 = v0.dot( _testAxis );\n\t\tvar p1 = v1.dot( _testAxis );\n\t\tvar p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nvar _box$1 = new Box3();\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points, optionalCenter ) {\n\n\t\tvar center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tvar maxRadiusSq = 0;\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\nvar _vector$2 = new Vector3();\nvar _segCenter = new Vector3();\nvar _segDir = new Vector3();\nvar _diff = new Vector3();\n\nvar _edge1 = new Vector3();\nvar _edge2 = new Vector3();\nvar _normal = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function ( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\n\n\t\treturn this;\n\n\t},\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function ( point ) {\n\n\t\tvar directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$2.distanceToSquared( point );\n\n\t},\n\n\tdistanceSqToSegment: function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tvar a01 = - this.direction.dot( _segDir );\n\t\tvar b0 = _diff.dot( this.direction );\n\t\tvar b1 = - _diff.dot( _segDir );\n\t\tvar c = _diff.lengthSq();\n\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\tvar s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t},\n\n\tintersectSphere: function ( sphere, target ) {\n\n\t\t_vector$2.subVectors( sphere.center, this.origin );\n\t\tvar tca = _vector$2.dot( this.direction );\n\t\tvar d2 = _vector$2.dot( _vector$2 ) - tca * tca;\n\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tvar t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tvar t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\n\n\t},\n\n\tintersectTriangle: function ( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tvar DdN = this.direction.dot( _normal );\n\t\tvar sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tvar DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tvar QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t},\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector1 = new Vector3();\nvar _vector2 = new Vector3();\nvar _normalMatrix = new Matrix3();\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tisPlane: true,\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function ( a, b, c ) {\n\n\t\tvar normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function ( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar direction = line.delta( _vector1 );\n\n\t\tvar denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t},\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\n\n\t\tvar normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tvar referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v0$1 = new Vector3();\nvar _v1$3 = new Vector3();\nvar _v2$1 = new Vector3();\nvar _v3 = new Vector3();\n\nvar _vab = new Vector3();\nvar _vac = new Vector3();\nvar _vbc = new Vector3();\nvar _vap = new Vector3();\nvar _vbp = new Vector3();\nvar _vcp = new Vector3();\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function ( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tvar targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t},\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function ( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tvar dot00 = _v0$1.dot( _v0$1 );\n\t\tvar dot01 = _v0$1.dot( _v1$3 );\n\t\tvar dot02 = _v0$1.dot( _v2$1 );\n\t\tvar dot11 = _v1$3.dot( _v1$3 );\n\t\tvar dot12 = _v1$3.dot( _v2$1 );\n\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tvar invDenom = 1 / denom;\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t},\n\n\tcontainsPoint: function ( point, a, b, c ) {\n\n\t\tTriangle.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t},\n\n\tgetUV: function ( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t},\n\n\tisFrontFacing: function ( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t},\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tisFrontFacing: function ( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function ( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar a = this.a, b = this.b, c = this.c;\n\t\tvar v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tvar d1 = _vab.dot( _vap );\n\t\tvar d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tvar d3 = _vab.dot( _vbp );\n\t\tvar d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tvar vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tvar d5 = _vab.dot( _vcp );\n\t\tvar d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tvar vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tvar va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tvar denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t},\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nvar _hslA = { h: 0, s: 0, l: 0 };\nvar _hslB = { h: 0, s: 0, l: 0 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function ( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetColorName: function ( style ) {\n\n\t\t// color keywords\n\t\tvar hex = _colorKeywords[ style ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function ( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToSRGB: function ( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function ( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tvar h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tvar s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tvar l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\nColor.NAMES = _colorKeywords;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _vector$3 = new Vector3();\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix3( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nvar _m1$2 = new Matrix4();\nvar _obj = new Object3D();\nvar _offset = new Vector3();\nvar _box$2 = new Box3();\nvar _boxMorphTargets = new Box3();\nvar _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\tthis.morphTargetsRelative = false;\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tsetAttribute: function ( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tdeleteAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tvar tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t_box$2.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$2.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tvar morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( var j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$4.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.setAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeOffset = attribute2.itemSize * offset;\n\t\t\tvar length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( var i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar normals = this.attributes.normal;\n\n\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.x = normals.getX( i );\n\t\t\t_vector$4.y = normals.getY( i );\n\t\t\t_vector$4.z = normals.getZ( i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tvar morphAttributes = {};\n\t\tvar hasMorphAttributes = false;\n\n\t\tfor ( var key in this.morphAttributes ) {\n\n\t\t\tvar attributeArray = this.morphAttributes[ key ];\n\n\t\t\tvar array = [];\n\n\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = attributeArray[ i ];\n\n\t\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nvar _inverseMatrix = new Matrix4();\nvar _ray = new Ray();\nvar _sphere = new Sphere();\n\nvar _vA = new Vector3();\nvar _vB = new Vector3();\nvar _vC = new Vector3();\n\nvar _tempA = new Vector3();\nvar _tempB = new Vector3();\nvar _tempC = new Vector3();\n\nvar _morphA = new Vector3();\nvar _morphB = new Vector3();\nvar _morphC = new Vector3();\n\nvar _uvA = new Vector2();\nvar _uvB = new Vector2();\nvar _uvC = new Vector2();\n\nvar _intersectionPoint = new Vector3();\nvar _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar material = this.material;\n\t\tvar matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.getInverse( matrixWorld );\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tvar intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar a, b, c;\n\t\t\tvar index = geometry.index;\n\t\t\tvar position = geometry.attributes.position;\n\t\t\tvar morphPosition = geometry.morphAttributes.position;\n\t\t\tvar morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tvar uv = geometry.attributes.uv;\n\t\t\tvar uv2 = geometry.attributes.uv2;\n\t\t\tvar groups = geometry.groups;\n\t\t\tvar drawRange = geometry.drawRange;\n\t\t\tvar i, j, il, jl;\n\t\t\tvar group, groupMaterial;\n\t\t\tvar start, end;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar fvA, fvB, fvC;\n\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar faces = geometry.faces;\n\t\t\tvar uvs;\n\n\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tvar face = faces[ f ];\n\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tvar intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tvar distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tvar morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( var i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tvar influence = morphInfluences[ i ];\n\t\t\tvar morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tvar intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tvar face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar _geometryId = 0; // Geometry uses even numbers as Id\nvar _m1$3 = new Matrix4();\nvar _obj$1 = new Object3D();\nvar _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tif ( attributes.position === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0; i < positions.length; i += 3 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( var i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( var j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( var k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nclass BoxGeometry extends Geometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n// BoxBufferGeometry\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tvar scope = this;\n\n\t\twidth = width || 1;\n\t\theight = height || 1;\n\t\tdepth = depth || 1;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments ) || 1;\n\t\theightSegments = Math.floor( heightSegments ) || 1;\n\t\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t\t// buffers\n\n\t\tvar indices = [];\n\t\tvar vertices = [];\n\t\tvar normals = [];\n\t\tvar uvs = [];\n\n\t\t// helper variables\n\n\t\tvar numberOfVertices = 0;\n\t\tvar groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tvar segmentWidth = width / gridX;\n\t\t\tvar segmentHeight = height / gridY;\n\n\t\t\tvar widthHalf = width / 2;\n\t\t\tvar heightHalf = height / 2;\n\t\t\tvar depthHalf = depth / 2;\n\n\t\t\tvar gridX1 = gridX + 1;\n\t\t\tvar gridY1 = gridY + 1;\n\n\t\t\tvar vertexCounter = 0;\n\t\t\tvar groupCount = 0;\n\n\t\t\tvar ix, iy;\n\n\t\t\tvar vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLCubeRenderTarget( cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( renderTarget, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\n\n\tif ( Number.isInteger( options ) ) {\n\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\toptions = dummy;\n\n\t}\n\n\tWebGLRenderTarget.call( this, size, size, options );\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = texture.format;\n\tthis.texture.encoding = texture.encoding;\n\n\tvar scene = new Scene();\n\n\tvar shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n\t\t\t\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n\t\t\t\"}\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n\t\t\t\"\t#include <begin_vertex>\",\n\t\t\t\"\t#include <project_vertex>\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tEquirect;\",\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"#define RECIPROCAL_PI 0.31830988618\",\n\t\t\t\"#define RECIPROCAL_PI2 0.15915494\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvec3 direction = normalize( vWorldDirection );\",\n\n\t\t\t\"\tvec2 sampleUV;\",\n\n\t\t\t\"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\n\n\t\t\t\"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\n\t\t\t\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\t};\n\n\tvar material = new ShaderMaterial( {\n\n\t\ttype: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tvar mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\n\n\tscene.add( mesh );\n\n\tvar camera = new CubeCamera( 1, 10, 1 );\n\n\tcamera.renderTarget = this;\n\tcamera.renderTarget.texture.name = 'CubeCameraTexture';\n\n\tcamera.update( renderer, scene );\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nvar _sphere$1 = new Sphere();\nvar _vector$5 = new Vector3();\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromProjectionMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSprite: function ( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.usage;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 1.0) {\\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\\n    } else if (face == 2.0) {\\n      uv = direction.xy / abs(direction.z);\\n    } else if (face == 3.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 4.0) {\\n      uv = direction.xz / abs(direction.y);\\n    } else {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\\n    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_normalmap_pars_fragment = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\ttransparency: { value: 0 },\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\tvar currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tvar xr = renderer.xr;\n\t\tvar session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLCubeRenderTarget ? background.texture : background;\n\n\t\t\tboxMesh.material.uniforms.envMap.value = texture;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== texture.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tvar extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tvar isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = new WeakMap();\n\tvar wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tvar attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryPosition = geometry.attributes.position;\n\t\tvar version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\t//\n\n\t\tvar previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tvar geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tvar extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tvar length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.deleteAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tvar morphInfluencesSum = 0;\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tvar morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tvar updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture2dArray = new DataTexture2DArray();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// uint\n\nfunction setValueV1ui( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tvar status = gl.getShaderParameter( shader, 35713 );\n\tvar log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tvar source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tvar chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nvar includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tvar string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nvar loopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string.replace( loopPattern, loopReplacer );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tvar string = '';\n\n\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[ i \\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tvar precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n\tif ( parameters.precision === \"highp\" ) {\n\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\n\n\t} else if ( parameters.precision === \"mediump\" ) {\n\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n\t} else if ( parameters.precision === \"lowp\" ) {\n\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters ) {\n\n\tvar gl = renderer.getContext();\n\n\tvar defines = parameters.defines;\n\n\tvar vertexShader = parameters.vertexShader;\n\tvar fragmentShader = parameters.fragmentShader;\n\tvar shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tvar envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tvar envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tvar envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tvar customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tvar customDefines = generateDefines( defines );\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t' attribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding || parameters.lightMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMapEncoding ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && ! parameters.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( parameters.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tvar runnable = true;\n\t\tvar haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tvar vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tvar fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// clean up\n\n\tgl.detachShader( program, glVertexShader );\n\tgl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\tvar logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tvar floatVertexTextures = capabilities.floatVertexTextures;\n\tvar precision = capabilities.precision;\n\tvar maxVertexUniforms = capabilities.maxVertexUniforms;\n\tvar vertexTextures = capabilities.vertexTextures;\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\",\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\"\n\t];\n\n\tfunction getShaderObject( material, shaderID ) {\n\n\t\tvar shaderobject;\n\n\t\tif ( shaderID ) {\n\n\t\t\tvar shader = ShaderLib[ shaderID ];\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.type,\n\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.type,\n\t\t\t\tuniforms: material.uniforms,\n\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t};\n\n\t\t}\n\n\t\treturn shaderobject;\n\n\t}\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, scene, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar fog = scene.fog;\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tvar envMap = material.envMap || environment;\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar shaderobject = getShaderObject( material, shaderID );\n\t\tmaterial.onBeforeCompile( shaderobject, renderer );\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: shaderobject.name,\n\n\t\t\tuniforms: shaderobject.uniforms,\n\t\t\tvertexShader: shaderobject.vertexShader,\n\t\t\tfragmentShader: shaderobject.fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial,\n\t\t\tisShaderMaterial: material.isShaderMaterial,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.displacementMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawbuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.get( 'EXT_frag_depth' ) !== null,\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.get( 'WEBGL_draw_buffers' ) !== null,\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) !== null,\n\n\t\t\tonBeforeCompile: material.onBeforeCompile\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCacheKey = function ( parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( var name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === undefined ) {\n\n\t\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.onBeforeCompile.toString() );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( parameters, cacheKey ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tvar defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( var i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tvar renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tlists.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists.get( scene );\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nvar nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar shadowCache = ShadowUniformsCache();\n\n\tvar state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( var i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar numDirectionalShadows = 0;\n\t\tvar numPointShadows = 0;\n\t\tvar numSpotShadows = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( var j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tvar hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\trenderStates.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tvar shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tvar fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tvar fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tvar currentRenderTarget = _renderer.getRenderTarget();\n\t\tvar activeCubeFace = _renderer.getActiveCubeFace();\n\t\tvar activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tvar shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has shadow exceeding max texture size, reducing' );\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tvar viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( var vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tvar viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tvar geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tvar material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tvar material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar getMaterialVariant = getDepthMaterialVariant;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tif ( geometry.isBufferGeometry === true ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry.isGeometry === true ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tvar equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tvar extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tvar factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tvar stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\tvar maxTextures = capabilities.maxTextures;\n\tvar maxCubemapSize = capabilities.maxCubemapSize;\n\tvar maxTextureSize = capabilities.maxTextureSize;\n\tvar maxSamples = capabilities.maxSamples;\n\n\tvar _videoTextures = new WeakMap();\n\tvar _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tvar useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tvar floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tvar width = floor( scale * image.width );\n\t\t\t\tvar height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tvar textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tvar textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tinitTexture( textureProperties, texture );\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\tvar isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tvar cubeImage = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tvar mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tvar mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t} else {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tvar wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tvar filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( isWebGL2 === false ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tvar warnedTexture2D = false;\n\tvar warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\t// currently relying on the fact that WebGLCubeRenderTarget.texture is a Texture and NOT a CubeTexture\n\t\t// TODO: unify these code paths\n\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t// this function alone should take care of cube textures\n\t\t\tsetTextureCube( texture, slot );\n\n\t\t} else {\n\n\t\t\t// assumed: texture property of THREE.WebGLCubeRenderTarget\n\t\t\tsetTextureCubeDynamic( texture, slot );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer, gl ) {\n\n\tvar scope = this;\n\n\tvar session = null;\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar referenceSpace = null;\n\tvar referenceSpaceType = 'local-floor';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSourcesMap = new Map();\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\tvar _currentDepthNear = null;\n\tvar _currentDepthFar = null;\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.isPresenting = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = {};\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\tif ( controller.targetRay === undefined ) {\n\n\t\t\tcontroller.targetRay = new Group();\n\t\t\tcontroller.targetRay.matrixAutoUpdate = false;\n\t\t\tcontroller.targetRay.visible = false;\n\n\t\t}\n\n\t\treturn controller.targetRay;\n\n\t};\n\n\tthis.getControllerGrip = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = {};\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\tif ( controller.grip === undefined ) {\n\n\t\t\tcontroller.grip = new Group();\n\t\t\tcontroller.grip.matrixAutoUpdate = false;\n\t\t\tcontroller.grip.visible = false;\n\n\t\t}\n\n\t\treturn controller.grip;\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tvar controller = inputSourcesMap.get( event.inputSource );\n\n\t\tif ( controller ) {\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tcontroller.targetRay.visible = false;\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tcontroller.grip.visible = false;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tinputSourcesMap.clear();\n\n\t\t//\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.isPresenting = false;\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.isPresenting = true;\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t\t// Warn if function is used while presenting\n\t\tif ( scope.isPresenting == true ) {\n\n\t\t\tconsole.warn( \"WebXRManager: Cannot change framebuffer scale while presenting VR content\" );\n\n\t\t}\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.getReferenceSpace = function () {\n\n\t\treturn referenceSpace;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tvar attributes = gl.getContextAttributes();\n\n\t\t\tvar layerInit = {\n\t\t\t\tantialias: attributes.antialias,\n\t\t\t\talpha: attributes.alpha,\n\t\t\t\tdepth: attributes.depth,\n\t\t\t\tstencil: attributes.stencil,\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tvar baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\n\n\t\t}\n\n\t};\n\n\tfunction updateInputSources( event ) {\n\n\t\tvar inputSources = session.inputSources;\n\n\t\t// Assign inputSources to available controllers\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t}\n\n\t\t// Notify disconnected\n\n\t\tfor ( var i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\tvar inputSource = event.removed[ i ];\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip ) {\n\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Notify connected\n\n\t\tfor ( var i = 0; i < event.added.length; i ++ ) {\n\n\t\t\tvar inputSource = event.added[ i ];\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip ) {\n\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar cameraLPos = new Vector3();\n\tvar cameraRPos = new Vector3();\n\n\t/**\n\t * @author jsantell / https://www.jsantell.com/\n\t *\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t * the cameras' projection and world matrices have already been set.\n\t * And that near and far planes are identical for both cameras.\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t */\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\tvar projL = cameraL.projectionMatrix.elements;\n\t\tvar projR = cameraR.projectionMatrix.elements;\n\n\t\t// VR systems will have identical far and near planes, and\n\t\t// most likely identical top and bottom frustum extents.\n\t\t// Use the left camera for these values.\n\t\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\tvar left = near * leftFov;\n\t\tvar right = near * rightFov;\n\n\t\t// Calculate the new camera's position offset from the\n\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\tvar zOffset = ipd / ( - leftFov + rightFov );\n\t\tvar xOffset = zOffset * - leftFov;\n\n\t\t// TODO: Better way to apply this offset?\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.translateX( xOffset );\n\t\tcamera.translateZ( zOffset );\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t// Find the union of the frustum values of the cameras and scale\n\t\t// the values so that the near plane's position does not change in world space,\n\t\t// although must now be relative to the new union camera.\n\t\tvar near2 = near + zOffset;\n\t\tvar far2 = far + zOffset;\n\t\tvar left2 = left - xOffset;\n\t\tvar right2 = right + ( ipd - xOffset );\n\t\tvar top2 = topFov * far / far2 * near2;\n\t\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t}\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\tsession.updateRenderState( {\n\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\tdepthFar: cameraVR.far\n\t\t\t} );\n\n\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t}\n\n\t\tvar parent = camera.parent;\n\t\tvar cameras = cameraVR.cameras;\n\n\t\tupdateCamera( cameraVR, parent );\n\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t}\n\n\t\t// update camera and its children\n\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\tvar children = camera.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t}\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\treturn cameraVR;\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar views = pose.views;\n\t\t\tvar baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = baseLayer.getViewport( view );\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar inputSources = session.inputSources;\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tvar inputPose = null;\n\t\t\tvar gripPose = null;\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\t\tcontroller.targetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\t\tcontroller.targetRay.matrix.decompose( controller.targetRay.position, controller.targetRay.rotation, controller.targetRay.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tcontroller.grip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tcontroller.grip.matrix.decompose( controller.grip.position, controller.grip.rotation, controller.grip.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.visible = inputPose !== null;\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.visible = gripPose !== null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentActiveCubeFace = 0,\n\t\t_currentActiveMipmapLevel = 0,\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\t\t_opaqueSort = null,\n\t\t_transparentSort = null,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n\t\t\txrCompatible: true\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( capabilities.isWebGL2 === false ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tvar xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\txr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tvar tempScene = new Scene();\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = tempScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tvar frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tvar program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, geometry, material, program );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, geometry.maxInstancedCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( object, geometry, material, program ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tvar attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tvar compiled = {};\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tif ( object.material[ i ].uuid in compiled === false ) {\n\n\t\t\t\t\t\t\tinitMaterial( object.material[ i ], scene, object );\n\t\t\t\t\t\t\tcompiled[ object.material[ i ].uuid ] = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( object.material.uuid in compiled === false ) {\n\n\t\t\t\t\tinitMaterial( object.material, scene, object );\n\t\t\t\t\tcompiled[ object.material.uuid ] = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( xr.isPresenting ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tvar renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled && xr.isPresenting ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tvar program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, scene, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsStateVersion = lights.state.version;\n\n\t\tvar parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, _clipping.numPlanes, _clipping.numIntersection, object );\n\t\tvar programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.outputEncoding = _this.outputEncoding;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = scene.fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\ttextures.resetTextureUnits();\n\n\t\tvar fog = scene.fog;\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.environment !== environment ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.outputEncoding !== _this.outputEncoding ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tinitMaterial( material, scene, object );\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material, environment );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material, environment );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material, environment );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value.copy( material.color );\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material, environment ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tvar envMap = material.envMap || environment;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tvar uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material, environment ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap || environment ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, environment ) {\n\n\t\trefreshUniformsStandard( uniforms, material, environment );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transparency.value = material.transparency;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipmapLevel ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipmapLevel || 0 );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tvar levelScale = Math.pow( 2, - level );\n\t\tvar width = Math.floor( texture.image.width * levelScale );\n\t\tvar height = Math.floor( texture.image.height * levelScale );\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nObject.assign( FogExp2.prototype, {\n\n\tisFogExp2: true,\n\n\tclone: function () {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nObject.assign( Fog.prototype, {\n\n\tisFog: true,\n\n\tclone: function () {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nvar _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _geometry;\n\nvar _intersectPoint = new Vector3();\nvar _worldScale = new Vector3();\nvar _mvPosition = new Vector3();\n\nvar _alignedPosition = new Vector2();\nvar _rotatedPosition = new Vector2();\nvar _viewWorldMatrix = new Matrix4();\n\nvar _vA$1 = new Vector3();\nvar _vB$1 = new Vector3();\nvar _vC$1 = new Vector3();\n\nvar _uvA$1 = new Vector2();\nvar _uvB$1 = new Vector2();\nvar _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tvar rotation = this.material.rotation;\n\t\tvar sin, cos;\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tvar center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tvar intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v1$4 = new Vector3();\nvar _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis._currentLevel = 0;\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetCurrentLevel: function () {\n\n\t\treturn this._currentLevel;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = _v1$4.distanceTo( _v2$2 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nvar _offsetMatrix = new Matrix4();\nvar _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\tthis.frame = - 1;\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tvar bones = this.bones;\n\t\tvar boneInverses = this.boneInverses;\n\t\tvar boneMatrices = this.boneMatrices;\n\t\tvar boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== undefined ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _instanceLocalMatrix = new Matrix4();\nvar _instanceWorldMatrix = new Matrix4();\n\nvar _instanceIntersects = [];\n\nvar _mesh = new Mesh();\n\nfunction InstancedMesh( geometry, material, count ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\n\tthis.count = count;\n\n\tthis.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: InstancedMesh,\n\n\tisInstancedMesh: true,\n\n\tgetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( var instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tif ( _instanceIntersects.length > 0 ) {\n\n\t\t\t\t_instanceIntersects[ 0 ].instanceId = instanceId;\n\t\t\t\t_instanceIntersects[ 0 ].object = this;\n\n\t\t\t\tintersects.push( _instanceIntersects[ 0 ] );\n\n\t\t\t\t_instanceIntersects.length = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tsetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start = new Vector3();\nvar _end = new Vector3();\nvar _inverseMatrix$1 = new Matrix4();\nvar _ray$1 = new Ray();\nvar _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar threshold = raycaster.params.Line.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localThresholdSq = localThreshold * localThreshold;\n\n\t\tvar vStart = new Vector3();\n\t\tvar vEnd = new Vector3();\n\t\tvar interSegment = new Vector3();\n\t\tvar interRay = new Vector3();\n\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar nbVertices = vertices.length;\n\n\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start$1 = new Vector3();\nvar _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [];\n\n\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _inverseMatrix$2 = new Matrix4();\nvar _ray$2 = new Ray();\nvar _sphere$3 = new Sphere();\nvar _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromArray( positions, a * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromArray( positions, i * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar vertices = geometry.vertices;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tvar rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tvar intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tapplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction applyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\nTubeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tdata.path = this.parameters.path.toJSON();\n\n\treturn data;\n\n};\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.5)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tvar p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tvar a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tvar a = start;\n\tdo {\n\n\t\tvar b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [],\n\t\ti, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tvar p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t   ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t   ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\t   locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, p2 ) && equals( q1, q2 ) ) ||\n\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t   area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\t\tbevelOffset = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize + bevelOffset;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\t// special case for the poles\n\n\t\tvar uOffset = 0;\n\n\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t}\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.copy( vertex ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 1.0;\n\tthis.metalness = 0.0;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.vertexTangents = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.vertexTangents = source.vertexTangents;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n *  clearcoat: <float>\n *  clearcoatRoughness: <float>\n *\n *  sheen: <Color>\n *\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatRoughness = 0.0;\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.transparency = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\n\tif ( source.sheen ) this.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\telse this.sheen = null;\n\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.transparency = source.transparency;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\tthis.gradientMap = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( Material.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\tthis.gradientMap = source.gradientMap;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps ) {\n\n\t\tfps = fps || 30;\n\n\t\tvar clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tvar track = clip.tracks[ i ];\n\t\t\tvar valueSize = track.getValueSize();\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\tfor ( var j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tvar frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( var k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tvar minStartTime = Infinity;\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tvar times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tvar TypedKeyframeTrack = this.constructor;\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\tvar handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tvar index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.path = '';\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = MathUtils.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewportIndex ) {\n\n\t\tif ( viewportIndex === undefined ) viewportIndex = 0;\n\n\t\tvar camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( var key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.maxInstancedCount = this.maxInstancedCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tvar data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\tvar bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\tvar bufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tvar morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( var key in morphAttributes ) {\n\n\t\t\t\tvar attributeArray = morphAttributes[ key ];\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar attribute = attributeArray[ i ];\n\t\t\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\t\t\tvar bufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\t\t\t\tvar count = data.count;\n\t\t\t\tvar instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\tif ( scope.options === undefined ) {\n\n\t\t\t\t// Workaround for FireFox. It causes an error if you pass options.\n\t\t\t\treturn createImageBitmap( blob );\n\n\t\t\t} else {\n\n\t\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t\t}\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nfunction SphericalHarmonics3() {\n\n\tthis.coefficients = [];\n\n\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\tthis.coefficients.push( new Vector3() );\n\n\t}\n\n}\n\nObject.assign( SphericalHarmonics3.prototype, {\n\n\tisSphericalHarmonics3: true,\n\n\tset: function ( coefficients ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tzero: function () {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScale( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScale( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScale( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScale( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScale( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScale( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t},\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScale( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScale( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScale( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScale( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScale( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScale( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t},\n\n\tadd: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tscale: function ( s ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( sh, alpha ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcopy: function ( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n} );\n\nObject.assign( SphericalHarmonics3, {\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tgetBasisAt: function ( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * A LightProbe is a source of indirect-diffuse light\n */\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( skyColor );\n\tvar color2 = new Color().set( groundColor );\n\n\tvar sky = new Vector3( color1.r, color1.g, color1.b );\n\tvar ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tvar c0 = Math.sqrt( Math.PI );\n\tvar c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nvar _eyeRight = new Matrix4();\nvar _eyeLeft = new Matrix4();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tvar cache = this._cache;\n\n\t\tvar needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tvar eyeSepHalf = cache.eyeSep / 2;\n\t\t\tvar eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tvar ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tvar xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$2 = new Vector3();\nvar _quaternion$3 = new Quaternion();\nvar _scale$1 = new Vector3();\nvar _orientation = new Vector3();\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n\t// private\n\n\tthis._clock = new Clock();\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tvar listener = this.context.listener;\n\t\tvar up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.loopStart = 0;\n\tthis.loopEnd = 0;\n\tthis.offset = 0;\n\tthis.duration = undefined;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis._startedAt = 0;\n\tthis._pausedAt = 0;\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaStreamSource: function ( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function ( delay ) {\n\n\t\tif ( delay === undefined ) delay = 0;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tvar source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._pausedAt + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis._pausedAt += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._pausedAt = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopStart: function ( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopEnd: function ( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$3 = new Vector3();\nvar _quaternion$4 = new Quaternion();\nvar _scale$2 = new Vector3();\nvar _orientation$1 = new Vector3();\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.panningModel = 'HRTF';\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tvar panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nvar _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nvar _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nvar _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nvar _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nvar _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nvar _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nvar _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nvar _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nvar _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tvar matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tvar results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime: function ( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( var i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\tthis.layers = new Layers();\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: { threshold: 1 },\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector$7 = new Vector2();\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _startP = new Vector3();\nvar _startEnd = new Vector3();\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function ( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tvar startEnd2 = _startEnd.dot( _startEnd );\n\t\tvar startEnd_startP = _startEnd.dot( _startP );\n\n\t\tvar t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t},\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector$8 = new Vector3();\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tthis.light.updateMatrixWorld();\n\n\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\tthis.cone.lookAt( _vector$8 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.cone.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.cone.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$9 = new Vector3();\nvar _boneMatrix = new Matrix4();\nvar _matrixWorldInv = new Matrix4();\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.isSkeletonHelper = true;\n\nSkeletonHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar bones = this.bones;\n\n\tvar geometry = this.geometry;\n\tvar position = geometry.getAttribute( 'position' );\n\n\t_matrixWorldInv.getInverse( this.root.matrixWorld );\n\n\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\tj += 2;\n\n\t\t}\n\n\t}\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$a = new Vector3();\nvar _color1 = new Color();\nvar _color2 = new Color();\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar mesh = this.children[ 0 ];\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t_color1.copy( this.light.color );\n\t\t_color2.copy( this.light.groundColor );\n\n\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\tvar color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t}\n\n\t\tcolors.needsUpdate = true;\n\n\t}\n\n\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\n\n\tconstructor: GridHelper,\n\n\tcopy: function ( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _v1$5 = new Vector3();\nvar _v2$3 = new Vector3();\nvar _v3$1 = new Vector3();\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\t_v1$5.setFromMatrixPosition( this.light.matrixWorld );\n\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\t_v3$1.subVectors( _v2$3, _v1$5 );\n\n\tthis.lightPlane.lookAt( _v2$3 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.lightPlane.material.color.set( this.color );\n\t\tthis.targetLine.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t}\n\n\tthis.targetLine.lookAt( _v2$3 );\n\tthis.targetLine.scale.z = _v3$1.length();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nvar _vector$b = new Vector3();\nvar _camera = new Camera();\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry = this.geometry;\n\tvar pointMap = this.pointMap;\n\n\tvar w = 1, h = 1;\n\n\t// we need just camera projection matrix inverse\n\t// world matrix must be identity\n\n\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t// center / target\n\n\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t// near\n\n\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t// far\n\n\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t// up\n\n\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t// cross\n\n\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n};\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$b.set( x, y, z ).unproject( camera );\n\n\tvar points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nvar _box$3 = new Box3();\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = function ( object ) {\n\n\tif ( object !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t}\n\n\tif ( this.object !== undefined ) {\n\n\t\t_box$3.setFromObject( this.object );\n\n\t}\n\n\tif ( _box$3.isEmpty() ) return;\n\n\tvar min = _box$3.min;\n\tvar max = _box$3.max;\n\n\t/*\n\t  5____4\n\t1/___0/|\n\t| 6__|_7\n\t2/___3/\n\n\t0: max.x, max.y, max.z\n\t1: min.x, max.y, max.z\n\t2: min.x, min.y, max.z\n\t3: max.x, min.y, max.z\n\t4: max.x, max.y, min.z\n\t5: min.x, max.y, min.z\n\t6: min.x, min.y, min.z\n\t7: max.x, min.y, min.z\n\t*/\n\n\tvar position = this.geometry.attributes.position;\n\tvar array = position.array;\n\n\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\tposition.needsUpdate = true;\n\n\tthis.geometry.computeBoundingSphere();\n\n\n};\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, color ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tcolor = color || 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar _axis = new Vector3();\nvar _lineGeometry, _coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( _lineGeometry === undefined ) {\n\n\t\t_lineGeometry = new BufferGeometry();\n\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = function ( dir ) {\n\n\t// dir is assumed to be normalized\n\n\tif ( dir.y > 0.99999 ) {\n\n\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t} else if ( dir.y < - 0.99999 ) {\n\n\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t} else {\n\n\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\tvar radians = Math.acos( dir.y );\n\n\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t}\n\n};\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.set( color );\n\tthis.cone.material.color.set( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author Emmett Lalish / elalish\n *\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nvar LOD_MIN = 4;\nvar LOD_MAX = 8;\nvar SIZE_MAX = Math.pow( 2, LOD_MAX );\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nvar EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\nvar TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nvar MAX_SAMPLES = 20;\nvar ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nvar _flatCamera = new OrthographicCamera();\nvar _blurMaterial = _getBlurShader( MAX_SAMPLES );\nvar _equirectShader = null;\nvar _cubemapShader = null;\n\nvar { _lodPlanes, _sizeLods, _sigmas } = _createPlanes();\nvar _pingPongRenderTarget = null;\nvar _renderer = null;\n\nvar _oldTarget = null;\n\n// Golden Ratio\nvar PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nvar INV_PHI = 1 / PHI;\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nvar _axisDirections = [\n\tnew Vector3( 1, 1, 1 ),\n\tnew Vector3( - 1, 1, 1 ),\n\tnew Vector3( 1, 1, - 1 ),\n\tnew Vector3( - 1, 1, - 1 ),\n\tnew Vector3( 0, PHI, INV_PHI ),\n\tnew Vector3( 0, PHI, - INV_PHI ),\n\tnew Vector3( INV_PHI, 0, PHI ),\n\tnew Vector3( - INV_PHI, 0, PHI ),\n\tnew Vector3( PHI, INV_PHI, 0 ),\n\tnew Vector3( - PHI, INV_PHI, 0 ) ];\n\nfunction PMREMGenerator( renderer ) {\n\n\t_renderer = renderer;\n\t_compileMaterial( _blurMaterial );\n\n}\n\nPMREMGenerator.prototype = {\n\n\tconstructor: PMREMGenerator,\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene: function ( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = _renderer.getRenderTarget();\n\t\tvar cubeUVRenderTarget = _allocateTargets();\n\t\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\t_blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\t\t_applyPMREM( cubeUVRenderTarget );\n\t\t_cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular: function ( equirectangular ) {\n\n\t\tequirectangular.magFilter = NearestFilter;\n\t\tequirectangular.minFilter = NearestFilter;\n\t\tequirectangular.generateMipmaps = false;\n\n\t\treturn this.fromCubemap( equirectangular );\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap: function ( cubemap ) {\n\n\t\t_oldTarget = _renderer.getRenderTarget();\n\t\tvar cubeUVRenderTarget = _allocateTargets( cubemap );\n\t\t_textureToCubeUV( cubemap, cubeUVRenderTarget );\n\t\t_applyPMREM( cubeUVRenderTarget );\n\t\t_cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader: function () {\n\n\t\tif ( _cubemapShader == null ) {\n\n\t\t\t_cubemapShader = _getCubemapShader();\n\t\t\t_compileMaterial( _cubemapShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader: function () {\n\n\t\tif ( _equirectShader == null ) {\n\n\t\t\t_equirectShader = _getEquirectShader();\n\t\t\t_compileMaterial( _equirectShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose: function () {\n\n\t\t_blurMaterial.dispose();\n\n\t\tif ( _cubemapShader != null ) _cubemapShader.dispose();\n\t\tif ( _equirectShader != null ) _equirectShader.dispose();\n\n\t\tfor ( var i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t},\n\n};\n\nfunction _createPlanes() {\n\n\tvar _lodPlanes = [];\n\tvar _sizeLods = [];\n\tvar _sigmas = [];\n\n\tvar lod = LOD_MAX;\n\tfor ( var i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tvar sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tvar sigma = 1.0 / sizeLod;\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\t\t_sigmas.push( sigma );\n\n\t\tvar texelSize = 1.0 / ( sizeLod - 1 );\n\t\tvar min = - texelSize / 2;\n\t\tvar max = 1 + texelSize / 2;\n\t\tvar uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tvar cubeFaces = 6;\n\t\tvar vertices = 6;\n\t\tvar positionSize = 3;\n\t\tvar uvSize = 2;\n\t\tvar faceIndexSize = 1;\n\n\t\tvar position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tvar uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tvar faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( var face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tvar x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tvar y = face > 2 ? 0 : - 1;\n\t\t\tvar coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tvar fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\t\tvar planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _allocateTargets( equirectangular ) {\n\n\tvar params = {\n\t\tmagFilter: NearestFilter,\n\t\tminFilter: NearestFilter,\n\t\tgenerateMipmaps: false,\n\t\ttype: equirectangular ? equirectangular.type : UnsignedByteType,\n\t\tformat: equirectangular ? equirectangular.format : RGBEFormat,\n\t\tencoding: equirectangular ? equirectangular.encoding : RGBEEncoding,\n\t\tdepthBuffer: false,\n\t\tstencilBuffer: false\n\t};\n\tvar cubeUVRenderTarget = _createRenderTarget( params );\n\tcubeUVRenderTarget.depthBuffer = equirectangular ? false : true;\n\t_pingPongRenderTarget = _createRenderTarget( params );\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _cleanup( outputTarget ) {\n\n\t_pingPongRenderTarget.dispose();\n\t_renderer.setRenderTarget( _oldTarget );\n\toutputTarget.scissorTest = false;\n\t// reset viewport and scissor\n\toutputTarget.setSize( outputTarget.width, outputTarget.height );\n\n}\n\nfunction _sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\tvar fov = 90;\n\tvar aspect = 1;\n\tvar cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\tvar upSign = [ 1, 1, 1, 1, - 1, 1 ];\n\tvar forwardSign = [ 1, 1, - 1, - 1, - 1, 1 ];\n\n\tvar outputEncoding = _renderer.outputEncoding;\n\tvar toneMapping = _renderer.toneMapping;\n\tvar toneMappingExposure = _renderer.toneMappingExposure;\n\tvar clearColor = _renderer.getClearColor();\n\tvar clearAlpha = _renderer.getClearAlpha();\n\n\t_renderer.toneMapping = LinearToneMapping;\n\t_renderer.toneMappingExposure = 1.0;\n\t_renderer.outputEncoding = LinearEncoding;\n\tscene.scale.z *= - 1;\n\n\tvar background = scene.background;\n\tif ( background && background.isColor ) {\n\n\t\tbackground.convertSRGBToLinear();\n\t\t// Convert linear to RGBE\n\t\tvar maxComponent = Math.max( background.r, background.g, background.b );\n\t\tvar fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\t\tvar alpha = ( fExp + 128.0 ) / 255.0;\n\t\t_renderer.setClearColor( background, alpha );\n\t\tscene.background = null;\n\n\t}\n\n\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\tvar col = i % 3;\n\t\tif ( col == 0 ) {\n\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t} else if ( col == 1 ) {\n\n\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t} else {\n\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t}\n\t\t_setViewport( cubeUVRenderTarget,\n\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t_renderer.setRenderTarget( cubeUVRenderTarget );\n\t\t_renderer.render( scene, cubeCamera );\n\n\t}\n\n\t_renderer.toneMapping = toneMapping;\n\t_renderer.toneMappingExposure = toneMappingExposure;\n\t_renderer.outputEncoding = outputEncoding;\n\t_renderer.setClearColor( clearColor, clearAlpha );\n\tscene.scale.z *= - 1;\n\n}\n\nfunction _textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\tvar scene = new Scene();\n\tif ( texture.isCubeTexture ) {\n\n\t\tif ( _cubemapShader == null ) {\n\n\t\t\t_cubemapShader = _getCubemapShader();\n\n\t\t}\n\n\t} else {\n\n\t\tif ( _equirectShader == null ) {\n\n\t\t\t_equirectShader = _getEquirectShader();\n\n\t\t}\n\n\t}\n\tvar material = texture.isCubeTexture ? _cubemapShader : _equirectShader;\n\tscene.add( new Mesh( _lodPlanes[ 0 ], material ) );\n\tvar uniforms = material.uniforms;\n\n\tuniforms[ 'envMap' ].value = texture;\n\tif ( ! texture.isCubeTexture ) {\n\n\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t}\n\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\n\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\t_renderer.setRenderTarget( cubeUVRenderTarget );\n\t_renderer.render( scene, _flatCamera );\n\n}\n\nfunction _compileMaterial( material ) {\n\n\tvar tmpScene = new Scene();\n\ttmpScene.add( new Mesh( _lodPlanes[ 0 ], material ) );\n\t_renderer.compile( tmpScene, _flatCamera );\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tvar cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _applyPMREM( cubeUVRenderTarget ) {\n\n\tvar autoClear = _renderer.autoClear;\n\t_renderer.autoClear = false;\n\n\tfor ( var i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\tvar sigma = Math.sqrt(\n\t\t\t_sigmas[ i ] * _sigmas[ i ] -\n\t\t_sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\t\tvar poleAxis =\n\t\t_axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\t\t_blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t}\n\n\t_renderer.autoClear = autoClear;\n\n}\n\n/**\n * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n * vertically and horizontally, but this breaks down on a cube. Here we apply\n * the blur latitudinally (around the poles), and then longitudinally (towards\n * the poles) to approximate the orthogonally-separable blur. It is least\n * accurate at the poles, but still does a decent job.\n */\nfunction _blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t_halfBlur(\n\t\tcubeUVRenderTarget,\n\t\t_pingPongRenderTarget,\n\t\tlodIn,\n\t\tlodOut,\n\t\tsigma,\n\t\t'latitudinal',\n\t\tpoleAxis );\n\n\t_halfBlur(\n\t\t_pingPongRenderTarget,\n\t\tcubeUVRenderTarget,\n\t\tlodOut,\n\t\tlodOut,\n\t\tsigma,\n\t\t'longitudinal',\n\t\tpoleAxis );\n\n}\n\nfunction _halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\tconsole.error(\n\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t}\n\n\t// Number of standard deviations at which to cut off the discrete approximation.\n\tvar STANDARD_DEVIATIONS = 3;\n\n\tvar blurScene = new Scene();\n\tblurScene.add( new Mesh( _lodPlanes[ lodOut ], _blurMaterial ) );\n\tvar blurUniforms = _blurMaterial.uniforms;\n\n\tvar pixels = _sizeLods[ lodIn ] - 1;\n\tvar radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\tvar sigmaPixels = sigmaRadians / radiansPerPixel;\n\tvar samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\tif ( samples > MAX_SAMPLES ) {\n\n\t\tconsole.warn( `sigmaRadians, ${\n\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t}\n\n\tvar weights = [];\n\tvar sum = 0;\n\n\tfor ( var i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\tvar x = i / sigmaPixels;\n\t\tvar weight = Math.exp( - x * x / 2 );\n\t\tweights.push( weight );\n\n\t\tif ( i == 0 ) {\n\n\t\t\tsum += weight;\n\n\t\t} else if ( i < samples ) {\n\n\t\t\tsum += 2 * weight;\n\n\t\t}\n\n\t}\n\n\tfor ( var i = 0; i < weights.length; i ++ ) {\n\n\t\tweights[ i ] = weights[ i ] / sum;\n\n\t}\n\n\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\tblurUniforms[ 'samples' ].value = samples;\n\tblurUniforms[ 'weights' ].value = weights;\n\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\tif ( poleAxis ) {\n\n\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t}\n\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\tvar outputSize = _sizeLods[ lodOut ];\n\tvar x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\tvar y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) +\n\t2 * outputSize *\n\t\t( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t_renderer.setRenderTarget( targetOut );\n\t_renderer.render( blurScene, _flatCamera );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tvar weights = new Float32Array( maxSamples );\n\tvar poleAxis = new Vector3( 0, 1, 0 );\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${_getEncodings()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'SphericalGaussianBlur';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tvar texelSize = new Vector2( 1, 1 );\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${_getEncodings()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'EquirectangularToCubeUV';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${_getEncodings()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'CubemapToCubeUV';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn `\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn `\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t`;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\nvar LinePieces = 1;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( MathUtils, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn MathUtils.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn MathUtils.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\t\treturn attribute.applyMatrix3( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\t\treturn attribute.applyMatrix4( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( Mesh.prototype, {\n\n\tsetDrawMode: function () {\n\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t},\n\n} );\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddAttribute: function ( name, attribute ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\treturn this.setAttribute( name, attribute );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t},\n\tremoveAttribute: function ( name ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\t\treturn this.deleteAttribute( name );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( Raycaster.prototype, {\n\n\tlinePrecision: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\treturn this.params.Line.threshold;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\tthis.params.Line.threshold = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InterleavedBuffer.prototype, {\n\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( value );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Audio.prototype, {\n\n\tload: {\n\t\tvalue: function ( file ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\t\t\tvar scope = this;\n\t\t\tvar audioLoader = new AudioLoader();\n\t\t\taudioLoader.load( file, function ( buffer ) {\n\n\t\t\t\tscope.setBuffer( buffer );\n\n\t\t\t} );\n\t\t\treturn this;\n\n\t\t}\n\t},\n\tstartTime: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\n\n\t\t}\n\t}\n\n} );\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DirectionalLightShadow, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontFaceDirectionCCW, FrontFaceDirectionCW, FrontSide, Frustum, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, LightShadow, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SphericalReflectionMapping, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, SpotLightShadow, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uncharted2ToneMapping, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as utils from \"../utils\";\r\n\r\n\r\n/**\r\n * イベント\r\n * イベントクラスの継承して使用出来ます｡メディエーターとしても使用すことも可能\r\n *\r\n * @class Events\r\n * @constructor\r\n * @example\r\n *   var events = new Events();\r\n *\r\n *   // on<br>\r\n *   events.on('change', listener);<br>\r\n *   events.on('change.type', listener);<br>\r\n *\r\n *   // off<br>\r\n *   events.off('change');<br>\r\n *   events.off('change', listener);<br>\r\n *   events.off();<br>\r\n *\r\n *   // trigger<br>\r\n *   events.trigger('change');<br>\r\n *   events.trigger('change.type');\r\n */\r\nexport default class Events {\r\n  /**\r\n   * constructor\r\n   */\r\n\tconstructor() {\r\n    /**\r\n     * id\r\n     * @private\r\n     * @property _id\r\n     * @type {string}\r\n     */\r\n\t\tthis._id = utils.createId();\r\n\r\n    /**\r\n     * イベントリスナーを連想配列で格納します\r\n     * @private\r\n     * @property _listeners\r\n     * @type {object}\r\n     * @example\r\n     *   _listeners[eventName] = [{\r\n     *      attr    : eventObj.attr, <br>\r\n     *      listener: listener, <br>\r\n     *      context : context <br>\r\n     *   }]\r\n     */\r\n\t\tthis._listeners = {};\r\n\t}\r\n\r\n\r\n  /**\r\n   * イベント登録\r\n   * イベント名に属性名を付与するも可能\r\n   * @method on\r\n   * @param {string} type イベントタイプ\r\n   * @param {function} listener イベントリスナー\r\n   * @param {object} context コンテキスト\r\n   * @return {Events}\r\n   */\r\n\ton(type, listener, context) {\r\n\t\tthis._addEvent(type, listener, context);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * 1度だけ実行するイベント登録\r\n   * @method onece\r\n   * @param {string} type イベントタイプ\r\n   * @param {function} listener イベントリスナー\r\n   * @param {object} context コンテキスト\r\n   * @return {Events}\r\n   */\r\n\tonece(type, listener, context) {\r\n\t\tthis.on(type, () => {\r\n\t\t\tthis.off(type);\r\n\t\t\tlistener.apply(this, arguments);\r\n\t\t}, context);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * イベント削除\r\n   * type省略時は、全てのイベントを削除<br>\r\n   * listener省略時は、指定イベントタイプ全て削除\r\n   *\r\n   * @method off\r\n   * @param {string} type イベントタイプ 省略可\r\n   * @param {function} listener イベントリスナー 省略可\r\n   * @return {Events}\r\n   */\r\n\toff(type, listener) {\r\n\t\tthis._removeEvent(type, listener);\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n  /**\r\n   * イベント追加\r\n   * @private\r\n   * @method _addEvent\r\n   * @param {string} type イベントタイプ\r\n   * @param {function} listener コールバック関数\r\n   * @param {object} context コンテキスト\r\n   * @return {Void}\r\n   */\r\n\t_addEvent(type, listener, context) {\r\n\t\tlet events = type.split(' ');\r\n\t\tif (utils.isFunction(listener)) {\r\n\t\t\tutils.each(events, (item) => {\r\n\t\t\t\tlet eventObj = this._getEventNameMap(item);\r\n\t\t\t\tthis._listeners[eventObj.type] = this._listeners[eventObj.type] || [];\r\n\t\t\t\tthis._listeners[eventObj.type].push({\r\n\t\t\t\t\tattr: eventObj.attr,\r\n\t\t\t\t\tlistener: listener,\r\n\t\t\t\t\tcontext: context\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n  /**\r\n   * イベント削除\r\n   * @private\r\n   * @method _removeEvent\r\n   * @param {string} type イベントタイプ\r\n   * @param {function} listener コールバック関数\r\n   * @return {Void}\r\n   */\r\n\t_removeEvent(type, listener) {\r\n\t\tlet events = type ? type.split(' ') : [],\r\n\t\t\tary = null,\r\n\t\t\tlisteners;\r\n\r\n\t\tlistener = utils.getFunctionName(listener);\r\n\r\n\t\tutils.each(events, (event) => {\r\n\t\t\tlet eventObj = this._getEventNameMap(event);\r\n\r\n\t\t\tif (eventObj && eventObj.attr && this._listeners[eventObj.type]) {\r\n\t\t\t\t// イベント属性指定がある場合\r\n\t\t\t\tlisteners = this._listeners[eventObj.type];\r\n\r\n\t\t\t\tutils.each(listeners, (item) => {\r\n\t\t\t\t\tif (item.attr !== eventObj.attr) {\r\n\t\t\t\t\t\tif (listener) {\r\n\t\t\t\t\t\t\tif (listener !== utils.getFunctionName(item.listener)) {\r\n\t\t\t\t\t\t\t\tary = ary || [];\r\n\t\t\t\t\t\t\t\tary.push(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tary = ary || [];\r\n\t\t\t\t\t\t\tary.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis._listeners[eventObj.type] = ary;\r\n\r\n\t\t\t} else if (eventObj) {\r\n\t\t\t\t// イベントタイプ指定ある場合\r\n\t\t\t\tif (listener) {\r\n\t\t\t\t\tlisteners = this._listeners[eventObj.type];\r\n\r\n\t\t\t\t\tutils.each(listeners, (item) => {\r\n\t\t\t\t\t\tif (listener !== utils.getFunctionName(item.listener)) {\r\n\t\t\t\t\t\t\tary = ary || [];\r\n\t\t\t\t\t\t\tary.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._listeners[eventObj.type] = ary;\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// イベント全て削除\r\n\t\t\t\tthis._listeners = null;\r\n\t\t\t\tthis._listeners = {};\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n  /**\r\n   * イベント名、イベント属性を連想配列にして返す\r\n   * @private\r\n   * @method _getEventNameMap\r\n   * @param {string} type イベントタイプ\r\n   * @return {object}\r\n   */\r\n\t_getEventNameMap(type) {\r\n\t\tlet events = type.split('.');\r\n\t\treturn {\r\n\t\t\ttype: events[0],\r\n\t\t\tattr: events[1]\r\n\t\t};\r\n\t}\r\n\r\n\r\n  /**\r\n   * 登録イベントがあるか判定します\r\n   * @method hasEvent\r\n   * @param {string} type イベントタイプ\r\n   * @return {boolean}\r\n   */\r\n\thasEvent(type) {\r\n\t\tlet flag = false,\r\n\t\t\tevents = this._getEventNameMap(type),\r\n\t\t\tlisteners = this._listeners[events.type];\r\n\r\n\r\n\t\t// イベントリスナーの有無\r\n\t\tif (listeners) {\r\n\t\t\t// 属性指定がある場合\r\n\t\t\tif (events.attr) {\r\n\t\t\t\tutils.each(listeners, (item) => {\r\n\t\t\t\t\tif (item.attr === events.attr) {\r\n\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tflag = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn flag;\r\n\t}\r\n\r\n\r\n  /**\r\n   * イベント発行\r\n   * 第二引数以降に値を渡すとcallbackに引数として渡します\r\n   * @method trigger\r\n   * @param {string} type イベントタイプ\r\n   * @return {Events}\r\n   */\r\n\ttrigger(type) {\r\n\t\tlet events = this._getEventNameMap(type),\r\n\t\t\tlisteners = this._listeners[events.type],\r\n\t\t\targs = utils.argsToArray(arguments, 1);\r\n\r\n\t\tif (listeners) {\r\n\t\t\tutils.each(listeners, (item) => {\r\n\t\t\t\tif (!events.attr || item.attr === events.attr) {\r\n\t\t\t\t\titem.listener.apply(item.context, args);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n}\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport Events from \"../class_events/Events\";\r\nimport * as utils from \"../utils\";\r\n\r\n\r\n/**\r\n * @class WebCamera\r\n * @constructor\r\n */\r\nexport default class WebRTC extends Events {\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor(video, options) {\r\n    super();\r\n\r\n    /**\r\n     * イベントリスト\r\n     * @private\r\n     * @property _EVENTS\r\n     * @type {object}\r\n     */\r\n    this._EVENTS = {\r\n      // FAIL        : 'fail',\r\n      DONE : \"done\",\r\n      ERROR: \"error\",\r\n      LOAD : \"load\"\r\n    };\r\n\r\n    /**\r\n     * 表示用video\r\n     * @property video\r\n     * @type {DOM}\r\n     */\r\n    this.video = video || document.createElement(\"video\");\r\n\r\n    /**\r\n     * options\r\n     * @type {object}\r\n     */\r\n    this.options = utils.mixin(true, {\r\n      video: true,\r\n      audio: false\r\n    }, options);\r\n  }\r\n\r\n\r\n  /**\r\n   * setup\r\n   * @return {Promise}\r\n   */\r\n  setup(){\r\n\t\treturn navigator.mediaDevices.getUserMedia(\r\n\t\t\tthis.options\r\n\t\t)\r\n    .then(\r\n      (stream) => {\r\n        this.trigger(this._EVENTS.DONE, stream);\r\n\t\t\t\tthis.video.srcObject = stream;\r\n\t\t\t\tthis.trigger(this._EVENTS.LOAD);\r\n      }\r\n    )\r\n    .catch((err) => {\r\n      this.trigger(this._EVENTS.ERROR, err);\r\n      console.log(err.name + \": \" + err.message);\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * play\r\n   * @return {WebCamera}\r\n   */\r\n  play(){\r\n    this.video.play();\r\n    return this;\r\n  }\r\n\r\n\r\n  /**\r\n   * pause\r\n   * @return {WebCamera}\r\n   */\r\n  pause(){\r\n    this.video.pause();\r\n    return this;\r\n  }\r\n}\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as is from \"./is\";\r\n\r\n/**\r\n * @class Array\r\n */\r\n\r\n/**\r\n * argumentsを配列に変換して返す\r\n * スライス位置を指定して切り取り可能\r\n * @static\r\n * @method argsToArray\r\n * @param {arguments} args arguments\r\n * @param {number} index スライスする切り取り開始位置\r\n * @param {number} lastIndex スライスする切り取り終了位置\r\n * @type {array} argumentsを配列に変換して返す\r\n */\r\nexport const argsToArray = (() => {\r\n\tlet slice = Array.prototype.slice;\r\n\r\n\treturn (args, index = 0, lastIndex) => {\r\n\t\tlastIndex = lastIndex || args.length;\r\n\t\treturn slice.call(args, index, lastIndex);\r\n\t};\r\n})();\r\n\r\n\r\n/**\r\n * each\r\n * @static\r\n * @method each\r\n * @param {Array|Object|Number} obj eachを行うオブジェクト、または回数\r\n * @param {function} callback イテレーション毎のコールバック関数\r\n * @return {object} 第一引数に渡されたオブジェクト\r\n */\r\nexport function each(obj, callback) {\r\n\tlet isContinue, i;\r\n\r\n\tif (is.isArray(obj)) {\r\n\t\tlet l = obj.length;\r\n\t\ti = 0;\r\n\t\tfor (; i < l; i += 1) {\r\n\t\t\tisContinue = callback.call(obj[i], obj[i], i, obj);\r\n\t\t\tif (isContinue === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} else if (is.isObject(obj) || is.isFunction(obj)) {\r\n\t\tfor (i in obj) {\r\n\t\t\tisContinue = callback.call(obj[i], obj[i], i, obj);\r\n\t\t\tif (isContinue === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} else if (is.isNumber(obj)) {\r\n\t\ti = 0;\r\n\t\tfor (; i < obj; i += 1) {\r\n\t\t\tisContinue = callback.call(null, i, i, obj);\r\n\t\t\tif (isContinue === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn obj;\r\n};\r\n\r\n\r\n/**\r\n * 配列から最大値を探す\r\n * @static\r\n * @method findMax\r\n * @param  {array} nums 数値を格納した配列\r\n * @return {number}\r\n */\r\nexport function findMax(nums) {\r\n\treturn Math.max.apply(null, nums);\r\n};\r\n\r\n\r\n/**\r\n * 配列から最小値を探す\r\n * @static\r\n * @method findMin\r\n * @param  {array} nums 数値を格納した配列\r\n * @return {number}\r\n */\r\nexport function findMin(nums) {\r\n\treturn Math.min.apply(null, nums);\r\n};\r\n\r\n\r\n/**\r\n * 配列をシャッフルして返す\r\n * @static\r\n * @method shuffle\r\n * @param {array} ary シャッフルする配列\r\n * @return {array} 配列をシャッフルして返す\r\n */\r\nexport function shuffle(ary) {\r\n\treturn ary.sort(() => {\r\n\t\treturn Math.random() - 0.5;\r\n\t});\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n\r\n/**\r\n * @class Math\r\n */\r\n\r\n/**\r\n * π (半円)\r\n * @static\r\n * @property PI\r\n * @type {number}\r\n */\r\nexport const PI = Math.PI;\r\n\r\n\r\n/**\r\n * π * 2 (円)\r\n * @static\r\n * @property TWO_PI\r\n * @type {number}\r\n */\r\nexport const TWO_PI = PI * 2;\r\n\r\n\r\n/**\r\n * π * 2 (1/4円)\r\n * @static\r\n * @property HARF_PI\r\n * @type {number}\r\n */\r\nexport const HARF_PI = PI / 2;\r\n\r\n\r\n/**\r\n * ラジアンからに角度変換する積数\r\n * @static\r\n * @property RAD_TO_DEG\r\n * @type {number}\r\n */\r\nexport const RAD_TO_DEG = 180 / PI;\r\n\r\n\r\n/**\r\n * 角度からラジアンに変換する積数\r\n * @static\r\n * @property DEG_TO_RAD\r\n * @type {number}\r\n */\r\nexport const DEG_TO_RAD = PI / 180;\r\n\r\n\r\n/**\r\n * √2\r\n * @static\r\n * @property sqrt2\r\n * @type {number}\r\n */\r\nexport const sqrt2 = Math.sqrt(2);\r\n\r\n\r\n/* Convert\r\n-----------------------------------------------------------------*/\r\n/**\r\n * ラジアンと半径から座標生成\r\n * @method radToCoord\r\n * @param  {number} rad ラジアン\r\n * @param  {number} radius 半径\r\n * @return {object} x, y座標を格納したオブジェクト\r\n */\r\nexport function radToCoord(rad, radius = 1) {\r\n\treturn {\r\n\t\tx: Math.cos(rad) * radius,\r\n\t\ty: Math.sin(rad) * radius\r\n\t};\r\n};\r\n\r\n\r\n/**\r\n * 角度と半径から座標を生成\r\n * @method degToCoord\r\n * @param  {number} deg ラジアン\r\n * @param  {number} radius 半径\r\n * @return {object} x, y座標を格納したオブジェクト\r\n */\r\nexport function degToCoord(deg, radius = 1) {\r\n\treturn radToCoord(degToRad(deg), radius);\r\n};\r\n\r\n\r\n/**\r\n * 座標からRadianを取得\r\n * @static\r\n * @method coordToRad\r\n * @param  {number} x x座標値\r\n * @param  {number} y y座標値\r\n * @return {number} Radian\r\n */\r\nexport function coordToRad(x, y) {\r\n\treturn Math.atan2(y, x);\r\n};\r\n\r\n\r\n/**\r\n * 座標からDegreesを取得\r\n * @static\r\n * @method coordToDeg\r\n * @param  {number} x x座標値\r\n * @param  {number} y y座標値\r\n * @return {number} Degrees\r\n */\r\nexport function coordToDeg(x, y) {\r\n\treturn Math.atan2(y, x) * RAD_TO_DEG;\r\n};\r\n\r\n\r\n/**\r\n * ラジアンから角度を求める\r\n * @static\r\n * @method radToDeg\r\n * @param {number} rad ラジアン\r\n * @return {number} degree\r\n */\r\nexport function radToDeg(rad) {\r\n\treturn rad * RAD_TO_DEG;\r\n};\r\n\r\n\r\n/**\r\n * 角度をラジアンに変換して返す\r\n * @static\r\n * @method degToRad\r\n * @param {number} deg 角度\r\n * @return {number} radian\r\n */\r\nexport function degToRad(deg) {\r\n\treturn deg * DEG_TO_RAD;\r\n};\r\n\r\n\r\n/**\r\n * 対角線の長さ\r\n * @static\r\n * @method diagonal\r\n * @param  {number} x 横\r\n * @param  {number} y 縦\r\n * @return {number}\r\n */\r\nexport function diagonal(x, y) {\r\n\treturn Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n};\r\n\r\n\r\n/**\r\n * 対角線の長さから正方形の辺の長さを求める（なす角45°）\r\n * @static\r\n * @method diagonalToSideLength\r\n * @param  {number} diagonal 対角線の長さ\r\n * @return {number}\r\n */\r\nexport function diagonalToSideLength(diagonal) {\r\n\treturn diagonal / utils.sqrt2;\r\n}\r\n\r\n\r\n/* Utilitys\r\n-----------------------------------------------------------------*/\r\n/**\r\n * 値の符号化\r\n * numが正なら+1.0、0.0なら0.0、負なら-1.0を返す\r\n * @static\r\n * @method sign\r\n * @param  {number} num\r\n * @return {number} -1, 0, 1のいずれかの値\r\n */\r\nexport function sign(num) {\r\n\tif (0 < num) {\r\n\t\treturn 1;\r\n\t} else if (0 > num) {\r\n\t\treturn -1;\r\n\t} else {\r\n\t\treturn 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * 小数点を取り出す\r\n * @static\r\n * @method fract\r\n * @param  {number} num\r\n * @return {number}\r\n */\r\nexport function fract(num) {\r\n\treturn num - Math.floor(num);\r\n};\r\n\r\n\r\n/**\r\n * 値の有効範囲を適用して返す\r\n * @static\r\n * @method clamp\r\n * @param {number} num 数値\r\n * @param {number} min 最小値\r\n * @param {number} max 最大値\r\n * @return {number} 有効範囲を適用した数値\r\n */\r\nexport function clamp(num, min, max) {\r\n\treturn Math.max(Math.min(num, max), min);\r\n};\r\n\r\n\r\n/**\r\n * 階乗の計算\r\n * @static\r\n * @method factorial\r\n * @param {number} num 階乗数\r\n * @return {number}\r\n */\r\nexport function factorial(num) {\r\n\tvar total = 1;\r\n\twhile (num) {\r\n\t\ttotal = total * num;\r\n\t\tnum -= 1;\r\n\t}\r\n\treturn total;\r\n};\r\n\r\n\r\n/**\r\n * 範囲内に値があるか\r\n * @static\r\n * @method inRange\r\n * @param  {number} val 数値\r\n * @param  {number} min 最小値\r\n * @param  {number} max 最大値\r\n * @return {boolean}\r\n */\r\nexport function inRange(val, min, max) {\r\n\treturn val >= Math.min(min, max) && val <= Math.max(min, max);\r\n};\r\n\r\n\r\n/**\r\n * 値の範囲が交差するか\r\n * @static\r\n * @method isIntersect\r\n * @param  {number} rangeMin1 範囲1の最小値\r\n * @param  {number} rangeMax1 範囲1の最大値\r\n * @param  {number} rangeMin2 範囲2の最小値\r\n * @param  {number} rangeMax2 範囲2の最大値\r\n * @return {boolean}\r\n */\r\nexport function isIntersect(rangeMin1, rangeMax1, rangeMin2, rangeMax2) {\r\n\treturn Math.max(rangeMin1, rangeMax1) >= Math.min(rangeMin2, rangeMax2) &&\r\n\t\tMath.min(rangeMin1, rangeMax1) <= Math.max(rangeMin2, rangeMax2);\r\n};\r\n\r\n\r\n/**\r\n * 線形補間\r\n * @static\r\n * @method lerp\r\n * @param  {number} val 線形補間する指定の値\r\n * @param  {number} min   最小値\r\n * @param  {number} max   最大値\r\n * @return {number}       線形補間した値\r\n */\r\nexport function lerp(val, min, max) {\r\n\treturn (max - min) * val + min;\r\n};\r\n\r\n\r\n/**\r\n * エルミート補完\r\n * @static\r\n * @method smoothstep\r\n * @param  {number} val 線形補間する指定の値\r\n * @param  {number} min   最小値\r\n * @param  {number} max   最大値\r\n * @return {number}       線形補間した値\r\n */\r\nexport function smoothstep(val, min, max) {\r\n\t// return clamp((val - min) / (max - min), 0, 1);\r\n\tlet t = clamp((val - min) / (max - min), 0, 1);\r\n\treturn t * t * (3 - 2 * t);\r\n};\r\n\r\n\r\n/**\r\n * 正規化(0.0-1.0)\r\n * @static\r\n * @method normalize\r\n * @param  {number} val 正規化する値\r\n * @param  {number} min   最小値\r\n * @param  {number} max   最大値\r\n * @return {number}       正規化した値\r\n */\r\nexport function normalize(val, min, max) {\r\n\treturn (val - min) / (max - min);\r\n};\r\n\r\n\r\n/**\r\n * 値の有効範囲の最適化（マッピング）\r\n * valueを範囲scorpeA1 - scorpeA2から範囲scorpeB1 - scorpeB2へ変換\r\n * @static\r\n * @method map\r\n * @param  {number} val   最適化する値\r\n * @param  {number} fromMin 現在基準の最小値\r\n * @param  {number} fromMax 現在基準の最大値\r\n * @param  {number} toMin 最適化基準の最小値\r\n * @param  {number} toMax 最適化基準の最大値\r\n * @return {number}         最適化した値\r\n */\r\nexport function map(val, fromMin, fromMax, toMin, toMax) {\r\n\treturn lerp(normalize(val, fromMin, fromMax), toMin, toMax);\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n/**\r\n * @class Config\r\n */\r\n\r\n/**\r\n * isDevelop 開発モードフラグ\r\n * @type {boolean}\r\n */\r\nexport let isDevelop = true;\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as is from \"./is\";\r\n\r\n/**\r\n * @class Has\r\n */\r\nlet url = window.location;\r\n\r\n/**\r\n * LocationHashの有無\r\n * @static\r\n * @method hasHash\r\n * @param {string} key ハッシュ名 省略可\r\n * @return {boolean}\r\n */\r\nexport function hasHash(key) {\r\n\tlet flag = false;\r\n\r\n\tif (url.href.indexOf(\"#\") > -1) {\r\n\t\tif (key) {\r\n\t\t\tlet k = \" \" + key.replace(/^#/, \"\") + \" \",\r\n\t\t\t\tvals = url.hash.split(\"#\"),\r\n\t\t\t\ti = 0,\r\n\t\t\t\tl = vals.length;\r\n\r\n\t\t\tfor (; i < l; i += 1) {\r\n\t\t\t\tif (k.indexOf(\" \" + vals[i] + \" \") !== -1) {\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tflag = true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn flag;\r\n};\r\n\r\n\r\n/**\r\n * 文字列を検索し、指定の文字列があるか判定\r\n * @static\r\n * @method hasString\r\n * @param {string} str 対象の文字列\r\n * @param {string} haStr 検索文字\r\n * @return {boolean}\r\n */\r\nexport function hasString(str, hasStr) {\r\n\treturn is.isString(str) && str.indexOf(hasStr) > -1;\r\n};\r\n\r\n\r\n/**\r\n * ユーザーエージェントに指定の文字列があるか判定します\r\n * @static\r\n * @method hasUA\r\n * @param {string} str 指定の文字列\r\n * @return {boolean}\r\n */\r\nexport function hasUA(str) {\r\n\treturn is.ua.indexOf(str) > -1;\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n\r\nexport * from \"./array\";\r\nexport * from \"./config\";\r\nexport * from \"./has\";\r\nexport * from \"./is\";\r\nexport * from \"./location\";\r\nexport * from \"./calc\";\r\nexport * from \"./random\";\r\nexport * from \"./string\";\r\nexport * from \"./utility\";\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n\r\n/**\r\n * @class Is\r\n * see: http://diveintohtml5.info/everything.html\r\n */\r\n\r\nlet object = {};\r\nlet toString = Object.prototype.toString\r\nlet getProto = Object.getPrototypeOf;\r\nlet hasOwn = object.hasOwnProperty;\r\n\r\n\r\n/**\r\n * ユーザーエージェント\r\n * @static\r\n * @property UA\r\n * @type {string}\r\n */\r\nexport const UA = navigator.userAgent;\r\n\r\n\r\n/**\r\n * ユーザーエージェント toLowerCase\r\n * @static\r\n * @property ua\r\n * @type {string}\r\n */\r\nexport const ua = UA.toLowerCase();\r\n\r\n\r\n/* isType\r\n-----------------------------------------------------------------*/\r\n/**\r\n * 配列型判定\r\n * @static\r\n * @method isArray\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport const isArray = Array.isArray || function (obj) {\r\n\treturn toString.call(obj) === \"[object Array]\";\r\n};\r\n\r\n\r\n/**\r\n * 真偽型判定\r\n * @static\r\n * @method isBoolean\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isBoolean(obj) {\r\n\treturn toString.call(obj) === \"[object Boolean]\";\r\n};\r\n\r\n\r\n/**\r\n * 関数型判定\r\n * @static\r\n * @method isFunction\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isFunction(obj) {\r\n\treturn toString.call(obj) === \"[object Function]\";\r\n};\r\n\r\n\r\n/**\r\n * 数値型判定\r\n * @static\r\n * @method isNumber\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isNumber(obj) {\r\n\treturn toString.call(obj) === \"[object Number]\";\r\n};\r\n\r\n\r\n/**\r\n * オブジェクト型判定\r\n * @static\r\n * @method isObject\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isObject(obj) {\r\n\treturn !!obj && toString.call(obj) === \"[object Object]\";\r\n};\r\n\r\n\r\n/**\r\n * プレーンオブジェクト判定\r\n * @static\r\n * @method isPlainObject\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isPlainObject(obj) {\r\n  // return isObject(obj) && Object.keys(obj).length === 0;\r\n  let proto, ctor;\r\n\r\n  if (!obj || toString.call(obj) !== \"[object Object]\") {\r\n    return false;\r\n  }\r\n\r\n  proto = getProto(obj);\r\n\r\n  if (!proto) {\r\n    return true;\r\n  }\r\n\r\n  ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\r\n\r\n  return typeof ctor === \"function\" && hasOwn.toString.call(ctor) === hasOwn.toString.call(Object);\r\n};\r\n\r\n\r\n/**\r\n * 文字列型判定\r\n * @static\r\n * @method isString\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isString(obj) {\r\n\treturn toString.call(obj) === \"[object String]\";\r\n};\r\n\r\n\r\n/**\r\n * 正規表現判定\r\n * @static\r\n * @method isRegexp\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isRegexp(obj) {\r\n\treturn toString.call(obj) === \"[object RegExp]\";\r\n};\r\n\r\n\r\n/**\r\n * undefined判定\r\n * @static\r\n * @method isUndefined\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isUndefined(obj) {\r\n\treturn obj === void 0;\r\n};\r\n\r\n\r\n/**\r\n * null判定\r\n * @static\r\n * @method isNull\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isNull(obj) {\r\n\treturn obj === null || toString.call(obj) === \"[object Null]\";\r\n};\r\n\r\n\r\n/**\r\n * マルチバイト文字列判定\r\n * @static\r\n * @method isMultibyte\r\n * @param  {string}  chara 一文字\r\n * @return {boolean}\r\n */\r\nexport function isMultibyte(chara) {\r\n\treturn ('!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'.indexOf(chara) < 0);\r\n};\r\n\r\n\r\n/**\r\n * isEmail Email判定\r\n * @param  {string}  email メールアドレス\r\n * @return {boolean}\r\n */\r\nexport function isEmail(email) {\r\n\treturn email.match(/.+@.+\\..+/) !== null;\r\n};\r\n\r\n\r\n/* OS\r\n-----------------------------------------------------------------*/\r\n/**\r\n * OS判定\r\n * @static\r\n * @method isOS\r\n * @param {string} os OS名 [windows, mac, ios, android]\r\n * @param {String|Number} ver バージョンナンバー Android ios のみ有効\r\n * @return {boolean}\r\n */\r\nexport function isOS(os, ver) {\r\n\tlet _os = os.toLowerCase();\r\n\r\n\tswitch (_os) {\r\n\t\tcase \"windows\":\r\n\t\t\treturn isWindows(ver);\r\n\t\tcase \"mac\":\r\n\t\t\treturn isMac(ver);\r\n\t\tcase \"android\":\r\n\t\t\treturn isAndroid(ver);\r\n\t\tcase \"ios\":\r\n\t\t\treturn isIos(ver);\r\n\t\tdefault:\r\n\t\t\tthrow new Error(_os + \" is Invalid argument\");\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Windows判定\r\n * @static\r\n * @method isWindows\r\n * @param {Number|String} バージョン名[7, 8, 8.1, 10] 省略可\r\n * @return {boolean}\r\n */\r\nexport function isWindows(ver) {\r\n\tif (ver) {\r\n\t\t// NT Ver. プロダクト名\r\n\t\t// NT 6.1  Windows 7/Windows Server 2008 R2\r\n\t\t// NT 6.2  Windows 8/Windows Server 2012\r\n\t\t// NT 6.3  Windows 8.1/Windows Server 2012 R2\r\n\t\t// NT 10.0 Windows 10\r\n\r\n\t\tlet _ver = ua.split(\" windows nt \")[1].split(\";\")[0];\r\n\t\tver += \"\"; // cast String\r\n\r\n\t\tif (ver === \"7\") {\r\n\t\t\treturn _ver === \"6.1\";\r\n\t\t} else if (ver === \"8\") {\r\n\t\t\treturn _ver === \"6.2\";\r\n\t\t} else if (ver === \"8.1\") {\r\n\t\t\treturn _ver === \"6.3\";\r\n\t\t} else if (ver === \"10\") {\r\n\t\t\treturn _ver === \"10.0\";\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else {\r\n\t\treturn ua.indexOf(\"windows\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Mac判定 ※isoは、含みません\r\n * @static\r\n * @method isMac\r\n * @param {Number|String} バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isMac(ver) {\r\n  if(isTouchScreen()){\r\n    return false;\r\n  }\r\n\tif (ver) {\r\n\t\tlet serial = (\"\" + ver).replace(/\\./g, \"_\");\r\n\t\treturn ua.indexOf(\"intel mac os x \" + serial) > -1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"intel mac os x \") > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * ios判定\r\n * @static\r\n * @method isIos\r\n * @param {Number|String} バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isIos(ver) {\r\n\tif (ver) {\r\n\t\tlet serial = (\"\" + ver).replace(/\\./g, \"_\");\r\n\t\treturn ua.indexOf(\"like mac os x\") > -1 && ua.indexOf(\"mobile\") > -1 && ua.indexOf(\"os \" + serial) > -1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"like mac os x\") > -1 && ua.indexOf(\"mobile\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Android判定\r\n * @static\r\n * @method isAndroid\r\n * @param {Number|String} バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isAndroid(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"android \" + ver) > -1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"android\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/* Device\r\n-----------------------------------------------------------------*/\r\n/**\r\n * デバイス判定\r\n *\r\n * @static\r\n * @method isDevice\r\n * @param {string} device デバイス名<br>\r\n * デバイス名 | 引数文字列 <br>\r\n * PC (for Desktop) | pc <br>\r\n * Smart Device | sd, smartdevice <br>\r\n * Smart Phone | sp, smartphone <br>\r\n * Tablet | tb, tablet <br>\r\n * iPhone | iphone <br>\r\n * iPad | ipad <br>\r\n * iPod | ipod <br>\r\n * Android Phone | androidPhone <br>\r\n * Android Tablet | androidTablet\r\n * @return {boolean}\r\n */\r\nexport function isDevice(device) {\r\n\tlet _device = device.toLowerCase();\r\n\r\n\tif (_device === \"pc\") {\r\n\t\treturn isPC();\r\n\t} else if (_device === \"sd\" || _device === \"smartdevice\") {\r\n\t\treturn isSmartDevice();\r\n\t} else if (_device === \"sp\" || _device === \"smartphone\") {\r\n\t\treturn isSmartPhone();\r\n\t} else if (_device === \"tb\" || _device === \"tablet\") {\r\n\t\treturn isTablet();\r\n\t} else if (_device === \"iphone\") {\r\n\t\treturn isIPhone();\r\n\t} else if (_device === \"ipad\") {\r\n\t\treturn isIPad();\r\n\t} else if (_device === \"ipod\") {\r\n\t\treturn isIPod();\r\n\t} else if (_device === \"android\") {\r\n\t\treturn isAndroidPhone();\r\n\t} else if (_device === \"androidtablet\") {\r\n\t\treturn isAndroidTablet();\r\n\t} else {\r\n\t\tthrow new Error(_device + \" is Invalid argument\");\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * PC判定\r\n * @static\r\n * @method isPC\r\n * @return {boolean}\r\n */\r\nexport function isPC() {\r\n\treturn isWindows() || isMac();\r\n};\r\n\r\n\r\n/**\r\n * スマートデバイス判定\r\n * @static\r\n * @method isSmartDevice\r\n * @return {boolean}\r\n */\r\nexport function isSmartDevice() {\r\n\treturn isIos() || isAndroid();\r\n};\r\n\r\n\r\n/**\r\n * SmartPhone判定\r\n * @static\r\n * @method isSmartPhone\r\n * @return {boolean}\r\n */\r\nexport function isSmartPhone() {\r\n\treturn ua.indexOf(\"iphone\") > -1 || isAndroid() && ua.indexOf(\"mobile\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * タブレット判定\r\n * @static\r\n * @method isTablet\r\n * @return {boolean}\r\n */\r\nexport function isTablet() {\r\n\treturn isIPad() || isAndroidTablet();\r\n};\r\n\r\n\r\n/**\r\n * iPhone判定\r\n * @static\r\n * @method isIPhone\r\n * @return {boolean}\r\n */\r\nexport function isIPhone() {\r\n\treturn ua.indexOf(\"iphone\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * iPad判定\r\n * @static\r\n * @method isIPad\r\n * @return {boolean}\r\n */\r\nexport function isIPad() {\r\n  let _isIpad = ua.indexOf(\"ipad\") > -1;\r\n  if(!_isIpad){ // MacOsでタッチができる場合\r\n    _isIpad = isMac() && isTouchScreen();\r\n  }\r\n  return _isIpad;\r\n};\r\n\r\n\r\n/**\r\n * iPod判定\r\n * @static\r\n * @method isIPod\r\n * @return {boolean}\r\n */\r\nexport function isIPod() {\r\n\treturn ua.indexOf(\"ipod\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * AndroidPhone判定\r\n * @static\r\n * @method isAndroidPhone\r\n * @return {boolean}\r\n */\r\nexport function isAndroidPhone() {\r\n\treturn isAndroid() && ua.indexOf(\"mobile\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * AndroidTablet判定\r\n * @static\r\n * @method isAndroidTablet\r\n * @return {boolean}\r\n */\r\nexport function isAndroidTablet() {\r\n\treturn isAndroid() && ua.indexOf(\"mobile\") < 0;\r\n};\r\n\r\n\r\n/* Browser\r\n-----------------------------------------------------------------*/\r\n/**\r\n * ブラウザ判定\r\n * @static\r\n * @method isBrowser\r\n * @param {string} key ブラウザ名<br>\r\n * ブラウザ名 | 引数文字列 <br>\r\n * Microsoft Edge | edge <br>\r\n * Internet Explorer | ie <br>\r\n * Google Chrome for PC| chrome <br>\r\n * Firefox for PC| firefox <br>\r\n * Mac Safari (for Desktop) | safari <br>\r\n * Opera (for Desktop) | opera <br>\r\n * ios Safari | mobileSafari <br>\r\n * Android Browser | android <br>\r\n * Mobile Chrome | mobilechrome <br>\r\n * ios Chrome | ioschrome <br>\r\n * Android Chrome | androidchrome <br>\r\n * Webkit Browser | webkit\r\n * @param {String | Number} ver バージョン (ie, mobileSafari, android) 省略可\r\n * @return {boolean}\r\n */\r\nexport function isBrowser(browser, ver) {\r\n\tlet _browser = browser.toLowerCase();\r\n\r\n\tif (_browser === \"ie\") {\r\n\t\treturn isIE(ver);\r\n\t} else if (_browser === \"edge\") {\r\n\t\treturn isEdge(ver);\r\n\t} else if (_browser === \"chrome\") {\r\n\t\treturn isChrome(ver);\r\n\t} else if (_browser === \"firefox\") {\r\n\t\treturn isFirefox(ver);\r\n\t} else if (_browser === \"safari\") {\r\n\t\treturn isSafari(ver);\r\n\t} else if (_browser === \"mobilesafari\") {\r\n\t\treturn isMobileSafari(ver);\r\n\t} else if (_browser === \"android\") {\r\n\t\treturn isAndroidBrowser(ver);\r\n\t} else if (_browser === \"mobilechrome\") {\r\n\t\treturn isMobileChrome(ver);\r\n\t} else if (_browser === \"androidchrome\") {\r\n\t\treturn isAndroidChrome(ver);\r\n\t} else if (_browser === \"isochrome\") {\r\n\t\treturn isIosChrome(ver);\r\n\t} else if (_browser === \"webkit\") {\r\n\t\treturn isWebkit();\r\n\t} else {\r\n\t\tthrow new Error(_browser + \" is Invalid argument\");\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * IE判定\r\n * @static\r\n * @method isIE\r\n * @param {number}  ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isIE(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"msie \" + ver) > -1 || (ua.indexOf(\"trident\") > -1 && ua.indexOf(\"rv:\" + ver) > -1);\r\n\t} else {\r\n\t\treturn ua.indexOf(\"msie\") > -1 || ua.indexOf(\"trident\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n// NOTE: edgeがChromium採用予定なので判定処理をアップデート予定\r\n/**\r\n * Microsoft Edge判定\r\n * @static\r\n * @method isEdge\r\n * @param {Number|String}  ver バージョン名\r\n * @return {boolean}\r\n */\r\nexport function isEdge(ver) {\r\n\tver = ver || \"\";\r\n\treturn ua.indexOf(\"edge/\" + ver) > -1;\r\n};\r\n\r\n\r\n/**\r\n * PC版 Chrome判定\r\n * @static\r\n * @method isChrome\r\n * @return {boolean}\r\n */\r\nexport function isChrome(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"chrome/\" + ver) > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * PC版 Firefox判定\r\n * @static\r\n * @method isFirefox\r\n * @return {boolean}\r\n */\r\nexport function isFirefox(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"firefox/\" + ver) > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"firefox\") > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * PC版 Safari判定\r\n * @static\r\n * @method isSafari\r\n * @return {boolean}\r\n */\r\nexport function isSafari(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"safari\") > -1 && ua.indexOf(\"mobile\") < 0 && !isChrome() && ua.indexOf(\"version/\" + ver) > - 1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"safari\") > -1 && ua.indexOf(\"mobile\") < 0 && !isChrome();\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * MobileSafari判定\r\n * @static\r\n * @method isMobileSafari\r\n * @param {Number|String} ver バージョンナンバー  省略可\r\n * @return {boolean}\r\n */\r\nexport function isMobileSafari(ver) {\r\n\tif (ver) {\r\n\t\treturn isIos(ver) && ua.indexOf(\"safari\") > -1;\r\n\t} else {\r\n\t\treturn isIos() && ua.indexOf(\"safari\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Android標準Browser判定\r\n * @static\r\n * @method isAndroidBrowser\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isAndroidBrowser(ver) {\r\n\tif (ver) {\r\n\t\treturn isAndroid(ver) && ua.indexOf(\"safari\") > -1;\r\n\t} else {\r\n\t\treturn isAndroid() && ua.indexOf(\"safari\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Mobile Chrome判定\r\n * @static\r\n * @method isMobileChrome\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isMobileChrome(ver) {\r\n\treturn isIosChrome(ver) || isAndroidChrome(ver);\r\n};\r\n\r\n\r\n/**\r\n * ios Chrome判定\r\n * @static\r\n * @method isIosChrome\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isIosChrome(ver) {\r\n\tif (ver) {\r\n\t\treturn isIos() && ua.indexOf(\"crios/\" + ver) > -1;\r\n\t} else {\r\n\t\treturn isIos() && ua.indexOf(\"crios/\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Android Chrome判定\r\n * @static\r\n * @method isAndroidChrome\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isAndroidChrome(ver) {\r\n\tif (ver) {\r\n\t\treturn isAndroid() && ua.indexOf(\"chrome/\" + ver) > -1;\r\n\t} else {\r\n\t\treturn isAndroid() && ua.indexOf(\"chrome/\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * webkit ブラウザ判定\r\n * @static\r\n * @method isWebkit\r\n * @return {boolean}\r\n */\r\nexport function isWebkit() {\r\n\treturn ua.indexOf(\"webkit\") > -1;\r\n};\r\n\r\n\r\n/* Utility\r\n-----------------------------------------------------------------*/\r\n/**\r\n * File APIの有無\r\n * @static\r\n * @method isFileAPI\r\n * @return {boolean}\r\n */\r\nexport function isFileAPI() {\r\n\treturn !!(window.File && window.FileReader && window.FileList && window.Blob);\r\n};\r\n\r\n\r\n/**\r\n * RequestFileSystemの有無\r\n * @static\r\n * @method isRequestFileSystem\r\n * @return {boolean}\r\n */\r\nexport function isRequestFileSystem() {\r\n\treturn !!(window.requestFileSystem || window.webkitRequestFileSystem);\r\n};\r\n\r\n\r\n/**\r\n * Storage機能が使えるか判定\r\n * @static\r\n * @method isStorage\r\n * @return {boolean}\r\n */\r\nexport function isStorage() {\r\n\tlet isStorage = \"sessionStorage\" in window && \"localStorage\" in window;\r\n\r\n\tif (isStorage) {\r\n\t\ttry {\r\n\t\t\tlocalStorage.setItem(\"_INKJS_\", 1);\r\n\t\t} catch (err) {\r\n\t\t\tisStorage = false;\r\n\t\t}\r\n\t\tif (isStorage) {\r\n\t\t\tlocalStorage.removeItem(\"_INKJS_\");\r\n\t\t}\r\n\t}\r\n\treturn isStorage;\r\n};\r\n\r\n\r\n/**\r\n * TouchScreen判定\r\n * @static\r\n * @method isTouchScreen\r\n * @return {boolean}\r\n */\r\nexport const isTouchScreen = (() => {\r\n\tlet isTouchScreen,\r\n\t\tdiv = document.createElement(\"div\");\r\n\r\n\tdiv.setAttribute(\"ontouchstart\", \"return\");\r\n\tisTouchScreen = (typeof div.ontouchstart === \"function\");\r\n\r\n\treturn function () {\r\n\t\treturn isTouchScreen;\r\n\t};\r\n})();\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n/**\r\n * @class Location\r\n */\r\nlet url = window.location;\r\n\r\n\r\n/*----------------------------------------------------------------------\r\n  @method\r\n----------------------------------------------------------------------*/\r\n/**\r\n * hashを配列にして返す\r\n * @static\r\n * @method getHash\r\n * @return {array} hashの配列\r\n */\r\nexport function getHash() {\r\n\tlet ary = url.hash.split(\"#\").slice(1);\r\n\tif (ary.length) {\r\n\t\tlet i = 0,\r\n\t\t\tl = ary.length;\r\n\t\tfor (; i < l; i += 1) {\r\n\t\t\tary[i] = \"#\" + ary[i];\r\n\t\t}\r\n\t}\r\n\treturn ary;\r\n};\r\n\r\n\r\n/**\r\n * getQuery\r\n *\r\n * @export location\r\n * @param {string} query 取得したいクエリ名\r\n * @returns {string} クエリの値を返す。値がない場合はundefined\r\n */\r\nexport function getQuery(query) {\r\n\tlet querys = queryHashMap();\r\n\treturn querys[query];\r\n};\r\n\r\n\r\n/**\r\n * リクエストパラメータ値を連想配列として取得\r\n * @static\r\n * @method queryHashMap\r\n * @param {string} query urlもしくは、パラメーター。省略時は現在のURL\r\n * @return {object} リクエストパラメータ値を連想配列にして返す\r\n */\r\nexport function queryHashMap(query) {\r\n\tlet map = {},\r\n\t\tarray = [],\r\n\t\tparams;\r\n\r\n\tif (query) {\r\n\t\tif (query.indexOf(\"?\") > -1) {\r\n\t\t\tparams = query.split(\"?\")[1].split(\"&\");\r\n\t\t} else {\r\n\t\t\tparams = query.split(\"&\");\r\n\t\t}\r\n\t} else {\r\n\t\tparams = url.search.slice(1).split(\"&\");\r\n\t}\r\n\r\n\tif (params[0] !== \"\") {\r\n\t\tlet i = 0,\r\n\t\t\tl = params.length;\r\n\r\n\t\tfor (; i < l; i += 1) {\r\n\t\t\tarray = params[i].split(\"=\");\r\n\t\t\tmap[array[0]] = decodeURI(array[1] || array[0]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn map;\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n\r\n/**\r\n * @class Random\r\n * see: https://ics.media/entry/11292\r\n */\r\n\r\n\r\n/**\r\n * 乱数の生成\r\n * @static\r\n * @param {number} min 最小値 ※省略可\r\n * @param {number} max 最大値 ※省略可\r\n * @return {number} 乱数を返します\r\n */\r\nexport function random(min = 0, max = 1) {\r\n\tlet random = Math.random();\r\n\r\n\tif (min > max) {\r\n\t\tlet num = min;\r\n\t\tmin = max;\r\n\t\tmax = num;\r\n\t}\r\n\treturn random * (max - min) + min;\r\n};\r\n\r\n\r\n/**\r\n * int型の乱数の生成\r\n * @static\r\n * @param {number} min 最小値 ※省略可\r\n * @param {number} max 最大値 ※省略可\r\n * @return {number} 乱数を返します\r\n */\r\nexport function randomInt(min, max) {\r\n\treturn Math.round(random(min, max));\r\n}\r\n\r\n\r\n/**\r\n * randomLow\r\n * 0.0付近の出現率が高い乱数の生成\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomLow() {\r\n\treturn Math.random() * Math.random();\r\n};\r\n\r\n\r\n/**\r\n * randomLow2\r\n * 0.0付近の出現率が高い乱数の生成（randomLowより高い）\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomLow2() {\r\n\tlet r = Math.random();\r\n\treturn r * r;\r\n};\r\n\r\n\r\n\r\n/**\r\n * randomHight\r\n * 1.0付近の出現率が高い乱数の生成\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomHight() {\r\n\treturn 1.0 - Math.random() * Math.random();\r\n};\r\n\r\n\r\n/**\r\n * randomHight2\r\n * 1.0付近の出現率が高い乱数の生成（randomHightより高い）\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomHight2() {\r\n\tlet r = Math.random();\r\n\treturn 1.0 - r * r;\r\n};\r\n\r\n\r\n/**\r\n * randomNormalize\r\n * 中央値(0.5)付近の値を多く出す\r\n *\r\n * @export\r\n * @returns\r\n */\r\nexport function randomNormalize() {\r\n\tlet r1 = Math.random();\r\n\tlet r2 = Math.random();\r\n\tlet value = Math.sqrt(-2.0 * Math.log(r1)) * Math.sin(2.0 * Math.PI * r2);\r\n\t// 値を0以上1未満になるよう正規化する\r\n\treturn (value + 3) / 6;\r\n};\r\n\r\n\r\n/**\r\n * randomLinerLow\r\n * 直線的に0.0付近の出現率を高くする\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomLinerLow() {\r\n\treturn 1.0 - Math.sqrt(Math.random());\r\n};\r\n\r\n\r\n/**\r\n * randomLinerHight\r\n * 直線的に1.0付近の出現率を高くする\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomLinerHight() {\r\n\treturn Math.sqrt(Math.random());\r\n};\r\n\r\n\r\n/**\r\n * randomLinerCenter\r\n * 中央値(0.5)付近の値を多く出す\r\n *\r\n * @export\r\n * @returns {number} 0.0 - 1.0までの値を返す\r\n */\r\nexport function randomLinerCenter() {\r\n\treturn (Math.random() + Math.random()) * 0.5;\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n\r\nimport * as array from \"./array\";\r\nimport * as is from \"./is\";\r\n\r\n\r\n/**\r\n * @class String\r\n */\r\n\r\n\r\n/**\r\n * zeroPadding 数値桁数を揃える\r\n * @param  {number} value 値\r\n * @param  {number} digit 桁数 (1桁=1, 2桁=2)\r\n * @return {string}\r\n */\r\nexport function zeroPadding(value, digit, isBeyondValue) {\r\n\tlet _value = \"\" + value,\r\n\t\tzero = (\"\" + Math.pow(10, digit)).slice(1);\r\n\r\n\tif (digit * 10 > value) {\r\n\t\treturn (zero + _value).slice(-digit);\r\n\t} else {\r\n\t\treturn _value;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * id生成します\r\n * 文字列にナンバーを追加して返します\r\n *\r\n * @static\r\n * @method createId\r\n * @param {string} str id名 初期値: 'id_' 省略可\r\n * @return {string} 生成したid\r\n */\r\nexport const createId = (() => {\r\n\tlet _count = 0;\r\n\r\n\treturn function (str = \"id_\") {\r\n\t\treturn str + (_count += 1);\r\n\t};\r\n})();\r\n\r\n\r\n/**\r\n * objectToQuery オブジェクトをクエリ文字列に変換 (ネスト構造に再起処理はしません)\r\n * @static\r\n * @method objectToQuery\r\n * @param  {Object} obj 対象のオブジェクト\r\n * @param  {boolean} isQuestion 先頭に?加えるか ※初期false\r\n * @return {string}\r\n */\r\nexport function objectToQuery(obj, isQuestion = false) {\r\n\tlet query = \"\";\r\n\tarray.each(obj, (key, val) => {\r\n\t\tif (query) {\r\n\t\t\tquery += \"&\";\r\n\t\t}\r\n\r\n\t\tif (is.isObject(val)) {\r\n\t\t\tquery += key + \"=\" + val.keys().length;\r\n\t\t} else if (is.isArray(val)) {\r\n\t\t\tquery += key + \"=\" + val.length;\r\n\t\t} else {\r\n\t\t\tquery += key + \"=\" + val;\r\n\t\t}\r\n\t});\r\n\r\n\tif (isQuestion) {\r\n\t\tquery = + query;\r\n\t}\r\n\r\n\treturn query;\r\n};\r\n\r\n\r\n/**\r\n * 空白文字の削除\r\n * @static\r\n * @method removeSpace\r\n * @param {string} str 対象の文字列\r\n * @return {string} 空白文字を削除した文字列\r\n */\r\nexport function removeSpace(str) {\r\n\treturn str.replace(/\\s+/g, \"\");\r\n};\r\n\r\n\r\n/**\r\n * 文字列の全置換\r\n * 対象の文字列と、削除文字列がマッチしたものを全置換します\r\n * @static\r\n * @method replaceAll\r\n * @param {string} str 置換対象の文字列\r\n * @param {string} del 削除する文字列\r\n * @param {string} add 追加する文字列\r\n * @return {string} 置換した文字列\r\n */\r\nexport function replaceAll(str, del, add) {\r\n\tadd = add ? add : \"\";\r\n\treturn str.split(del).join(add);\r\n};\r\n\r\n\r\n/**\r\n * toHarfNumber 全角数値を半角数値へ変換\r\n * @param  {string} str 数値文字列\r\n * @return {string}\r\n */\r\nexport function toHarfNumber(str) {\r\n\tstr = str.replace(/-/g, \"\");\r\n\treturn str.replace(/[０-９]/g, (s) => {\r\n\t\treturn String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n\t});\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as is from \"./is\";\r\nimport * as array from \"./array\";\r\n\r\n/**\r\n * @class Utility\r\n */\r\n\r\n\r\n/**\r\n * NOTE: β.ver\r\n * base64画像のファイルサイズ取得(bytes)\r\n * 厳密なファイルサイズではありません。\r\n * デバッグ時におおよそのファイルサイズを見るために使用しますので多少誤差があります\r\n * @static\r\n * @method base64FileSize\r\n * @param  {Base64} base64 base64画像\r\n * @return {number} bytes\r\n */\r\nexport function base64FileSize(base64) {\r\n\tlet len = base64.indexOf(\";base64,\") + 8,\r\n\t\tbytes = (base64.length - len) * 3 / 4;\r\n\treturn bytes;\r\n};\r\n\r\n\r\n/**\r\n * 匿名関数名を返す\r\n * 無名関数はundefinedを返します\r\n * @static\r\n * @method getFunctionName\r\n * @param {function} fn 名前を取得したい関数\r\n * @return {string} 関数名\r\n */\r\nexport function getFunctionName(fn) {\r\n  if (is.isFunction(fn)) {\r\n    if (fn.prototype.constructor && fn.prototype.constructor.name) {\r\n      return fn.prototype.constructor.name;\r\n    } else {\r\n      return (\"\" + fn).replace(/^\\s*function\\s*([^\\(]*)[\\S\\s]+$/im, \"$1\");\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * オブジェクトの拡張\r\n * @static\r\n * @method mixin\r\n * @param {boolean} isDeep ディープコピーするか 初期値: false 省略可\r\n * @param {object} arguments 拡張するオブジェクト\r\n * @return {object} 拡張したオブジェクトを返します\r\n */\r\nexport function mixin(isDeep, objA, objB) {\r\n  let options, name, src, copy, copyIsArray, clone,\r\n    target = arguments[0] || {},\r\n    i = 1,\r\n    length = arguments.length,\r\n    deep = false;\r\n\r\n  if (typeof target === \"boolean\") {\r\n    deep = target;\r\n    target = arguments[i] || {};\r\n    i++;\r\n  }\r\n\r\n  if (typeof target !== \"object\" && !is.isFunction(target)) {\r\n    target = {};\r\n  }\r\n\r\n  if (i === length) {\r\n    target = this;\r\n    i--;\r\n  }\r\n\r\n  for (; i < length; i++) {\r\n    if ((options = arguments[i]) != null) {\r\n\r\n      for (name in options) {\r\n        copy = options[name];\r\n\r\n        if (name === \"__proto__\" || target === copy) {\r\n          continue;\r\n        }\r\n\r\n        if (deep && copy && (is.isPlainObject(copy) ||\r\n          (copyIsArray = Array.isArray(copy)))) {\r\n          src = target[name];\r\n\r\n          if (copyIsArray && !Array.isArray(src)) {\r\n            clone = [];\r\n          } else if (!copyIsArray && !is.isPlainObject(src)) {\r\n            clone = {};\r\n          } else {\r\n            clone = src;\r\n          }\r\n          copyIsArray = false;\r\n\r\n          target[name] = mixin(deep, clone, copy);\r\n\r\n        } else if (copy !== undefined) {\r\n          target[name] = copy;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n\r\n/**\r\n * 現在の日時情報を格納したオブジェクトを返す\r\n * @static\r\n * @method nowDate\r\n * @return {object}\r\n */\r\nexport function nowDate() {\r\n  let date = new Date();\r\n\r\n  return {\r\n    date: date,\r\n    year: date.getFullYear(),\r\n    month: date.getMonth() + 1,\r\n    day: date.getDay(),\r\n    date: date.getDate(),\r\n    hour: date.getHours(),\r\n    minute: date.getMinutes(),\r\n    second: date.getSeconds()\r\n  };\r\n};\r\n\r\n\r\n/**\r\n * NOTE: α.ver\r\n * spec - CPU性能を返す（だいたい）\r\n *\r\n * @export\r\n * @returns\r\n */\r\nexport function spec() {\r\n\tconst SPEED_CONSTANT = 8.9997e-9;\r\n\t//if speed=(c*a)/t, then constant=(s*t)/a and time=(a*c)/s\r\n\r\n\tconst START_TIME = performance.now();\r\n\tconst AMOUNT = 150000000;\r\n\tfor (let i = AMOUNT; i > 0; i--) { }\r\n\tconst END_TIME = performance.now();\r\n\tlet sub = (END_TIME - START_TIME) / 1000;\r\n\tlet speed = ((SPEED_CONSTANT * AMOUNT) / sub);\r\n\r\n\treturn {\r\n\t\tcore: navigator.hardwareConcurrency || \"Chrome Only\",\r\n\t\ttime: Math.round(sub * 1000) / 1000, // sec\r\n\t\tclock: Math.round(speed * 1000) / 1000 // GHZ\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * 空の関数\r\n * @static\r\n * @method noop\r\n * @return {function}\r\n */\r\nexport function noop() { };\r\n\r\n\r\n/**\r\n * コンソールログの出力\r\n * @static\r\n * @method log\r\n * @return {function}\r\n */\r\nexport function log() {\r\n\tif (!INK || INK.isDevelop) {\r\n\t\tconsole.log.apply(console, array.argsToArray(arguments));\r\n\t}\r\n};\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day001.frag\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Circle\";\r\n  }\r\n\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag\r\n    });\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day002.frag\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Polygon\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag\r\n    });\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day003.frag\";\r\n\r\nimport { Vector2 } from \"three\";\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Transform Polygon\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_rotate: { type: \"f\", value: 0.0 },\r\n        u_translate: { type: \"v2\", value: new Vector2(512*0.5, 512*0.5) },\r\n        u_scale: { type: \"v2\", value:  new Vector2(1, 1) },\r\n        u_vert: { type: \"i\", value: 6 },\r\n        u_radius: { type: \"f\", value: 0.25 },\r\n      }\r\n    });\r\n\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_translate.value, \"x\", 0, 512).name(\"translateX\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n    debug.gui.add(mesh.material.uniforms.u_translate.value, \"y\", 0, 512).name(\"translateY\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_scale.value, \"x\", 0, 2).name(\"scaleX\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n    debug.gui.add(mesh.material.uniforms.u_scale.value, \"y\", 0, 2).name(\"scaleY\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_rotate, \"value\", 0, Math.PI * 2, 0.01).name(\"rotate\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_vert, \"value\", 3, 36, 1).name(\"Vert\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0, 0.5).name(\"Radius\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day004.frag\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Tile\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_tile: { type: \"f\", value: 2 },\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_tile, \"value\", 1, 24, 1).name(\"tile\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day005.frag\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Zoom\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/img01.jpg\")\r\n        },\r\n        u_zoom: { type: \"f\", value: 1.2},\r\n        u_vert: { type: \"i\", value: 6 },\r\n        u_radius: { type: \"f\", value: 0.3}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_zoom, \"value\", 1, 10).name(\"Zoom\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_vert, \"value\", 3, 12, 1).name(\"Vert\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0.1, 0.5).name(\"Radius\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day006.frag\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Lens\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/img06.jpg\")\r\n        },\r\n        u_thickness: { type: \"f\", value: 0.6},\r\n        u_radius: { type: \"f\", value: 0.4}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_thickness, \"value\", 0, 1).name(\"Zoom\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0.1, 0.5).name(\"Radius\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day007.frag\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Fade\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/img03.jpg\")\r\n        },\r\n        u_map2: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/img04.jpg\")\r\n        },\r\n        u_progress: { type: \"f\", value: 0.0}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    let p = debug.gui.add(mesh.material.uniforms.u_progress, \"value\", 0, 1, 0.01).name(\"Progress\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    let params = {\r\n      tween: ()=>{\r\n        let value = 1;\r\n        if(mesh.material.uniforms.u_progress.value == 1){\r\n          value = 0;\r\n        }\r\n        gsap.to(mesh.material.uniforms.u_progress, {\r\n          value: value,\r\n          duration: 1,\r\n          onUpdate: ()=>{\r\n            debug.gui.updateDisplay();\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    debug.gui.add(params, \"tween\");\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day008.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Slide Transition\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img03.jpg\");\r\n    let map2 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n\r\n    map1.magFilter = map2.magFilter = LinearFilter;\r\n    map1.minFilter = map2.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_map2: {\r\n          type: \"t\",\r\n          value: map2\r\n        },\r\n        u_effectMap: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/pattern/1.jpg\")\r\n        },\r\n        u_progress: { type: \"f\", value: 0.0},\r\n        u_intensity: { type: \"f\", value: 0.2},\r\n        u_angle: { type: \"f\", value: Math.PI * 0.25},\r\n        u_aspect: { type: \"v\", value: new Vector2(1.0, 1.0)},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    let p = debug.gui.add(mesh.material.uniforms.u_progress, \"value\", 0, 1, 0.01).name(\"Progress\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    let params = {\r\n      tween: ()=>{\r\n        let value = 1;\r\n        if(mesh.material.uniforms.u_progress.value == 1){\r\n          value = 0;\r\n        }\r\n        gsap.to(mesh.material.uniforms.u_progress, {\r\n          value: value,\r\n          duration: 1,\r\n          onUpdate: ()=>{\r\n            debug.gui.updateDisplay();\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    debug.gui.add(params, \"tween\");\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day009.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Transition\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img01.jpg\");\r\n    let map2 = ImageUtils.loadTexture(\"./assets/img/img03.jpg\");\r\n\r\n    map1.magFilter = map2.magFilter = LinearFilter;\r\n    map1.minFilter = map2.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_map2: {\r\n          type: \"t\",\r\n          value: map2\r\n        },\r\n        u_effectMap: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/transition/1.png\")\r\n        },\r\n        u_progress: { type: \"f\", value: 0.0},\r\n        u_threshold: { type: \"f\", value: 0.2}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_threshold, \"value\", 0, 1, 0.01).name(\"Threshold\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n    debug.gui.add(mesh.material.uniforms.u_progress, \"value\", 0, 1, 0.01).name(\"Progress\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    let params = {\r\n      tween: ()=>{\r\n        let value = 1;\r\n        if(mesh.material.uniforms.u_progress.value == 1){\r\n          value = 0;\r\n        }\r\n        gsap.to(mesh.material.uniforms.u_progress, {\r\n          value: value,\r\n          duration: 1,\r\n          onUpdate: ()=>{\r\n            debug.gui.updateDisplay();\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    debug.gui.add(params, \"tween\");\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day010.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"RGB Split\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img01.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_distance: { type: \"f\", value: 0.01},\r\n        u_speed: { type: \"f\", value: 0.2},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_speed, \"value\", 0.1, 3, 0.01).name(\"Speed\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_distance, \"value\", 0, 0.03, 0.001).name(\"Distance\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day011.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Wave\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img01.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_fineness: { type: \"f\", value: 16},\r\n        u_speed: { type: \"f\", value: 5},\r\n        u_volume: { type: \"f\", value: 0.25},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_speed, \"value\", 0, 10, 0.1).name(\"Speed\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_fineness, \"value\", 0, 512).name(\"Fineness\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_volume, \"value\", 0, 1, 0.01).name(\"Volume\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day012.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Mosaic\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img01.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_grid: { type: \"f\", value: 32}\r\n      }\r\n    });\r\n\r\n    console.log(mesh.material.uniforms);\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_grid, \"value\", 0, 512/4).name(\"Grid\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX / window.innerWidth;\r\n      mesh.material.uniforms.u_mouse.value.y = 1. - (e.offsetY / window.innerHeight);\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport {lerp} from '$ink/utils/calc';\r\nimport dayFrag from \"$shader/days/day013.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n// https://github.com/akella/webgl-mouseover-effects/blob/master/js/post/fragment.glsl\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Zoom Effect\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n\r\n\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img06.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_velocity: { type: \"f\", value: 0},\r\n        u_radius: { type: \"f\", value: .3},\r\n        u_zoom: { type: \"f\", value: 40.},\r\n        u_followMouse: { type: \"v2\", value: new Vector2()}\r\n      }\r\n    });\r\n\r\n    let params = {\r\n      targetSpeed: 0,\r\n      speed: 0,\r\n      mouse: new Vector2(),\r\n      prevMouse: new Vector2(),\r\n      followMouse: new Vector2(),\r\n      decay: 0.1\r\n    }\r\n\r\n    // @debug\r\n    debug.gui.add(params, \"decay\", 0.01, 1, 0.01).name(\"Decay\");\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0, 1, 0.01).name(\"Radius\");\r\n    debug.gui.add(mesh.material.uniforms.u_zoom, \"value\", 0, 50).name(\"Zoom\");\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (_params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = _params.time;\r\n      debug.update();\r\n\r\n      // day013\r\n\r\n      params.speed = Math.sqrt(\r\n        Math.pow(params.prevMouse.x - params.mouse.x, 2) +\r\n        Math.pow(params.prevMouse.y - params.mouse.y, 2)\r\n      );\r\n\r\n      params.targetSpeed = lerp(params.decay, params.targetSpeed, params.speed);\r\n      params.followMouse.x = lerp(params.decay, params.followMouse.x, params.mouse.x);\r\n      params.followMouse.y = lerp(params.decay, params.followMouse.y, params.mouse.y);\r\n\r\n      mesh.material.uniforms.u_followMouse.value = params.followMouse;\r\n      mesh.material.uniforms.u_velocity.value = Math.min(params.targetSpeed, 0.05);\r\n\r\n      params.prevMouse.x = params.mouse.x;\r\n      params.prevMouse.y = params.mouse.y;\r\n      params.targetSpeed *= 0.999;\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX / 512;\r\n      mesh.material.uniforms.u_mouse.value.y = 1. - (e.offsetY / 512);\r\n\r\n      // day013\r\n      params.mouse.x = mesh.material.uniforms.u_mouse.value.x;\r\n      params.mouse.y = mesh.material.uniforms.u_mouse.value.y;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport {lerp} from '$ink/utils/calc';\r\nimport dayFrag from \"$shader/days/day014.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n// https://github.com/akella/webgl-mouseover-effects/blob/master/js/post/fragment.glsl\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"RGB Split Effect\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img06.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_velocity: { type: \"f\", value: 0},\r\n        u_radius: { type: \"f\", value: .3},\r\n        u_zoom: { type: \"f\", value: 40.},\r\n        u_colorShift: { type: \"f\", value: .5},\r\n        u_followMouse: { type: \"v2\", value: new Vector2()}\r\n      }\r\n    });\r\n\r\n    let params = {\r\n      targetSpeed: 0,\r\n      speed: 0,\r\n      mouse: new Vector2(),\r\n      prevMouse: new Vector2(),\r\n      followMouse: new Vector2(),\r\n      decay: 0.1\r\n    }\r\n\r\n    // @debug\r\n    debug.gui.add(params, \"decay\", 0.01, 1, 0.01).name(\"Decay\");\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0, 1, 0.01).name(\"Radius\");\r\n    debug.gui.add(mesh.material.uniforms.u_zoom, \"value\", 0, 50).name(\"Zoom\");\r\n    debug.gui.add(mesh.material.uniforms.u_colorShift, \"value\", 0, 5, 0.01).name(\"Color Shift\");\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (_params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = _params.time;\r\n      debug.update();\r\n\r\n      // day013\r\n\r\n      params.speed = Math.sqrt(\r\n        Math.pow(params.prevMouse.x - params.mouse.x, 2) +\r\n        Math.pow(params.prevMouse.y - params.mouse.y, 2)\r\n      );\r\n\r\n      params.targetSpeed = lerp(params.decay, params.targetSpeed, params.speed);\r\n      params.followMouse.x = lerp(params.decay, params.followMouse.x, params.mouse.x);\r\n      params.followMouse.y = lerp(params.decay, params.followMouse.y, params.mouse.y);\r\n\r\n      mesh.material.uniforms.u_followMouse.value = params.followMouse;\r\n      mesh.material.uniforms.u_velocity.value = Math.min(params.targetSpeed, 0.05);\r\n\r\n      params.prevMouse.x = params.mouse.x;\r\n      params.prevMouse.y = params.mouse.y;\r\n      params.targetSpeed *= 0.999;\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX / 512;\r\n      mesh.material.uniforms.u_mouse.value.y = 1. - (e.offsetY / 512);\r\n\r\n      // day013\r\n      params.mouse.x = mesh.material.uniforms.u_mouse.value.x;\r\n      params.mouse.y = mesh.material.uniforms.u_mouse.value.y;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport WebRTC from '$ink/class_utils/WebRTC';\r\nimport dayFrag from \"$shader/days/day015.frag\";\r\nimport { LinearFilter, RGBFormat, VideoTexture } from \"three\";\r\n\r\n// https://github.com/akella/webgl-mouseover-effects/blob/master/js/post/fragment.glsl\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Sobel Filter\";\r\n  }\r\n\r\n  constructor(){\r\n    this.video = document.querySelector(\"#video\");\r\n\r\n    this.webRTC = new WebRTC(this.video, {\r\n      video: { width: 512, height: 512 }\r\n    });\r\n\r\n    this.webRTC.on(\"load\", ()=>{\r\n      this.start();\r\n    });\r\n\r\n    this.webRTC.setup();\r\n  }\r\n\r\n\r\n  start(){\r\n    let videoTexture = new VideoTexture(this.video);\r\n    videoTexture.minFilter = LinearFilter;\r\n    videoTexture.magFilter = LinearFilter;\r\n    videoTexture.format = RGBFormat;\r\n\r\n    let debug = new Debug();\r\n\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: videoTexture\r\n        },\r\n        u_amount: {\r\n          type: \"f\",\r\n          value: 1\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (_params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = _params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX / 512;\r\n      mesh.material.uniforms.u_mouse.value.y = 1. - (e.offsetY / 512);\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day016.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Split Screen\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img03.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_split: { type: \"f\", value: 4},\r\n        u_offset: { type: \"f\", value: .5},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_split, \"value\", 1, 32, 1).name(\"Split\");\r\n    debug.gui.add(mesh.material.uniforms.u_offset, \"value\", 0, 1, 0.1).name(\"Offset\");\r\n\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day017.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n// https://docs.google.com/presentation/d/1NMhx4HWuNZsjNRRlaFOu2ysjo04NgcpFlEhzodE8Rlg/edit#slide=id.g370aabb90c_0_868\r\nexport default class Day{\r\n  static title(){\r\n    return \"Circle Gradient\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img03.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_angle: { type: \"f\", value: 0},\r\n        // u_offset: { type: \"f\", value: .5},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_angle, \"value\", 0, Math.PI*2, 0.001).name(\"Angle\");\r\n    // debug.gui.add(mesh.material.uniforms.u_offset, \"value\", 0, 1, 0.1).name(\"Offset\");\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day018.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n// https://docs.google.com/presentation/d/1NMhx4HWuNZsjNRRlaFOu2ysjo04NgcpFlEhzodE8Rlg/edit#slide=id.g370aabb90c_0_868\r\n\r\n// http://prntscr.com/s6ph1p\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Box Animation\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img03.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        // u_split: { type: \"f\", value: 4},\r\n        // u_offset: { type: \"f\", value: .5},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    // debug.gui.add(mesh.material.uniforms.u_split, \"value\", 1, 32, 1).name(\"Split\");\r\n    // debug.gui.add(mesh.material.uniforms.u_offset, \"value\", 0, 1, 0.1).name(\"Offset\");\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day019.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n// https://docs.google.com/presentation/d/1NMhx4HWuNZsjNRRlaFOu2ysjo04NgcpFlEhzodE8Rlg/edit#slide=id.g370aabb90c_0_868\r\n\r\n// http://prntscr.com/s6ph1p\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Box Random Animation\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img03.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        // u_split: { type: \"f\", value: 4},\r\n        // u_offset: { type: \"f\", value: .5},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    // debug.gui.add(mesh.material.uniforms.u_split, \"value\", 1, 32, 1).name(\"Split\");\r\n    // debug.gui.add(mesh.material.uniforms.u_offset, \"value\", 0, 1, 0.1).name(\"Offset\");\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day020.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n// https://www.shadertoy.com/view/MtXBDs\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Glitch Noise1\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img06.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_amount: { type: \"f\", value: 0.2},\r\n        u_speed: { type: \"f\", value: 0.2},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n    debug.gui.add(mesh.material.uniforms.u_speed, \"value\", 0, 1, 0.01).name(\"Speed\");\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day021.frag\";\r\n\r\nimport { LinearFilter, Vector2 } from \"three\";\r\n\r\n\r\n// https://www.shadertoy.com/view/MtXBDs\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Glitch Noise2\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_amount: { type: \"f\", value: 0.2},\r\n        u_speed: { type: \"f\", value: 0.2},\r\n        u_rgbSlice: { type: \"b\", value: true},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n    debug.gui.add(mesh.material.uniforms.u_speed, \"value\", 0, 1, 0.01).name(\"Speed\");\r\n    debug.gui.add(mesh.material.uniforms.u_rgbSlice, \"value\").name(\"Rgb Slice\");\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day022.frag\";\r\n\r\nimport { LinearFilter, Vector3 } from \"three\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Duo Tone\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let params = {\r\n      color1: [244, 41, 136],\r\n      color2: [251, 240, 122],\r\n    }\r\n\r\n    function normColor(color) {\r\n      return new Vector3(\r\n        color[0] / 255,\r\n        color[1] / 255,\r\n        color[2] / 255\r\n      );\r\n    }\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_amount: { type: \"f\", value: 1},\r\n        u_color1: { type: \"v3\", value: normColor(params.color1)},\r\n        u_color2: { type: \"v3\", value: normColor(params.color2)}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n\r\n    debug.gui.addColor(params, \"color1\").onChange((color)=>{\r\n      mesh.material.uniforms.u_color1.value = normColor(color);\r\n    });\r\n    debug.gui.addColor(params, \"color2\").onChange((color)=>{\r\n      mesh.material.uniforms.u_color2.value = normColor(color);\r\n    });;\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day023.frag\";\r\n\r\nimport { LinearFilter, Vector3 } from \"three\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Morphing1\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        }\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    // debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day024.frag\";\r\n\r\nimport { LinearFilter, Vector3 } from \"three\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Morphing2\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let params = {\r\n      color1: [244, 41, 136],\r\n      color2: [251, 240, 122],\r\n    }\r\n\r\n    function normColor(color) {\r\n      return new Vector3(\r\n        color[0] / 255,\r\n        color[1] / 255,\r\n        color[2] / 255\r\n      );\r\n    }\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_amount: { type: \"f\", value: 1},\r\n        u_color1: { type: \"v3\", value: normColor(params.color1)},\r\n        u_color2: { type: \"v3\", value: normColor(params.color2)}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day025.frag\";\r\n\r\nimport { LinearFilter, Vector3 } from \"three\";\r\n\r\n// https://docs.google.com/presentation/d/12RrqyAkFanKmfL96ZHvhDCozE-_rKFPlU1YVwej4_bc/edit#slide=id.g40face9ee1_4_153\r\nexport default class Day{\r\n  static title(){\r\n    return \"Folding\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n    let params = {\r\n      color1: [244, 41, 136],\r\n      color2: [251, 240, 122],\r\n    }\r\n\r\n    function normColor(color) {\r\n      return new Vector3(\r\n        color[0] / 255,\r\n        color[1] / 255,\r\n        color[2] / 255\r\n      );\r\n    }\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_amount: { type: \"f\", value: 1},\r\n        u_color1: { type: \"v3\", value: normColor(params.color1)},\r\n        u_color2: { type: \"v3\", value: normColor(params.color2)}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_amount, \"value\", 0, 1, 0.01).name(\"Amount\");\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n","import { ImageUtils} from \"three\";\r\nimport gsap from \"gsap\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day026.frag\";\r\n\r\nimport { LinearFilter, Vector3 } from \"three\";\r\n\r\n\r\nexport default class Day{\r\n  static title(){\r\n    return \"Folding Tiles\";\r\n  }\r\n\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let map1 = ImageUtils.loadTexture(\"./assets/img/img04.jpg\");\r\n\r\n    map1.magFilter = map1.minFilter = LinearFilter;\r\n\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: map1\r\n        },\r\n        u_tile: { type: \"f\", value: 3},\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_tile, \"value\", 1, 10, 1).name(\"Tile\");\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n","export { default as Day026 } from \"./Day026\";\r\nexport { default as Day025 } from \"./Day025\";\r\nexport { default as Day024 } from \"./Day024\";\r\nexport { default as Day023 } from \"./Day023\";\r\nexport { default as Day022 } from \"./Day022\";\r\nexport { default as Day021 } from \"./Day021\";\r\nexport { default as Day020 } from \"./Day020\";\r\n\r\nexport { default as Day019 } from \"./Day019\";\r\nexport { default as Day018 } from \"./Day018\";\r\nexport { default as Day017 } from \"./Day017\";\r\nexport { default as Day016 } from \"./Day016\";\r\nexport { default as Day015 } from \"./Day015\";\r\nexport { default as Day014 } from \"./Day014\";\r\nexport { default as Day013 } from \"./Day013\";\r\nexport { default as Day012 } from \"./Day012\";\r\nexport { default as Day011 } from \"./Day011\";\r\nexport { default as Day010 } from \"./Day010\";\r\n\r\nexport { default as Day009 } from \"./Day009\";\r\nexport { default as Day008 } from \"./Day008\";\r\nexport { default as Day007 } from \"./Day007\";\r\nexport { default as Day006 } from \"./Day006\";\r\nexport { default as Day005 } from \"./Day005\";\r\nexport { default as Day004 } from \"./Day004\";\r\nexport { default as Day003 } from \"./Day003\";\r\nexport { default as Day002 } from \"./Day002\";\r\nexport { default as Day001 } from \"./Day001\";\r\n","import * as days from \"./days\";\r\n\r\nglobal.days = days;\r\n\r\n\r\nwindow.addEventListener(\"hashchange\", ()=>{\r\n  location.reload();\r\n}, false);\r\n\r\n\r\nlet fileName = location.href.split(\"#\").find(item => -1 < item.indexOf(\"Day\"));\r\n\r\nif(fileName){ // day\r\n  new days[fileName]();\r\n  document.querySelector(\"h1\").innerHTML = fileName + \" : \" + days[fileName].title();\r\n\r\n  let current = +fileName.replace(\"Day\", \"\");\r\n  let prev = current - 1;\r\n  let $prev = document.getElementById(\"prev\");\r\n\r\n  if(prev){\r\n    $prev.addEventListener(\"click\", ()=>{\r\n      prev = prev.toString();\r\n      location.hash = \"#Day\" + (Math.pow(10,  (3 - prev.length))).toString().slice(1) + prev;\r\n    });\r\n  } else {\r\n    $prev.parentNode.removeChild($prev);\r\n  }\r\n\r\n  let last =  \"Day\" + (Math.pow(10,  (3 - (current+1).toString().length))).toString().slice(1) + (current + 1);\r\n  let $next = document.getElementById(\"next\");\r\n\r\n\r\n  if(days[last]){\r\n    $next.addEventListener(\"click\", ()=>{\r\n      let next = (current + 1).toString();\r\n      let nextPage = \"#Day\" + (Math.pow(10,  (3 - next.length))).toString().slice(1) + next;\r\n      location.hash = nextPage;\r\n    });\r\n  } else {\r\n    $next.parentNode.removeChild($next);\r\n  }\r\n\r\n} else { // index\r\n  let links = \"\";\r\n  for(let key in days){\r\n    links += `<li><a href=\"./day.html#${key}\">`;\r\n    links += `${key}: ${days[key].title()}`;\r\n    links += `</a></li>`;\r\n  }\r\n\r\n  document.getElementById(\"menu\").innerHTML = links;\r\n}\r\n","import Stats from \"stats-js\";\r\nimport * as dat from \"dat.gui\";\r\n\r\n\r\nexport default class Debug{\r\n  constructor(){\r\n    this.gui = new dat.GUI();\r\n    this.stats =  new Stats();\r\n    document.body.appendChild(this.stats.dom);\r\n  }\r\n\r\n\r\n  update(){\r\n    this.stats.update();\r\n    // requestAnimationFrame(this.update.bind(this));\r\n  }\r\n}\r\n","import { EventDispatcher, WebGLRenderer, PerspectiveCamera, Scene} from \"three\";\r\n\r\n\r\nexport default class RenderManager extends EventDispatcher {\r\n\t/**\r\n\t * constructor\r\n\t * @param  {Object} oprions\r\n\t */\r\n\tconstructor(params) {\r\n    super();\r\n\r\n    this.params = {\r\n      width: 512,\r\n      height: 512,\r\n      isUpdate: false,\r\n      ...params\r\n    }\r\n\r\n\t\tthis.canvas = canvas;\r\n\r\n    // renderer\r\n\t\tthis.renderer = new WebGLRenderer({\r\n\t\t\tcanvas: this.canvas,\r\n\t\t\t// antialias: true,\r\n\t\t\talpha: true\r\n\t\t});\r\n\t\tthis.renderer.setClearColor(0xFFFFFF, 0);\r\n\t\t// this.renderer.setPixelRatio(window.devicePixelRatio);\r\n\t\tthis.renderer.setPixelRatio(1);\r\n\t\tthis.renderer.setSize(this.params.width, this.params.height);\r\n\r\n    // camera\r\n\t\tlet fov = 45;\r\n\t\tthis.camera = new PerspectiveCamera(fov, this.params.width / this.params.height, 1, 1000);\r\n\t\tthis.camera.position.z = this.params.height / (2 * Math.tan(fov * (Math.PI / 180) / 2));\r\n\r\n    // scene\r\n    this.scene = new Scene();\r\n\r\n    // private props\r\n    this._animationId = null;\r\n    this._startTime = null;\r\n\r\n\r\n    if(this.params.isUpdate){\r\n      this.params.isUpdate = false;\r\n      this.start();\r\n    }\r\n\t}\r\n\r\n  /*--------------------------------------------------------------------------\r\n    @method\r\n  --------------------------------------------------------------------------*/\r\n\t/**\r\n\t * start\r\n\t */\r\n\tstart() {\r\n    if(this.params.isUpdate){\r\n      return;\r\n    }\r\n    this.params.isUpdate = true;\r\n    this._startTime = performance.now() / 1000;\r\n    this.dispatchEvent({type: \"start\"});\r\n\t\tthis._update();\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * stop\r\n\t */\r\n\tstop() {\r\n    if(this.params.isUpdate){\r\n      this.dispatchEvent({type: \"stop\"});\r\n      cancelAnimationFrame(this._animationId);\r\n    }\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * update\r\n\t */\r\n\t_update() {\r\n\t\t// this.event.trigger('renderBefore', this);\r\n\t\t// this.event.trigger('renderAfter', this);\r\n\t\t// this.camera.lookAt(new THREE.Vector3(0, this.offsetY, 0));\r\n\r\n    this.dispatchEvent({\r\n      type: \"update\",\r\n      time: (performance.now() - this._startTime) / 1000\r\n    });\r\n\t\tthis.render();\r\n\r\n    if(this.params.isUpdate){\r\n  \t\tthis._animationId = requestAnimationFrame(this._update.bind(this));\r\n    }\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * render\r\n\t */\r\n\trender() {\r\n\t\tthis.renderer.render(this.scene, this.camera);\r\n\t}\r\n}\r\n","import { PlaneBufferGeometry, ShaderMaterial, Mesh, Vector2 } from \"three\";\r\nimport { mixin } from \"$ink/utils/utility\";\r\n\r\n\r\nconst VERTEX_SHADER = `\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n  vUv = uv;\r\n  gl_Position = vec4( position, 1.0 );\r\n}`;\r\n\r\nconst FRAGMENT_SHADER = `\r\n// precision highp float;\r\nprecision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\nuniform float u_time;\r\nuniform float u_mouse;\r\n\r\nvoid main() {\r\n  vec2 st = gl_FragCoord.xy/u_resolution.xy;\r\n  gl_FragColor=vec4(st.x, st.y, 0.0, 1.0);\r\n}`;\r\n\r\n\r\nexport default class ShaderPlaneMesh extends Mesh {\r\n\t/**\r\n\t * constructor\r\n\t * @param  {Object} geometryParams\r\n\t * @param  {Object} materialParams\r\n\t */\r\n\tconstructor(geometryParams, materialParams) {\r\n    let gParams = mixin(true, {\r\n        width: 2,\r\n        height : 2,\r\n        segX: 1,\r\n        segY: 1,\r\n      },\r\n      geometryParams\r\n    );\r\n    let geometry = new PlaneBufferGeometry(\r\n      gParams.width,\r\n      gParams.height,\r\n      gParams.segX,\r\n      gParams.segY\r\n    );\r\n\r\n    let mParams = mixin(true, {\r\n      uniforms: {\r\n        u_time: { type: \"f\", value: 1.0 },\r\n        u_resolution: { type: \"v2\", value: new Vector2(512, 512) },\r\n        u_mouse: { type: \"v2\", value: new Vector2(512 * 0.5, 512 * 0.5) }\r\n       },\r\n       vertexShader: VERTEX_SHADER,\r\n       fragmentShader: FRAGMENT_SHADER,\r\n        transparent: true\r\n      },\r\n      materialParams\r\n    );\r\n    let material = new ShaderMaterial(mParams);\r\n\r\n    super(geometry, material);\r\n\t}\r\n}\r\n","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nvarying vec2 vUv;\\n\\nvec4 circle(vec2 position, vec2 offset, float radius, vec4 color){\\n\\tfloat len=length(offset-position);\\n\\treturn vec4(color.rgb, color.a * (1.-step(radius,len)));\\n}\\n\\nbool inCircle(vec2 position,vec2 offset,float radius){\\n\\tfloat len=length(position-offset);\\n\\tif(len<radius){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\nvoid main(){\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\n\\t// circle\\n\\tgl_FragColor = circle(st, vec2(0.5), 0.3, vec4(0.3804, 0.7647, 0.8784, 1.0));\\n\\n\\t// inCircle\\n\\t// if(inCircle(st, vec2(.5), .5)){\\n\\t// \\tgl_FragColor = vec4(0.3804, 0.7647, 0.8784, 1.0);\\n\\t// }\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2_0 = 6.283185307179586;\\nfloat antialias_0 = .005;\\n\\nvec4 polygon(vec2 position, vec2 offset, int vert, float radius, vec4 color){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_0/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_0,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\treturn color * vec4(1.0 - amount);\\n}\\n\\nfloat PI2_1 = 6.283185307179586;\\nfloat antialias_1 = .005;\\n\\nbool inPolygon(vec2 position, vec2 offset, int vert, float radius){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_1/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_1,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\tif(amount == 0.0){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 c = (vec2(0.5) - st) * 2.0;\\n\\n\\t// polygon\\n\\t// gl_FragColor = polygon(st, vec2(0.5), 6, 0.3, vec4(0.3804, 0.7647, 0.8784, 1.0));\\n\\n\\t// inPolygon\\n\\tif(inPolygon(st, vec2(0.5), 6, 0.3)){\\n\\t\\tgl_FragColor = vec4(0.3804, 0.7647, 0.8784, 1.0);\\n\\t}\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform vec2 u_translate;\\nuniform vec2 u_scale;\\nuniform float u_rotate;\\n\\nuniform int u_vert;\\nuniform float u_radius;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2 = 6.283185307179586;\\nfloat antialias = .005;\\n\\nvec4 polygon(vec2 position, vec2 offset, int vert, float radius, vec4 color){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\treturn color * vec4(1.0 - amount);\\n}\\n\\nmat2 rotate(float angle){\\n\\tfloat c=cos(angle);\\n\\tfloat s=sin(angle);\\n\\treturn mat2(c,-s,s,c);\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec4 color = vec4(0.3804, 0.7647, 0.8784, 1.0);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\t// vec2 c = (vec2(0.5) - st) * 2.0;\\n\\n\\t// translate\\n\\tvec2 offset = u_translate/u_resolution;\\n\\toffset.y = 1.0 - offset.y;\\n\\n\\t// rotate\\n\\tst *= rotate(u_rotate);\\n\\toffset *= rotate(u_rotate);\\n\\n\\t// scale\\n\\tif(u_scale.x == 0.0 || u_scale.y == 0.0){\\n\\t\\tdiscard;\\n\\t}\\n\\tst /= u_scale;\\n\\toffset /= u_scale;\\n\\n\\t// polygon\\n\\tvec4 fColor = polygon(st, offset, u_vert, u_radius, color);\\n\\n\\tgl_FragColor = fColor;\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\nuniform float u_tile;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2_0 = 6.283185307179586;\\nfloat antialias_0 = .005;\\n\\nvec4 polygon(vec2 position, vec2 offset, int vert, float radius, vec4 color){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_0/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_0,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\treturn color * vec4(1.0 - amount);\\n}\\n\\nfloat PI2_1 = 6.283185307179586;\\nfloat antialias_1 = .005;\\n\\nbool inPolygon(vec2 position, vec2 offset, int vert, float radius){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_1/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_1,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\tif(amount == 0.0){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\tst *= vec2(u_tile);\\n\\tst = fract(st);\\n\\n\\tvec2 offset = vec2(.5);\\n\\n\\t// polygon\\n\\tgl_FragColor = polygon(st, offset, 6, 0.3, color);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\nuniform sampler2D u_map1;\\nuniform float u_zoom;\\nuniform int u_vert;\\nuniform float u_radius;\\n\\nvarying vec2 vUv;\\n\\nbool inCircle(vec2 position,vec2 offset,float radius){\\n\\tfloat len=length(position-offset);\\n\\tif(len<radius){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\nfloat PI2 = 6.283185307179586;\\nfloat antialias = .005;\\n\\nbool inPolygon(vec2 position, vec2 offset, int vert, float radius){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\tif(amount == 0.0){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 mouse=u_mouse.xy/u_resolution.xy;\\n\\tmouse.y = 1.0 - mouse.y;\\n\\n\\tif(inPolygon(st, mouse, u_vert, u_radius)){\\n\\t\\tvec2 zoomCoord = st - (mouse);\\n\\t\\tzoomCoord = zoomCoord / u_zoom + mouse;\\n\\t\\tgl_FragColor = texture2D(u_map1, zoomCoord);\\n\\t// }\\n\\t// if(inCircle(st, mouse, u_radius)){\\n\\t// \\tvec2 zoomCoord = st - (mouse);\\n\\t// \\tzoomCoord = zoomCoord / u_zoom + mouse;\\n\\t// \\tgl_FragColor = texture2D(u_map1, zoomCoord);\\n\\n\\t} else {\\n\\t\\tgl_FragColor = texture2D(u_map1, vUv);\\n\\t}\\n\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\nuniform sampler2D u_map1;\\nuniform float u_thickness;\\nuniform float u_radius;\\n\\nvarying vec2 vUv;\\n\\nbool inCircle(vec2 position,vec2 offset,float radius){\\n\\tfloat len=length(position-offset);\\n\\tif(len<radius){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// https://gist.github.com/detunized/1317940\\n// SEE: https://www.taylorpetrick.com/blog/post/dispersion-opengl\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 mouse=u_mouse.xy/u_resolution;\\n\\tmouse.y = 1.0 - mouse.y;\\n\\n\\tfloat R = u_radius;\\n\\tfloat h = u_radius * u_thickness;\\n\\tfloat hr = R * sqrt(1.0 - ((R - h) / R) * ((R - h) / R));\\n\\tvec2 xy = st.xy - mouse.xy;\\n\\tfloat r = sqrt(xy.x * xy.x + xy.y * xy.y);\\n\\tvec2 new_xy = r < hr ? xy * (R - h) / sqrt(R * R - r * r) : xy;\\n\\n\\tgl_FragColor = texture2D(u_map1, (new_xy + mouse.xy));\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform sampler2D u_map2;\\nuniform float u_progress;\\n\\nvarying vec2 vUv;\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\tvec4 color1 = texture2D(u_map1, vUv);\\n\\tvec4 color2 = texture2D(u_map2, vUv);\\n\\n\\tgl_FragColor = mix(color1, color2, u_progress);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform sampler2D u_map2;\\nuniform sampler2D u_effectMap;\\nuniform float u_progress;\\nuniform float u_intensity;\\nuniform float u_angle;\\nuniform vec2 u_aspect;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2=6.283185307179586;\\nfloat PI_H4=PI2/8.0;\\n\\nmat2 rotate(float angle){\\n\\tfloat c=cos(angle);\\n\\tfloat s=sin(angle);\\n\\treturn mat2(c,-s,s,c);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\tvec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec4 effect = texture2D(u_effectMap, vUv);\\n\\tvec2 effectVec = vec2(effect.r, effect.g);\\n\\tvec2 uv = (st-vec2(.5)) * u_aspect + vec2(.5);\\n\\n\\tfloat angle1 = u_angle;\\n\\t// float angle2 = u_angle * 5.0;\\n\\tfloat angle2 = -u_angle * 3.0;\\n\\n\\tvec2 uv1=uv+rotate(angle1)*effectVec*u_intensity*u_progress;\\n\\tvec2 uv2=uv+rotate(angle2)*effectVec*u_intensity*(1.-u_progress);\\n\\n\\tvec4 color1 = texture2D(u_map1, uv1);\\n\\tvec4 color2 = texture2D(u_map2, uv2);\\n\\tgl_FragColor = mix(color1, color2, u_progress);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform sampler2D u_map2;\\nuniform sampler2D u_effectMap;\\nuniform float u_threshold;\\nuniform float u_progress;\\n\\nvarying vec2 vUv;\\n\\nconst float adjustF = .00001;\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\tvec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec4 color1=texture2D(u_map1,vUv);\\n\\tvec4 color2=texture2D(u_map2,vUv);\\n\\tvec4 transionColor=texture2D(u_effectMap,vUv);\\n\\n\\tfloat p=mix(-u_threshold-adjustF,1.+u_threshold,u_progress);\\n\\tfloat q=smoothstep(p-u_threshold,p+u_threshold,transionColor.r);\\n\\n\\tgl_FragColor=mix(color1,color2,1.-q);\\n\\n\\t// if(u_progress==0.){\\n\\t// \\tgl_FragColor=texture2D(u_map1,vUv);\\n\\n\\t// }else if(u_progress==1.){\\n\\t// \\tgl_FragColor=texture2D(u_map2,vUv);\\n\\n\\t// }else{\\n\\t// \\ttypeA\\n\\t// \\tvec4 color1=texture2D(u_map1,vUv);\\n\\t// \\tvec4 color2=texture2D(u_map2,vUv);\\n\\t// \\tvec4 transionColor=texture2D(u_effectMap,vUv);\\n\\n\\t// \\tfloat p=mix(-u_threshold,1.+u_threshold,u_progress);\\n\\n\\t// \\tfloat q=smoothstep(p-u_threshold,p+u_threshold,transionColor.r);\\n\\n\\t// \\tgl_FragColor=mix(color1,color2,1.-q);\\n\\n\\t// \\t// typeB\\n\\t// \\tvec4 color1=texture2D(u_map1,vUv);\\n\\t// \\tvec4 color2=texture2D(u_map2,vUv);\\n\\t// \\tvec4 transionColor=texture2D(u_effectMap,vUv);\\n\\n\\t// \\tfloat r=u_progress*(1.+u_threshold*2.)-u_threshold;\\n\\t// \\tfloat mixf=clamp((r-transionColor.r)*(1./u_threshold),0.,1.);\\n\\n\\t// \\tgl_FragColor=mix(color1,color2,mixf);\\n\\t// }\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_distance;\\nuniform float u_speed;\\n\\nvarying vec2 vUv;\\n\\n//\\n// Description : Array and textureless GLSL 2D simplex noise function.\\n//      Author : Ian McEwan, Ashima Arts.\\n//  Maintainer : ijm\\n//     Lastmod : 20110822 (ijm)\\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\n//               Distributed under the MIT License. See LICENSE file.\\n//               https://github.com/ashima/webgl-noise\\n//\\n\\nvec3 mod289(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec2 mod289(vec2 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec3 permute(vec3 x) {\\n  return mod289(((x*34.0)+1.0)*x);\\n}\\n\\nfloat snoise(vec2 v)\\n  {\\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\\n                      0.024390243902439); // 1.0 / 41.0\\n// First corner\\n  vec2 i  = floor(v + dot(v, C.yy) );\\n  vec2 x0 = v -   i + dot(i, C.xx);\\n\\n// Other corners\\n  vec2 i1;\\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\\n  //i1.y = 1.0 - i1.x;\\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\\n  // x1 = x0 - i1 + 1.0 * C.xx ;\\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\\n  vec4 x12 = x0.xyxy + C.xxzz;\\n  x12.xy -= i1;\\n\\n// Permutations\\n  i = mod289(i); // Avoid truncation effects in permutation\\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\\n    + i.x + vec3(0.0, i1.x, 1.0 ));\\n\\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\\n  m = m*m ;\\n  m = m*m ;\\n\\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\\n\\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\\n  vec3 h = abs(x) - 0.5;\\n  vec3 ox = floor(x + 0.5);\\n  vec3 a0 = x - ox;\\n\\n// Normalise gradients implicitly by scaling m\\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\\n\\n// Compute final noise value at P\\n  vec3 g;\\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\\n  return 130.0 * dot(m, g);\\n}\\n\\nmat2 rotate(float angle){\\n\\tfloat c=cos(angle);\\n\\tfloat s=sin(angle);\\n\\treturn mat2(c,-s,s,c);\\n}\\n\\nfloat PI2 = 6.283185307179586;\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\tvec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tfloat delta = PI2 * snoise(vec2(u_time *u_speed));\\n\\n  float r = texture2D( u_map1, vUv + vec2(rotate(delta) * u_distance)).r;\\n  float g = texture2D( u_map1, vUv ).g;\\n  float b = texture2D( u_map1, vUv - vec2(rotate(delta) * u_distance)).b;\\n\\n\\tgl_FragColor= vec4(r, g, b, 1.0);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_fineness;\\nuniform float u_speed;\\nuniform float u_volume;\\n\\nvarying vec2 vUv;\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tfloat speed = u_time * u_speed;\\n\\tfloat radius = 1./u_fineness*u_volume;\\n\\n\\tvec2 uvOffset=vec2(\\n\\t\\tcos(vUv.x * u_fineness + speed),\\n\\t\\tsin(vUv.y * u_fineness + speed)\\n\\t);\\n\\tuvOffset *= radius;\\n\\n\\tgl_FragColor = texture2D(u_map1, vUv + uvOffset);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_grid;\\n\\nvarying vec2 vUv;\\n\\nvec2 mosaic(vec2 position, float grid){\\n\\tfloat split=1./grid;\\n\\n\\tif(grid!=0.&&split>0.){\\n\\t\\t// グリッド分割し小数点を切り捨ててモザイク化。モザイクの中心点を足す\\n\\t\\treturn floor(position/split)*split+(split*.5);\\n\\t}else{\\n\\t\\treturn position;\\n\\t}\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 uv = mosaic(vUv, u_grid);\\n\\n  gl_FragColor = texture2D(u_map1, uv);\\n\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_velocity;\\nuniform float u_radius;\\nuniform float u_zoom;\\nuniform vec2 u_followMouse;\\n\\nvarying vec2 vUv;\\n\\nfloat circleSmoothstep(vec2 position,vec2 offset,float radius,float smooth){\\n\\t// 内積の平方根は対角線の長さ\\n\\t// position -= offset;\\n\\t// float dist = sqrt(dot(position, position));\\n\\n\\tfloat dist=length(position-offset);\\n\\treturn smoothstep(radius+smooth,radius-smooth,dist);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n  vec2 uv = vUv;\\n\\n\\tfloat c = circleSmoothstep(uv, u_followMouse, 0., u_velocity + u_radius);\\n\\t// u_velocityをかけて加速・減速\\n\\tc *= (u_zoom * u_velocity);\\n\\n\\tvec2 warpedUV = mix(vUv, u_followMouse, c);\\n\\tvec4 color = texture2D(u_map1,warpedUV);\\n\\n\\t// スクリーン\\n\\tgl_FragColor = color + color * vec4(vec3(c), 1.);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_velocity;\\nuniform float u_radius;\\nuniform float u_zoom;\\nuniform float u_colorShift;\\nuniform vec2 u_followMouse;\\n\\nvarying vec2 vUv;\\n\\nfloat circleSmoothstep(vec2 position,vec2 offset,float radius,float smooth){\\n\\t// 内積の平方根は対角線の長さ\\n\\t// position -= offset;\\n\\t// float dist = sqrt(dot(position, position));\\n\\n\\tfloat dist=length(position-offset);\\n\\treturn smoothstep(radius+smooth,radius-smooth,dist);\\n}\\n\\n// vec4 splitColor(sampler2D tex, vec2 position, float shift){\\n// \\tvec4 color = texture2D(tex, position);\\n// \\tfloat r = texture2D(tex, position+shift).r;\\n// \\tfloat b = texture2D(tex, position-shift).b;\\n// \\treturn vec4(r, color.g, b, color.a);\\n// }\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n  vec2 uv = vUv;\\n\\n\\t// cは距離に応じてかかるエフェクトの強さを決めている（近ければエフェクト量が増える）\\n\\tfloat c = circleSmoothstep(uv, u_followMouse, 0., u_velocity + u_radius);\\n\\t// u_velocityをかけて加速・減速\\n\\tc *= (u_zoom * u_velocity);\\n\\n\\tvec2 warpedUV = mix(vUv, u_followMouse, c);\\n\\n\\t// color shift\\n\\tfloat r = texture2D(u_map1,warpedUV + c * (u_velocity * u_colorShift)).r;\\n\\tfloat g = texture2D(u_map1,warpedUV + c * (u_velocity)).g;\\n\\tfloat b = texture2D(u_map1,warpedUV - c * (u_velocity * u_colorShift)).b;\\n\\tvec4 color = vec4(r, g, b, 1.);\\n\\n\\t// スクリーン\\n\\tgl_FragColor = color + color * vec4(vec3(c), 1.);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_amount;\\n\\nvarying vec2 vUv;\\n\\n//--------------------------------------------------------------------------\\n// sobel: エッジ検出\\n//--------------------------------------------------------------------------\\nvec4 sobel_0(vec2 uv, sampler2D texture, vec2 resolution){\\n\\tmat3 Gx = mat3(-1, -2, -1, 0, 0, 0, 1, 2, 1);\\n\\tmat3 Gy = mat3(-1, 0, 1, -2, 0, 2, -1, 0, 1);\\n\\tvec2 texel = vec2(1.0/resolution.x, 1.0/resolution.y);\\n\\n\\tvec3 tx0y0 = texture2D(texture, uv+texel*vec2(-1, -1)).rgb;\\n\\tvec3 tx0y1 = texture2D(texture, uv+texel*vec2(-1,  0)).rgb;\\n\\tvec3 tx0y2 = texture2D(texture, uv+texel*vec2(-1,  1)).rgb;\\n\\tvec3 tx1y0 = texture2D(texture, uv+texel*vec2( 0, -1)).rgb;\\n\\tvec3 tx1y1 = texture2D(texture, uv+texel*vec2( 0,  0)).rgb;\\n\\tvec3 tx1y2 = texture2D(texture, uv+texel*vec2( 0,  1)).rgb;\\n\\tvec3 tx2y0 = texture2D(texture, uv+texel*vec2( 1, -1)).rgb;\\n\\tvec3 tx2y1 = texture2D(texture, uv+texel*vec2( 1,  0)).rgb;\\n\\tvec3 tx2y2 = texture2D(texture, uv+texel*vec2( 1,  1)).rgb;\\n\\n\\tvec3 valueGx = Gx[0][0]*tx0y0 + Gx[1][0]*tx1y0 + Gx[2][0]*tx2y0 +\\tGx[0][1]*tx0y1 + Gx[1][1]*tx1y1 + Gx[2][1]*tx2y1 + Gx[0][2]*tx0y2 + Gx[1][2]*tx1y2 + Gx[2][2]*tx2y2;\\n\\n\\tvec3 valueGy = Gy[0][0]*tx0y0 + Gy[1][0]*tx1y0 + Gy[2][0]*tx2y0 +\\tGy[0][1]*tx0y1 + Gy[1][1]*tx1y1 + Gy[2][1]*tx2y1 + Gy[0][2]*tx0y2 + Gy[1][2]*tx1y2 + Gy[2][2]*tx2y2;\\n\\n\\tvec3 destColor = sqrt(valueGx*valueGx + valueGy*valueGy);\\n\\treturn vec4(destColor, 1.0);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n  vec2 uv = vUv;\\n\\n\\tvec4 color = texture2D(u_map1, uv);\\n\\tvec4 sobel = sobel_0(uv, u_map1, u_resolution);\\n\\n\\tgl_FragColor = mix(color, sobel, u_amount);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_split;\\nuniform float u_offset;\\n\\nvarying vec2 vUv;\\n\\nvec2 splitScreen(vec2 position, vec2 offset, float split){\\n\\tvec2 p = position;\\n\\tp += vec2(offset);\\n\\tp *= split;\\n\\tp -= vec2(offset);\\n\\tp = fract(p);\\n\\treturn p;\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 uv = vUv;\\n\\n\\tuv = splitScreen(uv, vec2(u_offset), u_split);\\n\\n\\tgl_FragColor= texture2D( u_map1, uv);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_angle;\\n\\nvarying vec2 vUv;\\n\\n#define PI 3.14159265359\\n\\nmat2 rotate(float angle){\\n\\tfloat c=cos(angle);\\n\\tfloat s=sin(angle);\\n\\treturn mat2(c,-s,s,c);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 uv = vUv;\\n\\n\\t// DEMO3: Circle Gradient\\n\\tvec2 st = vec2(.5) - uv;\\n\\tst *= rotate(u_angle);\\n\\tfloat a = atan(st.y, st.x);\\n\\t// a  abs(sin(u_time))\\n\\tfloat c = (a + PI) / (PI * 2.);\\n\\tgl_FragColor= vec4(c, c, c, 1.0);\\n\\n\\t// DEMO4: Circle Gradient Repetition\\n\\t// vec2 st=vec2(.5)-uv;\\n\\t// float a=atan(st.y,st.x);\\n\\t// float c=abs(sin(a*5.*.5));\\n\\t// gl_FragColor=vec4(c,c,c,1.);\\n\\n\\t// DEMO2: ring\\n\\t// float d = distance(vUv, vec2(0.5));\\n\\t// d *= 30.;\\n\\t// d = abs(sin(d-u_time * 2.0));\\n\\t// d = step(0.7, d);\\n\\t// float c = d;\\n\\t// gl_FragColor= vec4(c, c, c, 1.0);\\n\\n\\t// DEMO1: circle\\n\\t// float d = distance(vUv, vec2(0.5));\\n\\t// float a = abs(sin(u_time)) * 0.5;\\n\\t// float c = step(d, a);\\n\\t// gl_FragColor= vec4(c, c, c, 1.0);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\n\\nvarying vec2 vUv;\\n\\n#define PI 3.14159265359\\n\\nvec4 box(vec2 position, float size, vec4 color){\\n\\tsize=.5+size*.5;\\n\\tvec2 size2=vec2(size);\\n\\tvec2 pos=step(position,size2)*step(1.-position,size2);\\n\\treturn vec4(color.rgb, step(size, pos.x*pos.y));\\n\\t// return pos.x*pos.y;\\n}\\n\\n// float box(vec2 st, float size)\\n// {\\n// \\tsize =.5 + size * .5;\\n// \\tvec2 size2 = vec2(size);\\n// \\tst = step(st, size2) * step(1.-st, size2);\\n// \\treturn st.x * st.y;\\n// }\\n\\nfloat dotWave(vec2 position, float grid){\\n\\tposition=(floor(position*grid) + vec2(.5))/grid;\\n\\tfloat d=distance(vec2(.5), position);\\n\\treturn (1.+sin(d*3.-u_time*3.))*.5;\\n}\\n\\nfloat boxWave(vec2 uv,float n){\\n\\tvec2 st=fract(uv*n);\\n\\tfloat size=dotWave(uv,n);\\n\\tvec4 color = box(st, size, vec4(1.0));\\n\\treturn color.a;\\n}\\n\\n// next\\nfloat rand(vec2 st)\\n{\\n\\treturn fract(sin(dot(st, vec2(12.9898,78.233)))*43758.5453);\\n}\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 uv = vUv;\\n\\n\\t// float n = 10.;\\n\\t// vec2 st = fract(uv * n);\\n\\t// float size = dotWave(uv, n); // 0 - 1\\n\\t// gl_FragColor= box(st, size, color);\\n\\n\\tgl_FragColor= vec4(\\n\\t\\tboxWave(uv, 9.),\\n\\t\\tboxWave(uv, 18.),\\n\\t\\tboxWave(uv, 36.),\\n\\t\\t1.\\n\\t);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\n\\nvarying vec2 vUv;\\n\\n#define PI 3.14159265359\\n\\nvec4 box(vec2 position, float size, vec4 color){\\n\\tsize=.5+size*.5;\\n\\tvec2 size2=vec2(size);\\n\\tvec2 pos=step(position,size2)*step(1.-position,size2);\\n\\treturn vec4(color.rgb, step(size, pos.x*pos.y));\\n\\t// return pos.x*pos.y;\\n}\\n\\nfloat random (vec2 st_0) {\\n  return fract(sin(dot(st_0.xy, vec2(12.9898,78.233)))*43758.5453123);\\n}\\n\\nfloat dotWave(vec2 position, float grid){\\n\\tposition=(floor(position*grid) + vec2(.5))/grid;\\n\\tfloat d=distance(vec2(.5), position);\\n\\treturn (1.+sin(d*3.-u_time*3.))*.5;\\n}\\n\\nfloat boxWave(vec2 uv,float n){\\n\\tvec2 st=fract(uv*n);\\n\\tfloat size=dotWave(uv,n);\\n\\tvec4 color = box(st, size, vec4(1.0));\\n\\treturn color.a;\\n}\\n\\nfloat boxSize(vec2 st, float n){\\n\\tst = (floor(st * n) + .5) / n;\\n\\tfloat offs = random(st) * 5.;\\n\\treturn (1. + sin(u_time * 3. + offs)) * .5;\\n}\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 uv = vUv;\\n\\n\\tfloat n = 10.;\\n\\tvec2 st = fract(uv * n);\\n\\n\\t// float size = boxSize(uv, n);\\n\\tvec2 st2 = (floor(uv * n) + .5) / n;\\n\\tfloat offs = random(st2) * 5.;\\n\\tfloat size = (1. + sin(u_time * 3. + offs)) * .5;\\n\\n\\tgl_FragColor= box(st, size, color);\\n\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_amount;\\nuniform float u_speed;\\n\\nvarying vec2 vUv;\\n\\n//2D (returns 0 - 1)\\nfloat random2d(vec2 v2) {\\n\\treturn fract(sin(dot(v2, vec2(12.9898, 4.1414))) * 43758.5453);\\n}\\n\\nfloat inRandomRange (in vec2 seed, in float min, in float max) {\\n\\treturn min + random2d(seed) * (max - min);\\n}\\n\\n// return 1 if v inside 1d range\\nfloat insideRange(float v, float bottom, float top) {\\n\\treturn step(bottom, v) - step(top, v);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 uv = vUv;\\n\\n\\tfloat time = floor(u_time * u_speed * 60.0);\\n\\tvec4 color = texture2D(u_map1, uv);\\n\\n\\t//randomly offset slices horizontally\\n\\tfloat maxOffset = u_amount/2.0;\\n\\tfloat max = 10.0 * u_amount;\\n\\n\\tfor (float i = 0.0; i < 10.0; i += 1.0) {\\n\\t\\tfloat sliceY = random2d(vec2(time, 2345.0 + float(i)));\\n\\t\\tfloat sliceH = random2d(vec2(time, 9035.0 + float(i))) * 0.25;\\n\\n\\t\\tfloat hOffset = inRandomRange(\\n\\t\\t\\tvec2(time, 9625.0 + float(i)), -maxOffset, maxOffset\\n\\t\\t);\\n\\n\\t\\tvec2 uvOff = uv;\\n\\t\\tuvOff.x += hOffset;\\n\\n\\t\\tif (insideRange(uv.y, sliceY, fract(sliceY+sliceH)) == 1.0 ){\\n\\t\\t\\tcolor = texture2D(u_map1, fract(uvOff));\\n\\t\\t\\t// color = texture2D(u_map1, uvOff);\\n\\t\\t}\\n\\t}\\n\\n\\tgl_FragColor = color;\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_amount;\\nuniform float u_speed;\\nuniform bool u_rgbSlice;\\n\\nvarying vec2 vUv;\\n\\n//2D (returns 0 - 1)\\nfloat random2d(vec2 v2) {\\n\\treturn fract(sin(dot(v2, vec2(12.9898, 4.1414))) * 43758.5453);\\n}\\n\\nfloat inRandomRange (in vec2 seed, in float min, in float max) {\\n\\treturn min + random2d(seed) * (max - min);\\n}\\n\\n// return 1 if v inside 1d range\\nfloat insideRange(float v, float bottom, float top) {\\n\\treturn step(bottom, v) - step(top, v);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 uv = vUv;\\n\\n\\tfloat time = floor(u_time * u_speed * 60.0);\\n\\tvec4 color = texture2D(u_map1, uv);\\n\\n\\t//randomly offset slices horizontally\\n\\tfloat maxOffset = u_amount/2.0;\\n\\tfloat max = 10.0 * u_amount;\\n\\tvec2 guv = vec2(0.0);\\n\\n\\tfor (float i = 0.0; i < 10.0; i += 1.0) {\\n\\t\\tfloat sliceY = random2d(vec2(time, 2345.0 + float(i)));\\n\\t\\tfloat sliceH = random2d(vec2(time, 9035.0 + float(i))) * 0.25;\\n\\n\\t\\tfloat hOffset = inRandomRange(\\n\\t\\t\\tvec2(time, 9625.0 + float(i)), -maxOffset, maxOffset\\n\\t\\t);\\n\\n\\t\\tvec2 uvOff = uv;\\n\\t\\tuvOff.x += hOffset;\\n\\n\\t\\tif (insideRange(uv.y, sliceY, fract(sliceY+sliceH)) == 1.0 ){\\n\\t\\t\\tcolor = texture2D(u_map1, fract(uvOff));\\n\\t\\t\\tguv = uvOff;\\n\\t\\t\\t// color = texture2D(u_map1, uvOff);\\n\\t\\t}\\n\\t}\\n\\n\\t// rgb slice\\n\\tif(u_rgbSlice){\\n\\t\\tfloat maxColOffset = u_amount/6.0;\\n\\n\\t\\tvec2 colOffset = vec2(\\n\\t\\t\\tinRandomRange(vec2(time, 9545.0), -maxColOffset, maxColOffset), inRandomRange(vec2(time, 7205.0), -maxColOffset, maxColOffset)\\n\\t\\t);\\n\\n\\t\\t// colOffset = vec2(0.01);\\n\\t\\tvec2 gUv = fract(uv + colOffset);\\n\\n\\t\\tfloat rnd = random2d(vec2(time , 9545.0));\\n\\n\\t\\tif (rnd < 0.33){\\n\\t\\t\\tcolor.r = texture2D(u_map1, gUv).r;\\n\\t\\t}else if (rnd < 0.66){\\n\\t\\t\\tcolor.g = texture2D(u_map1, gUv).g;\\n\\t\\t} else{\\n\\t\\t\\tcolor.b = texture2D(u_map1, gUv).b;\\n\\t\\t}\\n\\t}\\n\\n\\tgl_FragColor = color;\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_amount;\\nuniform vec3 u_color1;\\nuniform vec3 u_color2;\\n\\nvarying vec2 vUv;\\n\\n// vec3 LUMINANCE = vec3(0.298912, 0.586611, 0.114478);\\n\\nvec4 grayscale(vec4 color){\\n\\treturn vec4(\\n\\t\\tvec3(dot(color.rgb, vec3(0.298912, 0.586611, 0.11447))),\\n\\t\\tcolor.a\\n\\t);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 uv = vUv;\\n\\n\\tvec4 color = texture2D(u_map1, uv);\\n\\tvec4 gray = grayscale(color);\\n\\tvec4 duoTone = vec4(mix(u_color1,u_color2,gray.rgb), color.a);\\n\\tgl_FragColor = mix(color,duoTone,u_amount);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nvarying vec2 vUv;\\n\\n// #pragma glslify:circle=require(\\\"../circle.frag\\\")\\n\\nvec2 square(vec2 p){\\n\\treturn vec2(abs(p.x)+abs(p.y),.5);\\n}\\n\\nvec2 circle(vec2 p){\\n\\treturn vec2(length(p),.5);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 p=(gl_FragCoord.xy*2.-u_resolution)/min(u_resolution.x,u_resolution.y);\\n\\n\\tfloat a=sin(u_time*5.)*.5+.5;\\n\\tvec2 d=mix(circle(p),square(p),a);\\n\\n\\tvec3 color=mix(vec3(1.),vec3(0.),step(d.x,d.y));\\n\\n\\tgl_FragColor=vec4(color,1.);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\n\\nvarying vec2 vUv;\\n\\nvec2 square(vec2 p){\\n\\treturn vec2(abs(p.x)+abs(p.y),.5);\\n}\\n\\nvec2 circle(vec2 p){\\n\\treturn vec2(length(p),.5);\\n}\\n\\nvec2 heart(vec2 st){\\n\\tst=(st)*vec2(2.1, 2.8);\\n\\treturn vec2(\\n\\t\\tpow(st.x, 2.)+pow(st.y-sqrt(abs(st.x)),2.),\\n\\t\\t1.\\n\\t);\\n}\\n\\n// 距離関数の補間 ( x = 距離, y = 閾値 )\\nvec2 morphing(vec2 p){\\n\\tfloat t=u_time*2.5;\\n\\n\\t// 距離関数のペア// loop[0, 1, 2]\\n\\tint pair=int(floor(mod(t,3.)));\\n\\n\\t// 補間値\\n\\tfloat a=smoothstep(.2,.8,mod(t,1.));\\n\\n\\tif(pair==0)return mix(heart(p),circle(p),a);\\n\\tif(pair==1)return mix(circle(p),square(p),a);\\n\\telse return mix(square(p),heart(p),a);\\n}\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 p=(gl_FragCoord.xy*2.-u_resolution)/min(u_resolution.x,u_resolution.y);\\n\\n\\tvec2 d=morphing(p);\\n\\tvec3 color=mix(vec3(1.),vec3(0.),step(d.x,d.y));\\n\\n\\tgl_FragColor=vec4(color,1.);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\n\\nvarying vec2 vUv;\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\t// vec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 p=(gl_FragCoord.xy*2.-u_resolution)/min(u_resolution.x,u_resolution.y);\\n\\n\\t// p = abs(p);\\n\\n\\tp = abs(p * 2.) - 1.0;\\n\\tfloat c = cos(u_time), s = sin(u_time);\\n\\tp *= mat2(c, s, -s, c);\\n\\n   vec2 axis = 1.0 - smoothstep(0.01, 0.02, abs(p));\\n   vec2 color = mix(p, vec2(1), axis.x + axis.y);\\n\\n\\t// vec2 color=p;\\n\\n\\t// vec2 axis = 1.-smoothstep(.01,.02,abs(p));\\n\\t// vec2 color= mix(p, vec2(1.), axis.x+axis.y);\\n\\n\\tgl_FragColor = vec4(color, 1.0, 1.0);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform sampler2D u_map1;\\nuniform float u_tile;\\n\\nvarying vec2 vUv;\\n\\nvoid main(){\\n\\t// vec4 color=vec4(0.1647, 0.3843, 0.4549, 1.0);\\n\\tvec2 st = gl_FragCoord.xy/u_resolution.xy;\\n\\t// vec2 p=(gl_FragCoord.xy*2.-u_resolution)/min(u_resolution.x,u_resolution.y);\\n\\n\\tst = fract(st * u_tile);\\n\\tvec2 p = st * 2. - vec2(1.0);\\n\\n\\tp = abs(p * 2.) - 1.0;\\n\\n\\tfloat c = cos(u_time), s = sin(u_time);\\n\\tp *= mat2(c, s, -s, c);\\n\\n\\tvec2 axis = 1.0 - smoothstep(0.01, 0.02, abs(p));\\n\\tvec2 color = mix(p, vec2(1), axis.x + axis.y);\\n\\n\\tgl_FragColor = vec4(color, 1.0, 1.0);\\n}\\n\";"],"sourceRoot":""}