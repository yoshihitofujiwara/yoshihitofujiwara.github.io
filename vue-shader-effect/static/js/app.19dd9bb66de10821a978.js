webpackJsonp([1],{"+b2m":function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\n\nuniform float uProgress;\nuniform float uAmount;\nuniform float uAngle;\nuniform int uIsOver;\nuniform int uDirection;\nuniform sampler2D uTexture;\nuniform sampler2D uPattern;\n\nvoid main(void) {\n\t\n\t\n\n\tvec2 uv = vTextureCoord;\n\tvec4 disp = texture2D(uPattern, uv);\n\n\tfloat offset1 = uProgress * (disp.r * uAmount);\n\tfloat offset2 = (1.0 - uProgress) * (disp.r * uAmount);\n\n\tfloat x = cos(uAngle);\n\tfloat y = sin(uAngle);\n\n\tvec2 distCoord1 = vec2(uv.x + -x * offset1, uv.y + -y * offset1);\n\tvec2 distCoord2 = vec2(uv.x + x * offset2, uv.y + y * offset2);\n\n\t\n\t\n\n\t\n\t\n\t\n\t\n\t\n\n\t\n\t\n\t\n\n\t\n\t\n\t\n\t\n\n\tvec4 color1 = texture2D(uSampler, distCoord1);\n\tvec4 color2 = texture2D(uTexture, distCoord2);\n\n\tgl_FragColor = mix(color1, color2, uProgress);\n}\n"},"7WmY":function(t,e){},"86UE":function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\n\nuniform float uProgress;\nuniform int uDirection;\n\nvoid main(void) {\n\tvec4 color = texture2D(uSampler, vTextureCoord);\n\n\tif(0 == uDirection){ \n\t\tif(uProgress > vTextureCoord.y){\n\t\t\tvec2 lineCoord = vec2(vTextureCoord.x, uProgress);\n\t\t\tcolor = texture2D(uSampler, lineCoord);\n\t\t}\n\n\t} else if(2 == uDirection){ \n\t\tif(uProgress > 1.0 - vTextureCoord.y){\n\t\t\tvec2 lineCoord = vec2(vTextureCoord.x, 1.0 - uProgress);\n\t\t\tcolor = texture2D(uSampler, lineCoord);\n\t\t}\n\n\t} else if(1 == uDirection){ \n\t\tif(uProgress > 1.0 - vTextureCoord.x){\n\t\t\tvec2 lineCoord = vec2(1.0 - uProgress, vTextureCoord.y);\n\t\t\tcolor = texture2D(uSampler, lineCoord);\n\t\t}\n\t} else if(3 == uDirection){ \n\t\tif(uProgress > vTextureCoord.x){\n\t\t\tvec2 lineCoord = vec2(uProgress, vTextureCoord.y);\n\t\t\tcolor = texture2D(uSampler, lineCoord);\n\t\t}\n\t}\n\n\tgl_FragColor = color;\n\t\n\t\n}\n"},A7zm:function(t,e,n){t.exports=n.p+"static/img/img02.a527537.jpg"},CVLP:function(t,e){},DTtj:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("ul",{staticClass:"links"},[e("li",[e("router-link",{attrs:{to:"distortion"}},[this._v("Distortion")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:"line"}},[this._v("Line")])],1)])],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},r,!1,function(t){n("7WmY")},null,null).exports,s=n("/ocq"),u=n("+Uzz"),a=n("Zrlr"),l=n.n(a),f=n("wxAW"),d=n.n(f),c=n("50uv"),h=n("+G5l"),m=n("/lao"),p=n.n(m),v=function(){function t(){l()(this,t),this.gui=new h.a({autoPlace:!1}),this.stats=new p.a}return d()(t,[{key:"setup",value:function(t){this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",this.stats.domElement.style.zIndex=9999,t.appendChild(this.stats.domElement),this.gui.domElement.style.position="fixed",this.gui.domElement.style.top="0",this.gui.domElement.style.right="0",t.appendChild(this.gui.domElement),this._update()}},{key:"_update",value:function(){this.stats.update(),requestAnimationFrame(this._update.bind(this))}}]),t}(),g=n("Zx67"),x=n.n(g),y=n("woOf"),C=n.n(y),P=n("zwoO"),T=n.n(P),_=n("Pf15"),w=n.n(_),D=function(t){function e(t){l()(this,e);var i=C()({uDirection:{type:"1i",value:0},uAmount:{type:"1f",value:.5},uIsOver:{type:"1i",value:0},uProgress:{type:"1f",value:0},uTexture:{type:"sampler2D",value:null},uPattern:{type:"sampler2D",value:null}},t),r=T()(this,(e.__proto__||x()(e)).call(this,n("wVmX"),n("+b2m"),i));return r.padding=0,r}return w()(e,t),e}(c.Filter),b=function(){function t(e){l()(this,t),this.props=e,this.loader=new c.loaders.Loader,this.debugTool=new v,this.app=null,this.sprite=null,this.effect=null}return d()(t,[{key:"setup",value:function(t){var e=this;this.effect=new D(t.uniforms),this.loader.add("texture1",this.props.texture1),this.loader.add("texture2",this.props.texture2),this.loader.add("pattern",this.props.pattern),this.loader.onComplete.add(function(n,i){e._setRenderer(t.$el,t.callback)}),this.loader.onError.add(function(t,e){console.log(t,e)}),this.loader.load()}},{key:"_setRenderer",value:function(t,e){e=e||function(){},c.utils.skipHello(),this.app=new c.Application({width:this.props.width,height:this.props.height,transparent:!0}),this.effect.uniforms.uTexture=PIXI.Texture.fromImage("texture2"),this.effect.uniforms.uPattern=PIXI.Texture.fromImage("pattern"),this.sprite=new c.Sprite(PIXI.Texture.fromImage("texture1")),this.sprite.filters=[this.effect],this.app.stage.addChild(this.sprite),t.appendChild(this.app.view),e()}}]),t}();function A(t){return function(t,e){var n=t.width,i=t.height,r=(e.x-t.x-n/2)*(n>i?i/n:1),o=(e.y-t.y-i/2)*(i>n?n/i:1),s=Math.round((Math.atan2(o,r)*(180/Math.PI)+180)/90+3)%4;return{index:s,direction:["top","right","bottom","left"][s]}}({x:0,y:0,width:t.srcElement.offsetWidth,height:t.srcElement.offsetHeight},{x:t.offsetX,y:t.offsetY})}var I={name:"Distortion",data:function(){return{uniforms:{uDirection:{type:"1i",value:0},uAngle:{type:"1f",value:0},uIsOver:{type:"1i",value:0},uAmount:{type:"1f",value:.5},uProgress:{type:"1f",value:0}},main:new b({width:1280,height:720,texture1:n("uxkH"),texture2:n("A7zm"),pattern:n("RmoU")})}},mounted:function(){this.main.setup({$el:this.$refs.shader_effect,uniforms:this.uniforms,callback:null}),this.main.debugTool&&(this.main.debugTool.gui.add(this.uniforms.uAmount,"value",0,3).step(.1).name("amount"),this.main.debugTool.gui.add(this.uniforms.uProgress,"value",0,1).step(.001).name("progress"),this.main.debugTool.setup(this.$el))},methods:{hover:function(t){var e=void 0;if("mouseleave"==t.type)e=0;else{if("mouseenter"!=t.type)return;e=1}this.uniforms.uIsOver.value=e,this.uniforms.uAngle.value=function(t){var e=.5*t.srcElement.offsetWidth,n=.5*t.srcElement.offsetHeight;return Math.atan2(n-t.offsetY,e-t.offsetX)}(t),u.a.to(this.uniforms.uProgress,.6,{value:e,ease:Power3.easeOut})}},watch:{"uniforms.uDirection.value":function(t,e){this.main.effect.uniforms.uDirection=t},"uniforms.uIsOver.value":function(t,e){this.main.effect.uniforms.uIsOver=t},"uniforms.uAngle.value":function(t,e){this.main.effect.uniforms.uAngle=t},"uniforms.uAmount.value":function(t,e){this.main.effect.uniforms.uAmount=t},"uniforms.uProgress.value":function(t,e){this.main.effect.uniforms.uProgress=t,this.main.debugTool&&this.main.debugTool.gui.updateDisplay()}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("h1",[this._v("vue-shader-effect | Distortion")]),this._v(" "),e("div",{ref:"shader_effect",staticClass:"shader_effect",on:{mouseenter:this.hover,mouseleave:this.hover}},[this._t("default")],2)])},staticRenderFns:[]};var E=n("VU/8")(I,k,!1,function(t){n("DTtj")},null,null).exports,F=function(t){function e(t){l()(this,e);var i=C()({uDirection:{type:"1i",value:0},uProgress:{type:"1f",value:0}},t),r=T()(this,(e.__proto__||x()(e)).call(this,n("k58W"),n("86UE"),i));return r.padding=0,r}return w()(e,t),e}(c.Filter),L=function(){function t(e){l()(this,t),this.props=e,this.loader=new c.loaders.Loader,this.debugTool=new v,this.app=null,this.sprite=null,this.effect=null}return d()(t,[{key:"setup",value:function(t){var e=this;this.effect=new F(t.uniforms),this.loader.add("texture",this.props.texture),this.loader.onComplete.add(function(n,i){e._setRenderer(t.$el,t.callback)}),this.loader.onError.add(function(t,e){console.log(t,e)}),this.loader.load()}},{key:"_setRenderer",value:function(t,e){e=e||function(){},c.utils.skipHello(),this.app=new c.Application({width:this.props.width,height:this.props.height,transparent:!0}),this.sprite=new c.Sprite(PIXI.Texture.fromImage("texture")),this.sprite.filters=[this.effect],this.app.stage.addChild(this.sprite),t.appendChild(this.app.view),e()}}]),t}(),S={name:"Line",data:function(){return{uniforms:{uDirection:{type:"1i",value:0},uProgress:{type:"1f",value:0}},main:new L({width:1280,height:720,texture:n("OWKH")})}},mounted:function(){this.main.setup({$el:this.$refs.shader_effect,uniforms:this.uniforms,callback:null}),this.main.debugTool&&(this.main.debugTool.gui.add(this.uniforms.uProgress,"value",0,1).step(.001).name("progress"),this.main.debugTool.setup(this.$el))},methods:{hover:function(t){var e=void 0;if("mouseleave"==t.type)e=0;else{if("mouseenter"!=t.type)return;e=1}this.uniforms.uDirection.value=A(t).index,u.a.to(this.uniforms.uProgress,.6,{value:e,ease:Power3.easeOut})}},watch:{"uniforms.uDirection.value":function(t,e){this.main.effect.uniforms.uDirection=t},"uniforms.uProgress.value":function(t,e){this.main.effect.uniforms.uProgress=t,this.main.debugTool&&this.main.debugTool.gui.updateDisplay()}}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("h1",[this._v("vue-shader-effect | Line")]),this._v(" "),e("div",{ref:"shader_effect",staticClass:"shader_effect",on:{mouseenter:this.hover,mouseleave:this.hover}},[this._t("default")],2)])},staticRenderFns:[]};var O=n("VU/8")(S,M,!1,function(t){n("CVLP")},null,null).exports;i.a.use(s.a);var V=new s.a({routes:[{path:"/distortion",name:"Distortion",component:E},{path:"/line",name:"Line",component:O}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:V,components:{App:o},template:"<App/>"})},OWKH:function(t,e,n){t.exports=n.p+"static/img/img03.b09705a.jpg"},RmoU:function(t,e,n){t.exports=n.p+"static/img/4.3408054.png"},k58W:function(t,e){t.exports="#define GLSLIFY 1\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void){\n\tgl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\tvFilterCoord = (filterMatrix * vec3(aTextureCoord, 1.0)).xy;\n\tvTextureCoord = aTextureCoord;\n}\n"},uxkH:function(t,e,n){t.exports=n.p+"static/img/img01.2c0cbf9.jpg"},wVmX:function(t,e){t.exports="#define GLSLIFY 1\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void){\n\tgl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\tvFilterCoord = (filterMatrix * vec3(aTextureCoord, 1.0)).xy;\n\tvTextureCoord = aTextureCoord;\n}\n"}},["NHnr"]);
//# sourceMappingURL=app.19dd9bb66de10821a978.js.map